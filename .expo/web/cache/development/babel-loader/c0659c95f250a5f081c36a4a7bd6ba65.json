{"ast":null,"code":"var _extends2 = require(\"@babel/runtime/helpers/extends\");\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react-native'), require('react')) : typeof define === 'function' && define.amd ? define(['exports', 'react-native', 'react'], factory) : (global = global || self, factory(global.ReactNativePopupMenu = {}, global.reactNative, global.React));\n})(this, function (exports, reactNative, React) {\n  'use strict';\n\n  var React__default = 'default' in React ? React['default'] : React;\n\n  if (!reactNative.Platform.select) {\n    reactNative.Platform.select = function (obj) {\n      return obj[reactNative.Platform.OS];\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n      var ownKeys = Object.keys(source);\n\n      if (typeof Object.getOwnPropertySymbols === 'function') {\n        ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n        }));\n      }\n\n      ownKeys.forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    }\n\n    return target;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  var measure = function measure(ref) {\n    return new Promise(function (resolve) {\n      ref.measure(function (x, y, width, height, pageX, pageY) {\n        resolve({\n          x: pageX,\n          y: pageY,\n          width: width,\n          height: height\n        });\n      });\n    });\n  };\n\n  var makeName = function () {\n    var nextID = 1;\n    return function () {\n      return \"menu-\".concat(nextID++);\n    };\n  }();\n\n  function makeTouchable(TouchableComponent) {\n    var Touchable = TouchableComponent || reactNative.Platform.select({\n      android: reactNative.TouchableNativeFeedback,\n      ios: reactNative.TouchableHighlight,\n      default: reactNative.TouchableHighlight\n    });\n    var defaultTouchableProps = {};\n\n    if (Touchable === reactNative.TouchableHighlight) {\n      defaultTouchableProps = {\n        underlayColor: 'rgba(0, 0, 0, 0.1)'\n      };\n    }\n\n    return {\n      Touchable: Touchable,\n      defaultTouchableProps: defaultTouchableProps\n    };\n  }\n\n  function iterator2array(it) {\n    var arr = [];\n\n    for (var next = it.next(); !next.done; next = it.next()) {\n      arr.push(next.value);\n    }\n\n    return arr;\n  }\n\n  function isClassComponent(component) {\n    return component.prototype && !!component.prototype.render;\n  }\n\n  function deprecatedComponent(message) {\n    var methods = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    return function deprecatedComponentHOC(Component) {\n      var _temp;\n\n      return _temp = function (_React$Component) {\n        _inherits(DeprecatedComponent, _React$Component);\n\n        function DeprecatedComponent() {\n          var _getPrototypeOf2;\n\n          var _this;\n\n          _classCallCheck(this, DeprecatedComponent);\n\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(DeprecatedComponent)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n          _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onRef\", function (ref) {\n            return _this.ref = ref;\n          });\n\n          methods.forEach(function (name) {\n            _this[name] = function () {\n              var _this$ref;\n\n              return _this.ref && (_this$ref = _this.ref)[name].apply(_this$ref, arguments);\n            };\n          });\n          return _this;\n        }\n\n        _createClass(DeprecatedComponent, [{\n          key: \"render\",\n          value: function render() {\n            return React__default.createElement(Component, _extends({}, this.props, {\n              ref: this.onRef\n            }));\n          }\n        }, {\n          key: \"componentDidMount\",\n          value: function componentDidMount() {\n            console.warn(message);\n          }\n        }]);\n\n        return DeprecatedComponent;\n      }(React__default.Component), _temp;\n    };\n  }\n\n  function createCommonjsModule(fn, module) {\n    return module = {\n      exports: {}\n    }, fn(module, module.exports), module.exports;\n  }\n  /*\n  object-assign\n  (c) Sindre Sorhus\n  @license MIT\n  */\n\n\n  var getOwnPropertySymbols = Object.getOwnPropertySymbols;\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n  var propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\n  function toObject(val) {\n    if (val === null || val === undefined) {\n      throw new TypeError('Object.assign cannot be called with null or undefined');\n    }\n\n    return Object(val);\n  }\n\n  function shouldUseNative() {\n    try {\n      if (!Object.assign) {\n        return false;\n      }\n\n      var test1 = new String('abc');\n      test1[5] = 'de';\n\n      if (Object.getOwnPropertyNames(test1)[0] === '5') {\n        return false;\n      }\n\n      var test2 = {};\n\n      for (var i = 0; i < 10; i++) {\n        test2['_' + String.fromCharCode(i)] = i;\n      }\n\n      var order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n        return test2[n];\n      });\n\n      if (order2.join('') !== '0123456789') {\n        return false;\n      }\n\n      var test3 = {};\n      'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n        test3[letter] = letter;\n      });\n\n      if (Object.keys(_extends2({}, test3)).join('') !== 'abcdefghijklmnopqrst') {\n        return false;\n      }\n\n      return true;\n    } catch (err) {\n      return false;\n    }\n  }\n\n  var objectAssign = shouldUseNative() ? Object.assign : function (target, source) {\n    var from;\n    var to = toObject(target);\n    var symbols;\n\n    for (var s = 1; s < arguments.length; s++) {\n      from = Object(arguments[s]);\n\n      for (var key in from) {\n        if (hasOwnProperty.call(from, key)) {\n          to[key] = from[key];\n        }\n      }\n\n      if (getOwnPropertySymbols) {\n        symbols = getOwnPropertySymbols(from);\n\n        for (var i = 0; i < symbols.length; i++) {\n          if (propIsEnumerable.call(from, symbols[i])) {\n            to[symbols[i]] = from[symbols[i]];\n          }\n        }\n      }\n    }\n\n    return to;\n  };\n  var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n  var ReactPropTypesSecret_1 = ReactPropTypesSecret;\n\n  var printWarning = function printWarning() {};\n\n  {\n    var ReactPropTypesSecret$1 = ReactPropTypesSecret_1;\n    var loggedTypeFailures = {};\n\n    printWarning = function printWarning(text) {\n      var message = 'Warning: ' + text;\n\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n\n      try {\n        throw new Error(message);\n      } catch (x) {}\n    };\n  }\n\n  function checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n    {\n      for (var typeSpecName in typeSpecs) {\n        if (typeSpecs.hasOwnProperty(typeSpecName)) {\n          var error;\n\n          try {\n            if (typeof typeSpecs[typeSpecName] !== 'function') {\n              var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.');\n              err.name = 'Invariant Violation';\n              throw err;\n            }\n\n            error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret$1);\n          } catch (ex) {\n            error = ex;\n          }\n\n          if (error && !(error instanceof Error)) {\n            printWarning((componentName || 'React class') + ': type specification of ' + location + ' `' + typeSpecName + '` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a ' + typeof error + '. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).');\n          }\n\n          if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n            loggedTypeFailures[error.message] = true;\n            var stack = getStack ? getStack() : '';\n            printWarning('Failed ' + location + ' type: ' + error.message + (stack != null ? stack : ''));\n          }\n        }\n      }\n    }\n  }\n\n  var checkPropTypes_1 = checkPropTypes;\n\n  var printWarning$1 = function printWarning$1() {};\n\n  {\n    printWarning$1 = function printWarning$1(text) {\n      var message = 'Warning: ' + text;\n\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n\n      try {\n        throw new Error(message);\n      } catch (x) {}\n    };\n  }\n\n  function emptyFunctionThatReturnsNull() {\n    return null;\n  }\n\n  var factoryWithTypeCheckers = function factoryWithTypeCheckers(isValidElement, throwOnDirectAccess) {\n    var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n    var FAUX_ITERATOR_SYMBOL = '@@iterator';\n\n    function getIteratorFn(maybeIterable) {\n      var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n\n      if (typeof iteratorFn === 'function') {\n        return iteratorFn;\n      }\n    }\n\n    var ANONYMOUS = '<<anonymous>>';\n    var ReactPropTypes = {\n      array: createPrimitiveTypeChecker('array'),\n      bool: createPrimitiveTypeChecker('boolean'),\n      func: createPrimitiveTypeChecker('function'),\n      number: createPrimitiveTypeChecker('number'),\n      object: createPrimitiveTypeChecker('object'),\n      string: createPrimitiveTypeChecker('string'),\n      symbol: createPrimitiveTypeChecker('symbol'),\n      any: createAnyTypeChecker(),\n      arrayOf: createArrayOfTypeChecker,\n      element: createElementTypeChecker(),\n      instanceOf: createInstanceTypeChecker,\n      node: createNodeChecker(),\n      objectOf: createObjectOfTypeChecker,\n      oneOf: createEnumTypeChecker,\n      oneOfType: createUnionTypeChecker,\n      shape: createShapeTypeChecker,\n      exact: createStrictShapeTypeChecker\n    };\n\n    function is(x, y) {\n      if (x === y) {\n        return x !== 0 || 1 / x === 1 / y;\n      } else {\n        return x !== x && y !== y;\n      }\n    }\n\n    function PropTypeError(message) {\n      this.message = message;\n      this.stack = '';\n    }\n\n    PropTypeError.prototype = Error.prototype;\n\n    function createChainableTypeChecker(validate) {\n      {\n        var manualPropTypeCallCache = {};\n        var manualPropTypeWarningCount = 0;\n      }\n\n      function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n        componentName = componentName || ANONYMOUS;\n        propFullName = propFullName || propName;\n\n        if (secret !== ReactPropTypesSecret_1) {\n          if (throwOnDirectAccess) {\n            var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use `PropTypes.checkPropTypes()` to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n            err.name = 'Invariant Violation';\n            throw err;\n          } else if (typeof console !== 'undefined') {\n            var cacheKey = componentName + ':' + propName;\n\n            if (!manualPropTypeCallCache[cacheKey] && manualPropTypeWarningCount < 3) {\n              printWarning$1('You are manually calling a React.PropTypes validation ' + 'function for the `' + propFullName + '` prop on `' + componentName + '`. This is deprecated ' + 'and will throw in the standalone `prop-types` package. ' + 'You may be seeing this warning due to a third-party PropTypes ' + 'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.');\n              manualPropTypeCallCache[cacheKey] = true;\n              manualPropTypeWarningCount++;\n            }\n          }\n        }\n\n        if (props[propName] == null) {\n          if (isRequired) {\n            if (props[propName] === null) {\n              return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n            }\n\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n          }\n\n          return null;\n        } else {\n          return validate(props, propName, componentName, location, propFullName);\n        }\n      }\n\n      var chainedCheckType = checkType.bind(null, false);\n      chainedCheckType.isRequired = checkType.bind(null, true);\n      return chainedCheckType;\n    }\n\n    function createPrimitiveTypeChecker(expectedType) {\n      function validate(props, propName, componentName, location, propFullName, secret) {\n        var propValue = props[propName];\n        var propType = getPropType(propValue);\n\n        if (propType !== expectedType) {\n          var preciseType = getPreciseType(propValue);\n          return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n        }\n\n        return null;\n      }\n\n      return createChainableTypeChecker(validate);\n    }\n\n    function createAnyTypeChecker() {\n      return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n    }\n\n    function createArrayOfTypeChecker(typeChecker) {\n      function validate(props, propName, componentName, location, propFullName) {\n        if (typeof typeChecker !== 'function') {\n          return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n        }\n\n        var propValue = props[propName];\n\n        if (!Array.isArray(propValue)) {\n          var propType = getPropType(propValue);\n          return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n        }\n\n        for (var i = 0; i < propValue.length; i++) {\n          var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret_1);\n\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n\n        return null;\n      }\n\n      return createChainableTypeChecker(validate);\n    }\n\n    function createElementTypeChecker() {\n      function validate(props, propName, componentName, location, propFullName) {\n        var propValue = props[propName];\n\n        if (!isValidElement(propValue)) {\n          var propType = getPropType(propValue);\n          return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n        }\n\n        return null;\n      }\n\n      return createChainableTypeChecker(validate);\n    }\n\n    function createInstanceTypeChecker(expectedClass) {\n      function validate(props, propName, componentName, location, propFullName) {\n        if (!(props[propName] instanceof expectedClass)) {\n          var expectedClassName = expectedClass.name || ANONYMOUS;\n          var actualClassName = getClassName(props[propName]);\n          return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n        }\n\n        return null;\n      }\n\n      return createChainableTypeChecker(validate);\n    }\n\n    function createEnumTypeChecker(expectedValues) {\n      if (!Array.isArray(expectedValues)) {\n        printWarning$1('Invalid argument supplied to oneOf, expected an instance of array.');\n        return emptyFunctionThatReturnsNull;\n      }\n\n      function validate(props, propName, componentName, location, propFullName) {\n        var propValue = props[propName];\n\n        for (var i = 0; i < expectedValues.length; i++) {\n          if (is(propValue, expectedValues[i])) {\n            return null;\n          }\n        }\n\n        var valuesString = JSON.stringify(expectedValues);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n      }\n\n      return createChainableTypeChecker(validate);\n    }\n\n    function createObjectOfTypeChecker(typeChecker) {\n      function validate(props, propName, componentName, location, propFullName) {\n        if (typeof typeChecker !== 'function') {\n          return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n        }\n\n        var propValue = props[propName];\n        var propType = getPropType(propValue);\n\n        if (propType !== 'object') {\n          return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n        }\n\n        for (var key in propValue) {\n          if (propValue.hasOwnProperty(key)) {\n            var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret_1);\n\n            if (error instanceof Error) {\n              return error;\n            }\n          }\n        }\n\n        return null;\n      }\n\n      return createChainableTypeChecker(validate);\n    }\n\n    function createUnionTypeChecker(arrayOfTypeCheckers) {\n      if (!Array.isArray(arrayOfTypeCheckers)) {\n        printWarning$1('Invalid argument supplied to oneOfType, expected an instance of array.');\n        return emptyFunctionThatReturnsNull;\n      }\n\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n\n        if (typeof checker !== 'function') {\n          printWarning$1('Invalid argument supplied to oneOfType. Expected an array of check functions, but ' + 'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.');\n          return emptyFunctionThatReturnsNull;\n        }\n      }\n\n      function validate(props, propName, componentName, location, propFullName) {\n        for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n          var checker = arrayOfTypeCheckers[i];\n\n          if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret_1) == null) {\n            return null;\n          }\n        }\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n      }\n\n      return createChainableTypeChecker(validate);\n    }\n\n    function createNodeChecker() {\n      function validate(props, propName, componentName, location, propFullName) {\n        if (!isNode(props[propName])) {\n          return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n        }\n\n        return null;\n      }\n\n      return createChainableTypeChecker(validate);\n    }\n\n    function createShapeTypeChecker(shapeTypes) {\n      function validate(props, propName, componentName, location, propFullName) {\n        var propValue = props[propName];\n        var propType = getPropType(propValue);\n\n        if (propType !== 'object') {\n          return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n        }\n\n        for (var key in shapeTypes) {\n          var checker = shapeTypes[key];\n\n          if (!checker) {\n            continue;\n          }\n\n          var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret_1);\n\n          if (error) {\n            return error;\n          }\n        }\n\n        return null;\n      }\n\n      return createChainableTypeChecker(validate);\n    }\n\n    function createStrictShapeTypeChecker(shapeTypes) {\n      function validate(props, propName, componentName, location, propFullName) {\n        var propValue = props[propName];\n        var propType = getPropType(propValue);\n\n        if (propType !== 'object') {\n          return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n        }\n\n        var allKeys = objectAssign({}, props[propName], shapeTypes);\n\n        for (var key in allKeys) {\n          var checker = shapeTypes[key];\n\n          if (!checker) {\n            return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' + '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') + '\\nValid keys: ' + JSON.stringify(Object.keys(shapeTypes), null, '  '));\n          }\n\n          var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret_1);\n\n          if (error) {\n            return error;\n          }\n        }\n\n        return null;\n      }\n\n      return createChainableTypeChecker(validate);\n    }\n\n    function isNode(propValue) {\n      switch (typeof propValue) {\n        case 'number':\n        case 'string':\n        case 'undefined':\n          return true;\n\n        case 'boolean':\n          return !propValue;\n\n        case 'object':\n          if (Array.isArray(propValue)) {\n            return propValue.every(isNode);\n          }\n\n          if (propValue === null || isValidElement(propValue)) {\n            return true;\n          }\n\n          var iteratorFn = getIteratorFn(propValue);\n\n          if (iteratorFn) {\n            var iterator = iteratorFn.call(propValue);\n            var step;\n\n            if (iteratorFn !== propValue.entries) {\n              while (!(step = iterator.next()).done) {\n                if (!isNode(step.value)) {\n                  return false;\n                }\n              }\n            } else {\n              while (!(step = iterator.next()).done) {\n                var entry = step.value;\n\n                if (entry) {\n                  if (!isNode(entry[1])) {\n                    return false;\n                  }\n                }\n              }\n            }\n          } else {\n            return false;\n          }\n\n          return true;\n\n        default:\n          return false;\n      }\n    }\n\n    function isSymbol(propType, propValue) {\n      if (propType === 'symbol') {\n        return true;\n      }\n\n      if (propValue['@@toStringTag'] === 'Symbol') {\n        return true;\n      }\n\n      if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n        return true;\n      }\n\n      return false;\n    }\n\n    function getPropType(propValue) {\n      var propType = typeof propValue;\n\n      if (Array.isArray(propValue)) {\n        return 'array';\n      }\n\n      if (propValue instanceof RegExp) {\n        return 'object';\n      }\n\n      if (isSymbol(propType, propValue)) {\n        return 'symbol';\n      }\n\n      return propType;\n    }\n\n    function getPreciseType(propValue) {\n      if (typeof propValue === 'undefined' || propValue === null) {\n        return '' + propValue;\n      }\n\n      var propType = getPropType(propValue);\n\n      if (propType === 'object') {\n        if (propValue instanceof Date) {\n          return 'date';\n        } else if (propValue instanceof RegExp) {\n          return 'regexp';\n        }\n      }\n\n      return propType;\n    }\n\n    function getPostfixForTypeWarning(value) {\n      var type = getPreciseType(value);\n\n      switch (type) {\n        case 'array':\n        case 'object':\n          return 'an ' + type;\n\n        case 'boolean':\n        case 'date':\n        case 'regexp':\n          return 'a ' + type;\n\n        default:\n          return type;\n      }\n    }\n\n    function getClassName(propValue) {\n      if (!propValue.constructor || !propValue.constructor.name) {\n        return ANONYMOUS;\n      }\n\n      return propValue.constructor.name;\n    }\n\n    ReactPropTypes.checkPropTypes = checkPropTypes_1;\n    ReactPropTypes.PropTypes = ReactPropTypes;\n    return ReactPropTypes;\n  };\n\n  var propTypes = createCommonjsModule(function (module) {\n    {\n      var REACT_ELEMENT_TYPE = typeof Symbol === 'function' && Symbol.for && Symbol.for('react.element') || 0xeac7;\n\n      var isValidElement = function isValidElement(object) {\n        return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n      };\n\n      var throwOnDirectAccess = true;\n      module.exports = factoryWithTypeCheckers(isValidElement, throwOnDirectAccess);\n    }\n  });\n\n  function withContext(Context) {\n    var propName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"context\";\n    return function wrap(Component) {\n      var EnhanceContext = function (_React$Component) {\n        _inherits(EnhanceContext, _React$Component);\n\n        function EnhanceContext() {\n          _classCallCheck(this, EnhanceContext);\n\n          return _possibleConstructorReturn(this, _getPrototypeOf(EnhanceContext).apply(this, arguments));\n        }\n\n        _createClass(EnhanceContext, [{\n          key: \"render\",\n          value: function render() {\n            var _this$props = this.props,\n                forwardedRef = _this$props.forwardedRef,\n                rest = _objectWithoutProperties(_this$props, [\"forwardedRef\"]);\n\n            return React__default.createElement(Context.Consumer, null, function (value) {\n              var _custom;\n\n              var custom = (_custom = {}, _defineProperty(_custom, propName, value), _defineProperty(_custom, \"ref\", forwardedRef), _custom);\n              return React__default.createElement(Component, _extends({}, custom, rest));\n            });\n          }\n        }]);\n\n        return EnhanceContext;\n      }(React__default.Component);\n\n      var name = Component.displayName || Component.name || \"Component\";\n      var consumerName = Context.Consumer.displayName || Context.Consumer.name || \"Context.Consumer\";\n\n      function enhanceForwardRef(props, ref) {\n        return React__default.createElement(EnhanceContext, _extends({}, props, {\n          forwardedRef: ref\n        }));\n      }\n\n      enhanceForwardRef.displayName = \"enhanceContext-\".concat(consumerName, \"(\").concat(name, \")\");\n      var FC = React__default.forwardRef(enhanceForwardRef);\n      FC.defaultProps = Component.defaultProps;\n      FC.propTypes = Component.propTypes;\n      return FC;\n    };\n  }\n\n  function makeMenuRegistry() {\n    var menus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Map();\n\n    function subscribe(instance) {\n      var name = instance.getName();\n\n      if (menus.get(name)) {\n        console.warn(\"incorrect usage of popup menu - menu with name \".concat(name, \" already exists\"));\n      }\n\n      menus.set(name, {\n        name: name,\n        instance: instance\n      });\n    }\n\n    function unsubscribe(instance) {\n      menus.delete(instance.getName());\n    }\n\n    function updateLayoutInfo(name) {\n      var layouts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (!menus.has(name)) {\n        return;\n      }\n\n      var menu = _extends2({}, menus.get(name));\n\n      if (layouts.hasOwnProperty('triggerLayout')) {\n        menu.triggerLayout = layouts.triggerLayout;\n      }\n\n      if (layouts.hasOwnProperty('optionsLayout')) {\n        menu.optionsLayout = layouts.optionsLayout;\n      }\n\n      menus.set(name, menu);\n    }\n\n    function setOptionsCustomStyles(name, optionsCustomStyles) {\n      if (!menus.has(name)) {\n        return;\n      }\n\n      var menu = _objectSpread({}, menus.get(name), {\n        optionsCustomStyles: optionsCustomStyles\n      });\n\n      menus.set(name, menu);\n    }\n\n    function getMenu(name) {\n      return menus.get(name);\n    }\n\n    function getAll() {\n      return iterator2array(menus.values());\n    }\n\n    return {\n      subscribe: subscribe,\n      unsubscribe: unsubscribe,\n      updateLayoutInfo: updateLayoutInfo,\n      getMenu: getMenu,\n      getAll: getAll,\n      setOptionsCustomStyles: setOptionsCustomStyles\n    };\n  }\n\n  var OPEN_ANIM_DURATION = 225;\n  var CLOSE_ANIM_DURATION = 195;\n  var USE_NATIVE_DRIVER = reactNative.Platform.OS !== \"web\";\n\n  var Backdrop = function (_Component) {\n    _inherits(Backdrop, _Component);\n\n    function Backdrop() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      _classCallCheck(this, Backdrop);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Backdrop)).call.apply(_getPrototypeOf2, [this].concat(args)));\n      _this.fadeAnim = new reactNative.Animated.Value(0.001);\n      return _this;\n    }\n\n    _createClass(Backdrop, [{\n      key: \"open\",\n      value: function open() {\n        var _this2 = this;\n\n        return new Promise(function (resolve) {\n          reactNative.Animated.timing(_this2.fadeAnim, {\n            duration: OPEN_ANIM_DURATION,\n            toValue: 1,\n            useNativeDriver: USE_NATIVE_DRIVER\n          }).start(resolve);\n        });\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        var _this3 = this;\n\n        return new Promise(function (resolve) {\n          reactNative.Animated.timing(_this3.fadeAnim, {\n            duration: CLOSE_ANIM_DURATION,\n            toValue: 0,\n            useNativeDriver: USE_NATIVE_DRIVER\n          }).start(resolve);\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props = this.props,\n            onPress = _this$props.onPress,\n            style = _this$props.style;\n        return React__default.createElement(reactNative.TouchableWithoutFeedback, {\n          onPress: onPress\n        }, React__default.createElement(reactNative.Animated.View, {\n          style: [styles.fullscreen, {\n            opacity: this.fadeAnim\n          }]\n        }, React__default.createElement(reactNative.View, {\n          style: [styles.fullscreen, style]\n        })));\n      }\n    }]);\n\n    return Backdrop;\n  }(React.Component);\n\n  Backdrop.propTypes = {\n    onPress: propTypes.func.isRequired\n  };\n  var styles = reactNative.StyleSheet.create({\n    fullscreen: {\n      opacity: 0,\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      bottom: 0,\n      right: 0\n    }\n  });\n  var CFG = {\n    debug: false\n  };\n\n  var debug = function debug() {\n    var _console;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    CFG.debug && (_console = console).log.apply(_console, ['react-native-popup-menu'].concat(args));\n  };\n\n  var MenuPlaceholder = function (_Component) {\n    _inherits(MenuPlaceholder, _Component);\n\n    function MenuPlaceholder(props) {\n      var _this;\n\n      _classCallCheck(this, MenuPlaceholder);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(MenuPlaceholder).call(this, props));\n      _this.state = {};\n      return _this;\n    }\n\n    _createClass(MenuPlaceholder, [{\n      key: \"shouldComponentUpdate\",\n      value: function shouldComponentUpdate() {\n        return !this.props.ctx._isMenuClosing;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props = this.props,\n            ctx = _this$props.ctx,\n            backdropStyles = _this$props.backdropStyles;\n\n        var shouldRenderMenu = ctx.isMenuOpen() && ctx._isInitialized();\n\n        debug('MenuPlaceholder should render', shouldRenderMenu);\n\n        if (!shouldRenderMenu) {\n          return null;\n        }\n\n        return React__default.createElement(reactNative.View, {\n          style: styles$1.placeholder\n        }, React__default.createElement(Backdrop, {\n          onPress: ctx._onBackdropPress,\n          style: backdropStyles,\n          ref: ctx.onBackdropRef\n        }), ctx._makeOptions());\n      }\n    }]);\n\n    return MenuPlaceholder;\n  }(React.Component);\n\n  var styles$1 = reactNative.StyleSheet.create({\n    placeholder: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      overflow: 'hidden'\n    }\n  });\n\n  var computePosition = function computePosition(_ref) {\n    var windowLayout = _ref.windowLayout;\n    return {\n      top: windowLayout.height,\n      left: windowLayout.width\n    };\n  };\n\n  var MenuOutside = function MenuOutside(props) {\n    var style = props.style,\n        children = props.children,\n        layouts = props.layouts,\n        other = _objectWithoutProperties(props, [\"style\", \"children\", \"layouts\"]);\n\n    var position = computePosition(layouts);\n    return React__default.createElement(reactNative.View, _extends({}, other, {\n      style: [styles$2.options, style, position],\n      collapsable: false\n    }), children);\n  };\n\n  var styles$2 = reactNative.StyleSheet.create({\n    options: {\n      position: 'absolute'\n    }\n  });\n\n  var defaultOptionsContainerRenderer = function defaultOptionsContainerRenderer(options) {\n    return options;\n  };\n\n  var layoutsEqual = function layoutsEqual(a, b) {\n    return a === b || a && b && a.width === b.width && a.height === b.height;\n  };\n\n  if (!React__default.forwardRef) {\n    throw new Error('This version of popup-menu requires RN 0.55+. Check our compatibility table.');\n  }\n\n  var PopupMenuContext = React.createContext({});\n  var withCtx = withContext(PopupMenuContext, \"ctx\");\n  var instanceCount = 0;\n\n  var MenuProvider = function (_Component) {\n    _inherits(MenuProvider, _Component);\n\n    function MenuProvider(props) {\n      var _this;\n\n      _classCallCheck(this, MenuProvider);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(MenuProvider).call(this, props));\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_handleBackButton\", function () {\n        var backHandler = _this.props.backHandler;\n        debug('_handleBackButton called', backHandler);\n\n        if (backHandler === true) {\n          if (_this.isMenuOpen()) {\n            _this.closeMenu();\n\n            return true;\n          }\n        }\n\n        if (typeof backHandler === 'function') {\n          return backHandler(_assertThisInitialized(_assertThisInitialized(_this)));\n        }\n\n        return false;\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onBackdropRef\", function (r) {\n        _this.backdropRef = r;\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onOptionsRef\", function (r) {\n        _this.optionsRef = r;\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_onPlaceholderRef\", function (r) {\n        return _this._placeholderRef = r;\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_onBackdropPress\", function () {\n        debug('on backdrop press');\n\n        var menu = _this._getOpenedMenu();\n\n        if (menu) {\n          menu.instance.props.onBackdropPress();\n        }\n\n        _this.closeMenu();\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_onLayout\", function (_ref) {\n        var layout = _ref.nativeEvent.layout;\n\n        if (layoutsEqual(_this._ownLayout, layout)) {\n          return;\n        }\n\n        _this._ownLayout = layout;\n        debug('context layout has changed', _this._ownLayout);\n\n        if (!_this.isMenuOpen()) {\n          return;\n        }\n\n        var _this$_getOpenedMenu = _this._getOpenedMenu(),\n            instance = _this$_getOpenedMenu.instance;\n\n        var trigger = instance._getTrigger();\n\n        measure(trigger).then(function (triggerLayout) {\n          debug('got trigger measurements after context layout change', triggerLayout);\n\n          _this._menuRegistry.updateLayoutInfo(instance.getName(), {\n            triggerLayout: triggerLayout\n          });\n\n          _this._notify(true);\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_onSafeAreaLayout\", function (_ref2) {\n        var layout = _ref2.nativeEvent.layout;\n\n        if (layoutsEqual(_this._safeAreaLayout, layout)) {\n          return;\n        }\n\n        _this._safeAreaLayout = layout;\n        debug('safeArea layout has changed', _this._safeAreaLayout);\n\n        if (!_this.isMenuOpen()) {\n          return;\n        }\n\n        _this._notify(true);\n      });\n\n      _this._menuRegistry = makeMenuRegistry();\n      _this._isMenuClosing = false;\n      var menuActions = {\n        openMenu: function openMenu(name) {\n          return _this.openMenu(name);\n        },\n        closeMenu: function closeMenu() {\n          return _this.closeMenu();\n        },\n        toggleMenu: function toggleMenu(name) {\n          return _this.toggleMenu(name);\n        },\n        isMenuOpen: function isMenuOpen() {\n          return _this.isMenuOpen();\n        },\n        _getOpenedMenu: function _getOpenedMenu() {\n          return _this._getOpenedMenu();\n        },\n        _notify: function _notify(force) {\n          return _this._notify(force);\n        }\n      };\n      _this.menuCtx = {\n        menuRegistry: _this._menuRegistry,\n        menuActions: menuActions\n      };\n      return _this;\n    }\n\n    _createClass(MenuProvider, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        if (reactNative.BackHandler) {\n          reactNative.BackHandler.addEventListener('hardwareBackPress', this._handleBackButton);\n        } else {\n          var backHandler = this.props.backHandler;\n\n          if (backHandler === true || typeof backHandler === 'function') {\n            console.warn('backHandler prop cannot be used if BackHandler is not present (RN >= 0.44 required)');\n          }\n        }\n\n        var _this$props = this.props,\n            customStyles = _this$props.customStyles,\n            skipInstanceCheck = _this$props.skipInstanceCheck;\n\n        if (customStyles.menuContextWrapper) {\n          console.warn('menuContextWrapper custom style is deprecated and it might be removed in future releases, use menuProviderWrapper instead.');\n        }\n\n        if (!skipInstanceCheck) {\n          instanceCount++;\n        }\n\n        if (instanceCount > 1) {\n          console.warn('In most cases you should not have more MenuProviders in your app (see API documentation). In other cases use skipInstanceCheck prop.');\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        debug('unmounting menu provider');\n\n        if (reactNative.BackHandler) {\n          reactNative.BackHandler.removeEventListener('hardwareBackPress', this._handleBackButton);\n        }\n\n        var skipInstanceCheck = this.props.skipInstanceCheck;\n\n        if (!skipInstanceCheck) {\n          instanceCount--;\n        }\n      }\n    }, {\n      key: \"isMenuOpen\",\n      value: function isMenuOpen() {\n        return !!this._getOpenedMenu();\n      }\n    }, {\n      key: \"openMenu\",\n      value: function openMenu(name) {\n        var menu = this._menuRegistry.getMenu(name);\n\n        if (!menu) {\n          console.warn(\"menu with name \".concat(name, \" does not exist\"));\n          return Promise.resolve();\n        }\n\n        debug('open menu', name);\n\n        menu.instance._setOpened(true);\n\n        return this._notify();\n      }\n    }, {\n      key: \"closeMenu\",\n      value: function closeMenu() {\n        debug('close menu');\n\n        this._menuRegistry.getAll().filter(function (menu) {\n          return menu.instance._getOpened();\n        }).forEach(function (menu) {\n          return menu.instance._setOpened(false);\n        });\n\n        return this._notify();\n      }\n    }, {\n      key: \"_invalidateTriggerLayouts\",\n      value: function _invalidateTriggerLayouts() {\n        var _this2 = this;\n\n        this._menuRegistry.getAll().filter(function (menu) {\n          return !menu.instance.isOpen();\n        }).forEach(function (menu) {\n          _this2._menuRegistry.updateLayoutInfo(menu.name, {\n            triggerLayout: undefined\n          });\n        });\n      }\n    }, {\n      key: \"_beforeClose\",\n      value: function _beforeClose(menu) {\n        var _this3 = this;\n\n        debug('before close', menu.name);\n        var hideMenu = this.optionsRef && this.optionsRef.close && this.optionsRef.close() || Promise.resolve();\n        var hideBackdrop = this.backdropRef && this.backdropRef.close();\n\n        this._invalidateTriggerLayouts();\n\n        this._isMenuClosing = true;\n        return Promise.all([hideMenu, hideBackdrop]).then(function () {\n          _this3._isMenuClosing = false;\n        }).catch(function (err) {\n          _this3._isMenuClosing = false;\n          throw err;\n        });\n      }\n    }, {\n      key: \"toggleMenu\",\n      value: function toggleMenu(name) {\n        var menu = this._menuRegistry.getMenu(name);\n\n        if (!menu) {\n          console.warn(\"menu with name \".concat(name, \" does not exist\"));\n          return Promise.resolve();\n        }\n\n        debug('toggle menu', name);\n\n        if (menu.instance._getOpened()) {\n          return this.closeMenu();\n        } else {\n          return this.openMenu(name);\n        }\n      }\n    }, {\n      key: \"_notify\",\n      value: function _notify(forceUpdate) {\n        var _this4 = this;\n\n        var NULL = {};\n        var prev = this.openedMenu || NULL;\n        var next = this._menuRegistry.getAll().find(function (menu) {\n          return menu.instance.isOpen();\n        }) || NULL;\n        this.openedMenu = next === NULL ? undefined : next;\n\n        if (!forceUpdate && !this._isRenderNeeded(prev, next)) {\n          return Promise.resolve();\n        }\n\n        debug('notify: next menu:', next.name, ' prev menu:', prev.name);\n        var afterSetState = undefined;\n\n        var beforeSetState = function beforeSetState() {\n          return Promise.resolve();\n        };\n\n        if (prev.name !== next.name) {\n          if (prev !== NULL && !prev.instance.isOpen()) {\n            beforeSetState = function beforeSetState() {\n              return _this4._beforeClose(prev).then(function () {\n                return prev.instance.props.onClose();\n              });\n            };\n          }\n\n          if (next !== NULL) {\n            next.instance.props.onOpen();\n\n            afterSetState = function afterSetState() {\n              return _this4._initOpen(next);\n            };\n          }\n        }\n\n        return beforeSetState().then(function () {\n          if (!_this4._placeholderRef) {\n            debug('setState ignored - maybe the context was unmounted');\n            return;\n          }\n\n          _this4._placeholderRef.setState({\n            openedMenuName: _this4.openedMenu && _this4.openedMenu.name\n          }, afterSetState);\n\n          debug('notify ended');\n        });\n      }\n    }, {\n      key: \"_isRenderNeeded\",\n      value: function _isRenderNeeded(prev, next) {\n        if (prev === next) {\n          debug('_isRenderNeeded: skipping - no change');\n          return false;\n        }\n\n        if (prev.name !== next.name) {\n          return true;\n        }\n\n        var triggerLayout = next.triggerLayout,\n            optionsLayout = next.optionsLayout;\n\n        if (!triggerLayout || !optionsLayout) {\n          debug('_isRenderNeeded: skipping - no trigger or options layout');\n          return false;\n        }\n\n        return true;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props2 = this.props,\n            style = _this$props2.style,\n            customStyles = _this$props2.customStyles;\n        debug('render menu', this.isMenuOpen(), this._ownLayout);\n        return React__default.createElement(PopupMenuContext.Provider, {\n          value: this.menuCtx\n        }, React__default.createElement(reactNative.View, {\n          style: styles$3.flex1,\n          onLayout: this._onLayout\n        }, React__default.createElement(reactNative.View, {\n          style: [styles$3.flex1, customStyles.menuContextWrapper, customStyles.menuProviderWrapper, style]\n        }, this.props.children), React__default.createElement(reactNative.SafeAreaView, {\n          style: styles$3.safeArea,\n          pointerEvents: \"box-none\"\n        }, React__default.createElement(reactNative.View, {\n          style: styles$3.flex1,\n          collapsable: false,\n          pointerEvents: \"box-none\",\n          onLayout: this._onSafeAreaLayout\n        }), React__default.createElement(MenuPlaceholder, {\n          ctx: this,\n          backdropStyles: customStyles.backdrop,\n          ref: this._onPlaceholderRef\n        }))));\n      }\n    }, {\n      key: \"_getOpenedMenu\",\n      value: function _getOpenedMenu() {\n        var name = this._placeholderRef && this._placeholderRef.state.openedMenuName;\n        var menu = name ? this._menuRegistry.getMenu(name) : undefined;\n        debug('_getOpenedMenu', name, !!menu);\n        return menu;\n      }\n    }, {\n      key: \"_isInitialized\",\n      value: function _isInitialized() {\n        return !!this._ownLayout;\n      }\n    }, {\n      key: \"_initOpen\",\n      value: function _initOpen(menu) {\n        var _this5 = this;\n\n        debug('opening', menu.name);\n\n        var trigger = menu.instance._getTrigger();\n\n        measure(trigger).then(function (triggerLayout) {\n          debug('got trigger measurements', triggerLayout);\n\n          _this5._menuRegistry.updateLayoutInfo(menu.name, {\n            triggerLayout: triggerLayout\n          });\n\n          _this5.backdropRef && _this5.backdropRef.open();\n\n          _this5._notify();\n        });\n      }\n    }, {\n      key: \"_onOptionsLayout\",\n      value: function _onOptionsLayout(e, name, isOutside) {\n        var optionsLayout = e.nativeEvent.layout;\n        optionsLayout.isOutside = isOutside;\n        debug('got options layout', optionsLayout);\n\n        this._menuRegistry.updateLayoutInfo(name, {\n          optionsLayout: optionsLayout\n        });\n\n        this._notify();\n      }\n    }, {\n      key: \"_makeOptions\",\n      value: function _makeOptions() {\n        var _this6 = this;\n\n        var _this$_getOpenedMenu2 = this._getOpenedMenu(),\n            instance = _this$_getOpenedMenu2.instance,\n            triggerLayout = _this$_getOpenedMenu2.triggerLayout,\n            optionsLayout = _this$_getOpenedMenu2.optionsLayout;\n\n        var options = instance._getOptions();\n\n        var _instance$props = instance.props,\n            renderer = _instance$props.renderer,\n            rendererProps = _instance$props.rendererProps;\n        var windowLayout = this._ownLayout;\n        var safeAreaLayout = this._safeAreaLayout;\n        var _options$props = options.props,\n            optionsContainerStyle = _options$props.optionsContainerStyle,\n            renderOptionsContainer = _options$props.renderOptionsContainer,\n            customStyles = _options$props.customStyles;\n        var optionsRenderer = renderOptionsContainer || defaultOptionsContainerRenderer;\n        var isOutside = !triggerLayout || !optionsLayout;\n\n        var onLayout = function onLayout(e) {\n          return _this6._onOptionsLayout(e, instance.getName(), isOutside);\n        };\n\n        var style = [optionsContainerStyle, customStyles.optionsContainer];\n        var layouts = {\n          windowLayout: windowLayout,\n          triggerLayout: triggerLayout,\n          optionsLayout: optionsLayout,\n          safeAreaLayout: safeAreaLayout\n        };\n\n        var props = _objectSpread({}, rendererProps, {\n          style: style,\n          onLayout: onLayout,\n          layouts: layouts\n        });\n\n        var optionsType = isOutside ? MenuOutside : renderer;\n\n        if (isClassComponent(optionsType)) {\n          props.ref = this.onOptionsRef;\n        }\n\n        return React__default.createElement(optionsType, props, optionsRenderer(options));\n      }\n    }]);\n\n    return MenuProvider;\n  }(React.Component);\n\n  MenuProvider.propTypes = {\n    customStyles: propTypes.object,\n    backHandler: propTypes.oneOfType([propTypes.bool, propTypes.func]),\n    skipInstanceCheck: propTypes.bool\n  };\n  MenuProvider.defaultProps = {\n    customStyles: {},\n    backHandler: false,\n    skipInstanceCheck: false\n  };\n  var styles$3 = reactNative.StyleSheet.create({\n    flex1: {\n      flex: 1\n    },\n    safeArea: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0\n    }\n  });\n\n  var MenuOptions = function (_React$Component) {\n    _inherits(MenuOptions, _React$Component);\n\n    function MenuOptions() {\n      _classCallCheck(this, MenuOptions);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(MenuOptions).apply(this, arguments));\n    }\n\n    _createClass(MenuOptions, [{\n      key: \"updateCustomStyles\",\n      value: function updateCustomStyles(_props) {\n        var customStyles = _props.customStyles;\n\n        var menu = this.props.ctx.menuActions._getOpenedMenu();\n\n        if (!menu) return;\n        var menuName = menu.instance.getName();\n        this.props.ctx.menuRegistry.setOptionsCustomStyles(menuName, customStyles);\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.updateCustomStyles(this.props);\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate() {\n        this.updateCustomStyles(this.props);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props = this.props,\n            customStyles = _this$props.customStyles,\n            style = _this$props.style,\n            children = _this$props.children;\n        return React__default.createElement(reactNative.View, {\n          style: [customStyles.optionsWrapper, style]\n        }, children);\n      }\n    }]);\n\n    return MenuOptions;\n  }(React__default.Component);\n\n  MenuOptions.propTypes = {\n    customStyles: propTypes.object,\n    renderOptionsContainer: propTypes.func,\n    optionsContainerStyle: propTypes.oneOfType([propTypes.object, propTypes.number, propTypes.array])\n  };\n  MenuOptions.defaultProps = {\n    customStyles: {}\n  };\n  var MenuOptions$1 = withCtx(MenuOptions);\n\n  var MenuTrigger = function (_Component) {\n    _inherits(MenuTrigger, _Component);\n\n    function MenuTrigger() {\n      _classCallCheck(this, MenuTrigger);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(MenuTrigger).apply(this, arguments));\n    }\n\n    _createClass(MenuTrigger, [{\n      key: \"_onPress\",\n      value: function _onPress() {\n        debug('trigger onPress');\n        this.props.onPress && this.props.onPress();\n        this.props.ctx.menuActions.openMenu(this.props.menuName);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this = this;\n\n        var _this$props = this.props,\n            disabled = _this$props.disabled,\n            onRef = _this$props.onRef,\n            text = _this$props.text,\n            children = _this$props.children,\n            style = _this$props.style,\n            customStyles = _this$props.customStyles,\n            menuName = _this$props.menuName,\n            triggerOnLongPress = _this$props.triggerOnLongPress,\n            onAlternativeAction = _this$props.onAlternativeAction,\n            testID = _this$props.testID,\n            other = _objectWithoutProperties(_this$props, [\"disabled\", \"onRef\", \"text\", \"children\", \"style\", \"customStyles\", \"menuName\", \"triggerOnLongPress\", \"onAlternativeAction\", \"testID\"]);\n\n        var onPress = function onPress() {\n          return !disabled && _this._onPress();\n        };\n\n        var _makeTouchable = makeTouchable(customStyles.TriggerTouchableComponent),\n            Touchable = _makeTouchable.Touchable,\n            defaultTouchableProps = _makeTouchable.defaultTouchableProps;\n\n        return React__default.createElement(reactNative.View, {\n          ref: onRef,\n          collapsable: false,\n          style: customStyles.triggerOuterWrapper\n        }, React__default.createElement(Touchable, _extends({\n          testID: testID,\n          onPress: triggerOnLongPress ? onAlternativeAction : onPress,\n          onLongPress: triggerOnLongPress ? onPress : onAlternativeAction\n        }, defaultTouchableProps, customStyles.triggerTouchable), React__default.createElement(reactNative.View, _extends({}, other, {\n          style: [customStyles.triggerWrapper, style]\n        }), text ? React__default.createElement(reactNative.Text, {\n          style: customStyles.triggerText\n        }, text) : children)));\n      }\n    }]);\n\n    return MenuTrigger;\n  }(React.Component);\n\n  MenuTrigger.propTypes = {\n    disabled: propTypes.bool,\n    text: propTypes.string,\n    onPress: propTypes.func,\n    onAlternativeAction: propTypes.func,\n    customStyles: propTypes.object,\n    triggerOnLongPress: propTypes.bool,\n    testID: propTypes.string\n  };\n  MenuTrigger.defaultProps = {\n    disabled: false,\n    customStyles: {},\n    testID: undefined\n  };\n  var MenuTrigger$1 = withCtx(MenuTrigger);\n\n  var axisPosition = function axisPosition(oDim, wDim, tPos, tDim) {\n    if (oDim > wDim) {\n      return 0;\n    }\n\n    if (tPos + oDim <= wDim) {\n      return tPos;\n    }\n\n    if (tPos + tDim - oDim >= 0) {\n      return tPos + tDim - oDim;\n    }\n\n    var pos = Math.round(tPos + tDim / 2 - oDim / 2);\n\n    if (pos < 0) {\n      return 0;\n    }\n\n    if (pos + oDim > wDim) {\n      return wDim - oDim;\n    }\n\n    return pos;\n  };\n\n  function fit(pos, len, minPos, maxPos) {\n    if (pos === undefined) {\n      return undefined;\n    }\n\n    if (pos + len > maxPos) {\n      pos = maxPos - len;\n    }\n\n    if (pos < minPos) {\n      pos = minPos;\n    }\n\n    return pos;\n  }\n\n  var fitPositionIntoSafeArea = function fitPositionIntoSafeArea(position, layouts) {\n    var windowLayout = layouts.windowLayout,\n        safeAreaLayout = layouts.safeAreaLayout,\n        optionsLayout = layouts.optionsLayout;\n\n    if (!safeAreaLayout) {\n      return position;\n    }\n\n    var saX = safeAreaLayout.x,\n        saY = safeAreaLayout.y,\n        saHeight = safeAreaLayout.height,\n        saWidth = safeAreaLayout.width;\n    var oHeight = optionsLayout.height,\n        oWidth = optionsLayout.width;\n    var wWidth = windowLayout.width;\n    var top = position.top,\n        left = position.left,\n        right = position.right;\n    top = fit(top, oHeight, saY, saY + saHeight);\n    left = fit(left, oWidth, saX, saX + saWidth);\n    right = fit(right, oWidth, wWidth - saX - saWidth, saX);\n    return {\n      top: top,\n      left: left,\n      right: right\n    };\n  };\n\n  var computePosition$1 = function computePosition(layouts, isRTL) {\n    var windowLayout = layouts.windowLayout,\n        triggerLayout = layouts.triggerLayout,\n        optionsLayout = layouts.optionsLayout;\n    var wX = windowLayout.x,\n        wY = windowLayout.y,\n        wWidth = windowLayout.width,\n        wHeight = windowLayout.height;\n    var tX = triggerLayout.x,\n        tY = triggerLayout.y,\n        tHeight = triggerLayout.height,\n        tWidth = triggerLayout.width;\n    var oHeight = optionsLayout.height,\n        oWidth = optionsLayout.width;\n    var top = axisPosition(oHeight, wHeight, tY - wY, tHeight);\n    var left = axisPosition(oWidth, wWidth, tX - wX, tWidth);\n    var start = isRTL ? 'right' : 'left';\n\n    var position = _defineProperty({\n      top: top\n    }, start, left);\n\n    return fitPositionIntoSafeArea(position, layouts);\n  };\n\n  var ContextMenu = function (_React$Component) {\n    _inherits(ContextMenu, _React$Component);\n\n    function ContextMenu(props) {\n      var _this;\n\n      _classCallCheck(this, ContextMenu);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(ContextMenu).call(this, props));\n      _this.state = {\n        scaleAnim: new reactNative.Animated.Value(0.1)\n      };\n      return _this;\n    }\n\n    _createClass(ContextMenu, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        reactNative.Animated.timing(this.state.scaleAnim, {\n          duration: OPEN_ANIM_DURATION,\n          toValue: 1,\n          easing: reactNative.Easing.out(reactNative.Easing.cubic),\n          useNativeDriver: USE_NATIVE_DRIVER\n        }).start();\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        var _this2 = this;\n\n        return new Promise(function (resolve) {\n          reactNative.Animated.timing(_this2.state.scaleAnim, {\n            duration: CLOSE_ANIM_DURATION,\n            toValue: 0,\n            easing: reactNative.Easing.in(reactNative.Easing.cubic),\n            useNativeDriver: USE_NATIVE_DRIVER\n          }).start(resolve);\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props = this.props,\n            style = _this$props.style,\n            children = _this$props.children,\n            layouts = _this$props.layouts,\n            other = _objectWithoutProperties(_this$props, [\"style\", \"children\", \"layouts\"]);\n\n        var animation = {\n          transform: [{\n            scale: this.state.scaleAnim\n          }],\n          opacity: this.state.scaleAnim\n        };\n        var position = computePosition$1(layouts, reactNative.I18nManager.isRTL);\n        return React__default.createElement(reactNative.Animated.View, _extends({}, other, {\n          style: [styles$4.options, style, animation, position]\n        }), children);\n      }\n    }]);\n\n    return ContextMenu;\n  }(React__default.Component);\n\n  ContextMenu.computePosition = computePosition$1;\n  ContextMenu.fitPositionIntoSafeArea = fitPositionIntoSafeArea;\n  var styles$4 = reactNative.StyleSheet.create({\n    options: {\n      position: 'absolute',\n      borderRadius: 2,\n      backgroundColor: 'white',\n      width: reactNative.PixelRatio.roundToNearestPixel(200),\n      shadowColor: 'black',\n      shadowOpacity: 0.3,\n      shadowOffset: {\n        width: 3,\n        height: 3\n      },\n      shadowRadius: 4,\n      elevation: 5\n    }\n  });\n\n  var isRegularComponent = function isRegularComponent(c) {\n    return c.type !== MenuOptions$1 && c.type !== MenuTrigger$1;\n  };\n\n  var isTrigger = function isTrigger(c) {\n    return c.type === MenuTrigger$1;\n  };\n\n  var isMenuOptions = function isMenuOptions(c) {\n    return c.type === MenuOptions$1;\n  };\n\n  var Menu = function (_Component) {\n    _inherits(Menu, _Component);\n\n    function Menu(props) {\n      var _this;\n\n      _classCallCheck(this, Menu);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(Menu).call(this, props));\n      _this._name = _this.props.name || makeName();\n      _this._forceClose = false;\n      var ctx = props.ctx;\n\n      if (!(ctx && ctx.menuActions)) {\n        throw new Error(\"Menu component must be ancestor of MenuProvider\");\n      }\n\n      return _this;\n    }\n\n    _createClass(Menu, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        if (!this._validateChildren()) {\n          return;\n        }\n\n        debug('subscribing menu', this._name);\n        this.props.ctx.menuRegistry.subscribe(this);\n\n        this.props.ctx.menuActions._notify();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (this.props.name !== prevProps.name) {\n          console.warn('Menu name cannot be changed');\n        }\n\n        var force = this.isOpen();\n        debug('component did update', this._name, force);\n\n        this.props.ctx.menuActions._notify(force);\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        debug('unsubscribing menu', this._name);\n\n        if (this.isOpen()) {\n          this._forceClose = true;\n\n          this.props.ctx.menuActions._notify();\n        }\n\n        this.props.ctx.menuRegistry.unsubscribe(this);\n      }\n    }, {\n      key: \"open\",\n      value: function open() {\n        return this.props.ctx.menuActions.openMenu(this._name);\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        return this.props.ctx.menuActions.closeMenu();\n      }\n    }, {\n      key: \"isOpen\",\n      value: function isOpen() {\n        if (this._forceClose) {\n          return false;\n        }\n\n        return this.props.hasOwnProperty('opened') ? this.props.opened : this._opened;\n      }\n    }, {\n      key: \"getName\",\n      value: function getName() {\n        return this._name;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var style = this.props.style;\n\n        var children = this._reduceChildren();\n\n        return React__default.createElement(reactNative.View, {\n          style: style\n        }, children);\n      }\n    }, {\n      key: \"_reduceChildren\",\n      value: function _reduceChildren() {\n        var _this2 = this;\n\n        return React__default.Children.toArray(this.props.children).reduce(function (r, child) {\n          if (isTrigger(child)) {\n            r.push(React__default.cloneElement(child, {\n              key: null,\n              menuName: _this2._name,\n              onRef: function onRef(t) {\n                return _this2._trigger = t;\n              }\n            }));\n          }\n\n          if (isRegularComponent(child)) {\n            r.push(child);\n          }\n\n          return r;\n        }, []);\n      }\n    }, {\n      key: \"_getTrigger\",\n      value: function _getTrigger() {\n        return this._trigger;\n      }\n    }, {\n      key: \"_getOptions\",\n      value: function _getOptions() {\n        return React__default.Children.toArray(this.props.children).find(isMenuOptions);\n      }\n    }, {\n      key: \"_getOpened\",\n      value: function _getOpened() {\n        return this._opened;\n      }\n    }, {\n      key: \"_setOpened\",\n      value: function _setOpened(opened) {\n        this._opened = opened;\n      }\n    }, {\n      key: \"_validateChildren\",\n      value: function _validateChildren() {\n        var children = React__default.Children.toArray(this.props.children);\n        var options = children.find(isMenuOptions);\n\n        if (!options) {\n          console.warn('Menu has to contain MenuOptions component');\n        }\n\n        var trigger = children.find(isTrigger);\n\n        if (!trigger) {\n          console.warn('Menu has to contain MenuTrigger component');\n        }\n\n        return options && trigger;\n      }\n    }]);\n\n    return Menu;\n  }(React.Component);\n\n  Menu.propTypes = {\n    name: propTypes.string,\n    renderer: propTypes.func,\n    rendererProps: propTypes.object,\n    onSelect: propTypes.func,\n    onOpen: propTypes.func,\n    onClose: propTypes.func,\n    opened: propTypes.bool,\n    onBackdropPress: propTypes.func\n  };\n  Menu.defaultProps = {\n    renderer: ContextMenu,\n    rendererProps: {},\n    onSelect: function onSelect() {},\n    onOpen: function onOpen() {},\n    onClose: function onClose() {},\n    onBackdropPress: function onBackdropPress() {}\n  };\n  var MenuExternal = withCtx(Menu);\n  Object.defineProperty(MenuExternal, 'debug', {\n    get: function get() {\n      return CFG.debug;\n    },\n    set: function set(val) {\n      CFG.debug = val;\n    }\n  });\n\n  MenuExternal.setDefaultRenderer = function (renderer) {\n    Menu.defaultProps.renderer = renderer;\n  };\n\n  MenuExternal.setDefaultRendererProps = function (rendererProps) {\n    Menu.defaultProps.rendererProps = rendererProps;\n  };\n\n  var MenuOption = function (_Component) {\n    _inherits(MenuOption, _Component);\n\n    function MenuOption() {\n      _classCallCheck(this, MenuOption);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(MenuOption).apply(this, arguments));\n    }\n\n    _createClass(MenuOption, [{\n      key: \"_onSelect\",\n      value: function _onSelect() {\n        var value = this.props.value;\n\n        var onSelect = this.props.onSelect || this._getMenusOnSelect();\n\n        var shouldClose = onSelect(value) !== false;\n        debug('select option', value, shouldClose);\n\n        if (shouldClose) {\n          this.props.ctx.menuActions.closeMenu();\n        }\n      }\n    }, {\n      key: \"_getMenusOnSelect\",\n      value: function _getMenusOnSelect() {\n        var menu = this.props.ctx.menuActions._getOpenedMenu();\n\n        return menu.instance.props.onSelect;\n      }\n    }, {\n      key: \"_getCustomStyles\",\n      value: function _getCustomStyles() {\n        var menu = this.props.ctx.menuActions._getOpenedMenu() || {};\n        var optionsCustomStyles = menu.optionsCustomStyles;\n        return _objectSpread({}, optionsCustomStyles, this.props.customStyles);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this = this;\n\n        var _this$props = this.props,\n            text = _this$props.text,\n            disabled = _this$props.disabled,\n            disableTouchable = _this$props.disableTouchable,\n            children = _this$props.children,\n            style = _this$props.style,\n            testID = _this$props.testID;\n\n        var customStyles = this._getCustomStyles();\n\n        if (text && React__default.Children.count(children) > 0) {\n          console.warn(\"MenuOption: Please don't use text property together with explicit children. Children are ignored.\");\n        }\n\n        if (disabled) {\n          var disabledStyles = [defaultStyles.optionTextDisabled, customStyles.optionText];\n          return React__default.createElement(reactNative.View, {\n            style: [defaultStyles.option, customStyles.optionWrapper, style]\n          }, text ? React__default.createElement(reactNative.Text, {\n            style: disabledStyles\n          }, text) : children);\n        }\n\n        var rendered = React__default.createElement(reactNative.View, {\n          style: [defaultStyles.option, customStyles.optionWrapper, style]\n        }, text ? React__default.createElement(reactNative.Text, {\n          style: customStyles.optionText\n        }, text) : children);\n\n        if (disableTouchable) {\n          return rendered;\n        } else {\n          var _makeTouchable = makeTouchable(customStyles.OptionTouchableComponent),\n              Touchable = _makeTouchable.Touchable,\n              defaultTouchableProps = _makeTouchable.defaultTouchableProps;\n\n          return React__default.createElement(Touchable, _extends({\n            testID: testID,\n            onPress: function onPress() {\n              return _this._onSelect();\n            }\n          }, defaultTouchableProps, customStyles.optionTouchable), rendered);\n        }\n      }\n    }]);\n\n    return MenuOption;\n  }(React.Component);\n\n  MenuOption.propTypes = {\n    disabled: propTypes.bool,\n    disableTouchable: propTypes.bool,\n    onSelect: propTypes.func,\n    text: propTypes.string,\n    value: propTypes.any,\n    customStyles: propTypes.object,\n    testID: propTypes.string\n  };\n  MenuOption.defaultProps = {\n    disabled: false,\n    disableTouchable: false,\n    customStyles: {},\n    testID: undefined\n  };\n  var defaultStyles = reactNative.StyleSheet.create({\n    option: {\n      padding: 5,\n      backgroundColor: 'transparent'\n    },\n    optionTextDisabled: {\n      color: '#ccc'\n    }\n  });\n  var MenuOption$1 = withCtx(MenuOption);\n\n  var NotAnimatedContextMenu = function (_React$Component) {\n    _inherits(NotAnimatedContextMenu, _React$Component);\n\n    function NotAnimatedContextMenu() {\n      _classCallCheck(this, NotAnimatedContextMenu);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(NotAnimatedContextMenu).apply(this, arguments));\n    }\n\n    _createClass(NotAnimatedContextMenu, [{\n      key: \"render\",\n      value: function render() {\n        var _this$props = this.props,\n            style = _this$props.style,\n            children = _this$props.children,\n            layouts = _this$props.layouts,\n            other = _objectWithoutProperties(_this$props, [\"style\", \"children\", \"layouts\"]);\n\n        var position = computePosition$1(layouts, reactNative.I18nManager.isRTL);\n        return React__default.createElement(reactNative.View, _extends({}, other, {\n          style: [styles$4.options, style, position]\n        }), children);\n      }\n    }]);\n\n    return NotAnimatedContextMenu;\n  }(React__default.Component);\n\n  var computePosition$2 = function computePosition(layouts) {\n    var windowLayout = layouts.windowLayout,\n        optionsLayout = layouts.optionsLayout;\n    var wHeight = windowLayout.height;\n    var oHeight = optionsLayout.height;\n    var top = wHeight - oHeight;\n    var left = 0,\n        right = 0;\n    var position = {\n      top: top,\n      left: left,\n      right: right\n    };\n    return position;\n  };\n\n  var SlideInMenu = function (_React$Component) {\n    _inherits(SlideInMenu, _React$Component);\n\n    function SlideInMenu(props) {\n      var _this;\n\n      _classCallCheck(this, SlideInMenu);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(SlideInMenu).call(this, props));\n      _this.state = {\n        slide: new reactNative.Animated.Value(0)\n      };\n      return _this;\n    }\n\n    _createClass(SlideInMenu, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        reactNative.Animated.timing(this.state.slide, {\n          duration: OPEN_ANIM_DURATION,\n          toValue: 1,\n          easing: reactNative.Easing.out(reactNative.Easing.cubic),\n          useNativeDriver: USE_NATIVE_DRIVER\n        }).start();\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        var _this2 = this;\n\n        return new Promise(function (resolve) {\n          reactNative.Animated.timing(_this2.state.slide, {\n            duration: CLOSE_ANIM_DURATION,\n            toValue: 0,\n            easing: reactNative.Easing.in(reactNative.Easing.cubic),\n            useNativeDriver: USE_NATIVE_DRIVER\n          }).start(resolve);\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props = this.props,\n            style = _this$props.style,\n            children = _this$props.children,\n            layouts = _this$props.layouts,\n            other = _objectWithoutProperties(_this$props, [\"style\", \"children\", \"layouts\"]);\n\n        var oHeight = layouts.optionsLayout.height;\n        var animation = {\n          transform: [{\n            translateY: this.state.slide.interpolate({\n              inputRange: [0, 1],\n              outputRange: [oHeight, 0]\n            })\n          }]\n        };\n        var position = computePosition$2(layouts);\n        return React__default.createElement(reactNative.Animated.View, _extends({\n          style: [styles$5.options, style, animation, position]\n        }, other), children);\n      }\n    }]);\n\n    return SlideInMenu;\n  }(React__default.Component);\n\n  var styles$5 = reactNative.StyleSheet.create({\n    options: {\n      position: 'absolute',\n      backgroundColor: 'white',\n      shadowColor: 'black',\n      shadowOpacity: 0.3,\n      shadowOffset: {\n        width: 3,\n        height: 3\n      },\n      shadowRadius: 4,\n      elevation: 5\n    }\n  });\n  var popoverPadding = 7;\n  var anchorSize = 15;\n  var anchorHyp = Math.sqrt(anchorSize * anchorSize + anchorSize * anchorSize);\n  var anchorOffset = (anchorHyp + anchorSize) / 2 - popoverPadding;\n\n  function axisNegativeSideProperties(_ref) {\n    var oDim = _ref.oDim,\n        tPos = _ref.tPos;\n    return {\n      position: tPos - oDim\n    };\n  }\n\n  function axisPositiveSideProperties(_ref2) {\n    var tPos = _ref2.tPos,\n        tDim = _ref2.tDim;\n    return {\n      position: tPos + tDim - anchorSize\n    };\n  }\n\n  function centeringProperties(_ref3) {\n    var oDim = _ref3.oDim,\n        wDim = _ref3.wDim,\n        tPos = _ref3.tPos,\n        tDim = _ref3.tDim;\n    var center = Math.round(tPos + tDim / 2);\n    var leftOffset = oDim / 2 - center;\n    var rightOffset = center + oDim / 2 - wDim;\n    return {\n      center: center,\n      leftOffset: leftOffset,\n      rightOffset: rightOffset\n    };\n  }\n\n  function axisCenteredPositionProperties(options) {\n    var oDim = options.oDim,\n        wDim = options.wDim;\n\n    var _centeringProperties = centeringProperties(options),\n        center = _centeringProperties.center,\n        leftOffset = _centeringProperties.leftOffset,\n        rightOffset = _centeringProperties.rightOffset;\n\n    if (leftOffset > 0 || rightOffset > 0) {\n      if (leftOffset < rightOffset) {\n        return {\n          offset: rightOffset,\n          position: wDim - oDim\n        };\n      }\n\n      if (rightOffset < leftOffset) {\n        return {\n          offset: -leftOffset,\n          position: 0\n        };\n      }\n    }\n\n    return {\n      offset: 0,\n      position: center - oDim / 2\n    };\n  }\n\n  function getCenteringPrice(options) {\n    var _centeringProperties2 = centeringProperties(options),\n        leftOffset = _centeringProperties2.leftOffset,\n        rightOffset = _centeringProperties2.rightOffset;\n\n    return Math.max(0, leftOffset) + Math.max(0, rightOffset);\n  }\n\n  function getTopPrice(hOptions, vOptions) {\n    var centerOffset = getCenteringPrice(vOptions);\n    var sideOffset = Math.max(0, hOptions.oDim - hOptions.tPos);\n    return centerOffset + sideOffset;\n  }\n\n  function getBottomPrice(hOptions, vOptions) {\n    var centerOffset = getCenteringPrice(vOptions);\n    var sideOffset = Math.max(0, hOptions.tPos + hOptions.tDim + hOptions.oDim - hOptions.wDim);\n    return centerOffset + sideOffset;\n  }\n\n  function getLeftPrice(hOptions, vOptions) {\n    var centerOffset = getCenteringPrice(hOptions);\n    var sideOffset = Math.max(0, vOptions.oDim - vOptions.tPos);\n    return centerOffset + sideOffset;\n  }\n\n  function getRightPrice(hOptions, vOptions) {\n    var centerOffset = getCenteringPrice(hOptions);\n    var sideOffset = Math.max(0, vOptions.tPos + vOptions.tDim + vOptions.oDim - vOptions.wDim);\n    return centerOffset + sideOffset;\n  }\n\n  function getStartPosKey(isRTL) {\n    return isRTL ? 'right' : 'left';\n  }\n\n  function topProperties(hOptions, vOptions, isRTL) {\n    var centered = axisCenteredPositionProperties(vOptions);\n    var side = axisNegativeSideProperties(hOptions);\n    return {\n      position: _defineProperty({\n        top: side.position\n      }, getStartPosKey(isRTL), centered.position),\n      offset: centered.offset,\n      placement: 'top'\n    };\n  }\n\n  function bottomProperties(hOptions, vOptions, isRTL) {\n    var centered = axisCenteredPositionProperties(vOptions);\n    var side = axisPositiveSideProperties(hOptions);\n    return {\n      position: _defineProperty({\n        top: side.position\n      }, getStartPosKey(isRTL), centered.position),\n      offset: centered.offset,\n      placement: 'bottom'\n    };\n  }\n\n  function rightProperties(hOptions, vOptions, isRTL) {\n    var centered = axisCenteredPositionProperties(hOptions);\n    var side = axisPositiveSideProperties(vOptions);\n    return {\n      position: _defineProperty({\n        top: centered.position\n      }, getStartPosKey(isRTL), side.position),\n      offset: centered.offset,\n      placement: 'right'\n    };\n  }\n\n  function leftProperties(hOptions, vOptions, isRTL) {\n    var centered = axisCenteredPositionProperties(hOptions);\n    var side = axisNegativeSideProperties(vOptions);\n    return {\n      position: _defineProperty({\n        top: centered.position\n      }, getStartPosKey(isRTL), side.position),\n      offset: centered.offset,\n      placement: 'left'\n    };\n  }\n\n  var propertiesByPlacement = {\n    top: topProperties,\n    bottom: bottomProperties,\n    left: leftProperties,\n    right: rightProperties\n  };\n\n  function computeProperties(_ref4, placement, preferredPlacement, isRTL) {\n    var windowLayout = _ref4.windowLayout,\n        triggerLayout = _ref4.triggerLayout,\n        optionsLayout = _ref4.optionsLayout;\n    var wX = windowLayout.x,\n        wY = windowLayout.y,\n        wWidth = windowLayout.width,\n        wHeight = windowLayout.height;\n    var tX = triggerLayout.x,\n        tY = triggerLayout.y,\n        tHeight = triggerLayout.height,\n        tWidth = triggerLayout.width;\n    var oHeight = optionsLayout.height,\n        oWidth = optionsLayout.width;\n    var hOptions = {\n      oDim: oHeight + popoverPadding * 2,\n      wDim: wHeight,\n      tPos: tY - wY,\n      tDim: tHeight\n    };\n    var vOptions = {\n      oDim: oWidth + popoverPadding * 2,\n      wDim: wWidth,\n      tPos: tX - wX,\n      tDim: tWidth\n    };\n\n    if (placement !== 'auto' && propertiesByPlacement[placement]) {\n      return propertiesByPlacement[placement](hOptions, vOptions, isRTL);\n    }\n\n    var prices = {\n      top: getTopPrice(hOptions, vOptions),\n      bottom: getBottomPrice(hOptions, vOptions),\n      right: getRightPrice(hOptions, vOptions),\n      left: getLeftPrice(hOptions, vOptions)\n    };\n    var bestPrice = Object.values(prices).sort(function (a, b) {\n      return a - b;\n    })[0];\n    var bestPlacement = prices[preferredPlacement] === bestPrice ? preferredPlacement : Object.keys(prices).find(function (pl) {\n      return prices[pl] === bestPrice;\n    });\n    return propertiesByPlacement[bestPlacement](hOptions, vOptions, isRTL);\n  }\n\n  var Popover = function (_React$Component) {\n    _inherits(Popover, _React$Component);\n\n    function Popover(props) {\n      var _this;\n\n      _classCallCheck(this, Popover);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(Popover).call(this, props));\n      _this.state = {\n        scaleAnim: new reactNative.Animated.Value(0.1)\n      };\n      return _this;\n    }\n\n    _createClass(Popover, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        reactNative.Animated.timing(this.state.scaleAnim, {\n          duration: OPEN_ANIM_DURATION,\n          toValue: 1,\n          easing: reactNative.Easing.out(reactNative.Easing.cubic),\n          useNativeDriver: USE_NATIVE_DRIVER\n        }).start();\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        var _this2 = this;\n\n        return new Promise(function (resolve) {\n          reactNative.Animated.timing(_this2.state.scaleAnim, {\n            duration: CLOSE_ANIM_DURATION,\n            toValue: 0,\n            easing: reactNative.Easing.in(reactNative.Easing.cubic),\n            useNativeDriver: USE_NATIVE_DRIVER\n          }).start(resolve);\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props = this.props,\n            style = _this$props.style,\n            children = _this$props.children,\n            layouts = _this$props.layouts,\n            anchorStyle = _this$props.anchorStyle,\n            preferredPlacement = _this$props.preferredPlacement,\n            userPlacement = _this$props.placement,\n            other = _objectWithoutProperties(_this$props, [\"style\", \"children\", \"layouts\", \"anchorStyle\", \"preferredPlacement\", \"placement\"]);\n\n        var isRTL = reactNative.I18nManager.isRTL;\n        var animation = {\n          transform: [{\n            scale: this.state.scaleAnim\n          }],\n          opacity: this.state.scaleAnim\n        };\n\n        var _computeProperties = computeProperties(layouts, userPlacement, preferredPlacement, isRTL),\n            position = _computeProperties.position,\n            placement = _computeProperties.placement,\n            offset = _computeProperties.offset;\n\n        return React__default.createElement(reactNative.Animated.View, {\n          style: [styles$6.animated, animation, position, getContainerStyle({\n            placement: placement,\n            isRTL: isRTL\n          })],\n          pointerEvents: \"box-none\"\n        }, React__default.createElement(reactNative.View, {\n          style: [styles$6.anchor, dynamicAnchorStyle({\n            placement: placement,\n            offset: offset,\n            isRTL: isRTL\n          }), anchorStyle]\n        }), React__default.createElement(reactNative.View, _extends({}, other, {\n          style: [styles$6.options, style]\n        }), children));\n      }\n    }]);\n\n    return Popover;\n  }(React__default.Component);\n\n  Popover.propTypes = {\n    anchorStyle: propTypes.oneOfType([propTypes.object, propTypes.number, propTypes.array]),\n    placement: propTypes.oneOf(['auto', 'top', 'right', 'bottom', 'left']),\n    preferredPlacement: propTypes.oneOf(['top', 'right', 'bottom', 'left'])\n  };\n  Popover.defaultProps = {\n    preferredPlacement: 'top',\n    placement: 'auto'\n  };\n\n  var getContainerStyle = function getContainerStyle(_ref5) {\n    var placement = _ref5.placement,\n        isRTL = _ref5.isRTL;\n    return {\n      left: {\n        flexDirection: isRTL ? 'row' : 'row-reverse'\n      },\n      right: {\n        flexDirection: isRTL ? 'row-reverse' : 'row'\n      },\n      top: {\n        flexDirection: 'column-reverse'\n      },\n      bottom: {\n        flexDirection: 'column'\n      }\n    }[placement];\n  };\n\n  var dynamicAnchorStyle = function dynamicAnchorStyle(_ref6) {\n    var _ref7, _ref8;\n\n    var offset = _ref6.offset,\n        placement = _ref6.placement,\n        isRTL = _ref6.isRTL;\n    var start = getStartPosKey(isRTL);\n\n    switch (placement) {\n      case 'right':\n        return {\n          top: offset,\n          transform: [{\n            translateX: anchorOffset\n          }, {\n            rotate: '45deg'\n          }]\n        };\n\n      case 'left':\n        return {\n          top: offset,\n          transform: [{\n            translateX: -anchorOffset\n          }, {\n            rotate: '45deg'\n          }]\n        };\n\n      case 'top':\n        return _ref7 = {}, _defineProperty(_ref7, start, offset), _defineProperty(_ref7, \"transform\", [{\n          translateY: -anchorOffset\n        }, {\n          rotate: '45deg'\n        }]), _ref7;\n\n      case 'bottom':\n        return _ref8 = {}, _defineProperty(_ref8, start, offset), _defineProperty(_ref8, \"transform\", [{\n          translateY: anchorOffset\n        }, {\n          rotate: '45deg'\n        }]), _ref8;\n    }\n  };\n\n  var styles$6 = reactNative.StyleSheet.create({\n    animated: {\n      padding: popoverPadding,\n      backgroundColor: 'transparent',\n      position: 'absolute',\n      alignItems: 'center'\n    },\n    options: {\n      borderRadius: 2,\n      minWidth: anchorHyp,\n      minHeight: anchorHyp,\n      backgroundColor: 'white',\n      shadowColor: 'black',\n      shadowOpacity: 0.3,\n      shadowOffset: {\n        width: 3,\n        height: 3\n      },\n      shadowRadius: 4,\n      elevation: 5\n    },\n    anchor: {\n      width: anchorSize,\n      height: anchorSize,\n      backgroundColor: 'white',\n      elevation: 5\n    }\n  });\n  var renderers = {\n    ContextMenu: ContextMenu,\n    SlideInMenu: SlideInMenu,\n    NotAnimatedContextMenu: NotAnimatedContextMenu,\n    Popover: Popover\n  };\n  var MenuContext = deprecatedComponent('MenuContext is deprecated and it might be removed in future releases, use MenuProvider instead.', ['openMenu', 'toggleMenu', 'closeMenu', 'isMenuOpen'])(MenuProvider);\n  exports.default = MenuExternal;\n  exports.Menu = MenuExternal;\n  exports.MenuProvider = MenuProvider;\n  exports.MenuContext = MenuContext;\n  exports.MenuOption = MenuOption$1;\n  exports.MenuOptions = MenuOptions$1;\n  exports.MenuTrigger = MenuTrigger$1;\n  exports.renderers = renderers;\n  exports.withMenuContext = withCtx;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","map":{"version":3,"sources":["../src/polyfills.js","../src/helpers.js","../node_modules/object-assign/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/prop-types/checkPropTypes.js","../node_modules/prop-types/factoryWithTypeCheckers.js","../node_modules/prop-types/index.js","../src/with-context.js","../src/menuRegistry.js","../src/constants.js","../src/Backdrop.js","../src/logger.js","../src/MenuPlaceholder.js","../src/renderers/MenuOutside.js","../src/MenuProvider.js","../src/MenuOptions.js","../src/MenuTrigger.js","../src/renderers/ContextMenu.js","../src/Menu.js","../src/MenuOption.js","../src/renderers/NotAnimatedContextMenu.js","../src/renderers/SlideInMenu.js","../src/renderers/Popover.js","../src/index.js"],"names":["Platform","obj","measure","ref","resolve","x","y","width","height","makeName","nextID","Touchable","TouchableComponent","android","TouchableNativeFeedback","ios","TouchableHighlight","default","defaultTouchableProps","underlayColor","arr","next","it","component","methods","React","args","onRef","console","ReactPropTypesSecret","require$$0","printWarning","assign","checkPropTypes","propName","EnhanceContext","forwardedRef","rest","custom","name","Component","consumerName","Context","enhanceForwardRef","FC","menus","instance","layouts","menu","Object","optionsCustomStyles","iterator2array","subscribe","unsubscribe","updateLayoutInfo","getMenu","getAll","setOptionsCustomStyles","OPEN_ANIM_DURATION","CLOSE_ANIM_DURATION","USE_NATIVE_DRIVER","Backdrop","Animated","duration","toValue","useNativeDriver","onPress","style","TouchableWithoutFeedback","styles","opacity","fadeAnim","View","PropTypes","isRequired","fullscreen","position","top","left","bottom","right","CFG","debug","MenuPlaceholder","ctx","backdropStyles","shouldRenderMenu","placeholder","onBackdropRef","overflow","computePosition","windowLayout","MenuOutside","children","other","props","options","defaultOptionsContainerRenderer","layoutsEqual","a","b","PopupMenuContext","createContext","withCtx","withContext","instanceCount","MenuProvider","makeMenuRegistry","menuActions","openMenu","closeMenu","toggleMenu","isMenuOpen","_getOpenedMenu","_notify","menuRegistry","backHandler","BackHandler","customStyles","skipInstanceCheck","Promise","triggerLayout","undefined","hideMenu","hideBackdrop","forceUpdate","NULL","prev","afterSetState","beforeSetState","openedMenuName","optionsLayout","menuCtx","_onLayout","SafeAreaView","_onSafeAreaLayout","_onPlaceholderRef","trigger","e","isOutside","renderer","rendererProps","safeAreaLayout","optionsContainerStyle","renderOptionsContainer","optionsRenderer","onLayout","optionsType","isClassComponent","nativeEvent","layout","bool","flex1","flex","safeArea","MenuOptions","_props","menuName","MenuTrigger","disabled","text","triggerOnLongPress","onAlternativeAction","testID","makeTouchable","triggerOuterWrapper","Text","triggerText","string","axisPosition","oDim","tPos","pos","Math","tDim","wDim","maxPos","fitPositionIntoSafeArea","saX","saY","saHeight","saWidth","oHeight","oWidth","wWidth","fit","wX","wY","wHeight","tX","tY","tHeight","tWidth","start","isRTL","ContextMenu","scaleAnim","easing","Easing","animation","transform","scale","I18nManager","borderRadius","backgroundColor","PixelRatio","shadowColor","shadowOpacity","shadowOffset","shadowRadius","elevation","isRegularComponent","c","isTrigger","isMenuOptions","Menu","prevProps","force","r","key","onSelect","onOpen","onClose","opened","onBackdropPress","func","MenuExternal","get","set","MenuOption","value","shouldClose","disableTouchable","disabledStyles","defaultStyles","rendered","optionText","option","padding","optionTextDisabled","color","NotAnimatedContextMenu","SlideInMenu","slide","translateY","inputRange","outputRange","popoverPadding","anchorSize","anchorHyp","anchorOffset","center","leftOffset","rightOffset","centeringProperties","offset","centerOffset","getCenteringPrice","sideOffset","hOptions","vOptions","centered","axisCenteredPositionProperties","side","axisNegativeSideProperties","getStartPosKey","placement","axisPositiveSideProperties","propertiesByPlacement","rightProperties","prices","getTopPrice","getBottomPrice","getRightPrice","getLeftPrice","bestPrice","bestPlacement","Popover","anchorStyle","preferredPlacement","userPlacement","computeProperties","getContainerStyle","dynamicAnchorStyle","flexDirection","translateX","rotate","animated","alignItems","minWidth","minHeight","anchor","renderers","MenuContext","deprecatedComponent"],"mappings":";;;;;;;;;EAGA,IAAI,CAACA,WAAAA,CAAAA,QAAAA,CAAL,MAAA,EAAsB;IACpBA,WAAAA,CAAAA,QAAAA,CAAAA,MAAAA,GAAkB,UAAA,GAAA,EAAA;MAAA,OAASC,GAAG,CAACD,WAAAA,CAAAA,QAAAA,CAAb,EAAY,CAAZ;IAAlBA,CAAAA;EACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ECCM,IAAME,OAAO,GAAG,SAAVA,OAAU,CAAA,GAAA,EAAG;IAAA,OAAI,IAAA,OAAA,CAAY,UAAA,OAAA,EAAa;MACrDC,GAAG,CAAHA,OAAAA,CAAY,UAAA,CAAA,EAAA,CAAA,EAAA,KAAA,EAAA,MAAA,EAAA,KAAA,EAAA,KAAA,EAAuC;QACjDC,OAAO,CAAC;UACNC,CAAC,EADK,KAAA;UACIC,CAAC,EADL,KAAA;UAENC,KAAK,EAFC,KAAA;UAECC,MAAM,EAANA;QAFD,CAAD,CAAPJ;MADFD,CAAAA;IADwB,CAAI,CAAJ;EAAnB,CAAA;;EAYA,IAAMM,QAAQ,GAAI,YAAW;IAClC,IAAIC,MAAM,GAAV,CAAA;IACA,OAAO,YAAA;MAAA,OAAA,QAAA,MAAA,CAAcA,MAAd,EAAA,CAAA;IAAP,CAAA;EAFK,CAAkB,EAAlB;;EASA,SAAA,aAAA,CAAA,kBAAA,EAA2C;IAChD,IAAMC,SAAS,GAAGC,kBAAkB,IAAI,WAAA,CAAA,QAAA,CAAA,MAAA,CAAgB;MACtDC,OAAO,EAAEC,WAAAA,CAD6C,uBAAA;MAEtDC,GAAG,EAAEC,WAAAA,CAFiD,kBAAA;MAGtDC,OAAO,EAAED,WAAAA,CAAAA;IAH6C,CAAhB,CAAxC;IAKA,IAAIE,qBAAqB,GAAzB,EAAA;;IACA,IAAIP,SAAS,KAAKK,WAAAA,CAAlB,kBAAA,EAAsC;MACpCE,qBAAqB,GAAG;QAAEC,aAAa,EAAE;MAAjB,CAAxBD;IACD;;IACD,OAAO;MAAEP,SAAS,EAAX,SAAA;MAAaO,qBAAqB,EAArBA;IAAb,CAAP;EACD;;EAgCM,SAAA,cAAA,CAAA,EAAA,EAA4B;IAEjC,IAAME,GAAG,GAAT,EAAA;;IACA,KAAK,IAAIC,IAAI,GAAGC,EAAE,CAAlB,IAAgBA,EAAhB,EAA2B,CAACD,IAAI,CAAhC,IAAA,EAAuCA,IAAI,GAAGC,EAAE,CAAhD,IAA8CA,EAA9C,EAAyD;MACvDF,GAAG,CAAHA,IAAAA,CAASC,IAAI,CAAbD,KAAAA;IACD;;IACD,OAAA,GAAA;EACD;;EAGM,SAAA,gBAAA,CAAA,SAAA,EAAqC;IAC1C,OAAOG,SAAS,CAATA,SAAAA,IAAuB,CAAC,CAACA,SAAS,CAATA,SAAAA,CAAhC,MAAA;EACD;;EAOM,SAAA,mBAAA,CAAA,OAAA,EAAoD;IAAA,IAAdC,OAAc,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAJ,EAAI;IACzD,OAAO,SAAA,sBAAA,CAAA,SAAA,EAA2C;MAAA,IAAA,KAAA;;MAChD,OAAA,KAAA,GAAA,UAAA,gBAAA,EAAA;QAAA,SAAA,CAAA,mBAAA,EAAA,gBAAA,CAAA;;QACE,SAAA,mBAAA,GAAqB;UAAA,IAAA,gBAAA;;UAAA,IAAA,KAAA;;UAAA,eAAA,CAAA,IAAA,EAAA,mBAAA,CAAA;;UAAA,KAAA,IAAA,KAAA,GAAA,SAAA,CAAA,MAAA,EAANE,IAAM,GAAA,IAAA,KAAA,CAAA,KAAA,CAAA,EAAA,KAAA,GAAA,CAAA,EAAA,KAAA,GAAA,KAAA,EAAA,KAAA,EAAA,EAAA;YAANA,IAAM,CAAA,KAAA,CAANA,GAAM,SAAA,CAAA,KAAA,CAANA;UAAM;;UACnB,KAAA,GAAA,0BAAA,CAAA,IAAA,EAAA,CAAA,gBAAA,GAAA,eAAA,CAAA,mBAAA,CAAA,EAAA,IAAA,CAAA,KAAA,CAAA,gBAAA,EAAA,CAAA,IAAA,EAAA,MAAA,CAAA,IAAA,CAAA,CAAA,CAAA;;UADmB,eAAA,CAAA,sBAAA,CAAA,sBAAA,CAAA,KAAA,CAAA,CAAA,EAAA,OAAA,EAYb,UAAA,GAAA,EAAG;YAAA,OAAI,KAAA,CAAA,GAAA,GAAJ,GAAA;UAZU,CAAA,CAAA;;UAEnBF,OAAO,CAAPA,OAAAA,CAAgB,UAAA,IAAA,EAAQ;YAEtB,KAAA,CAAA,IAAA,CAAA,GAAa,YAAA;cAAA,IAAA,SAAA;;cAAA,OAAa,KAAA,CAAA,GAAA,IAAY,CAAA,SAAA,GAAA,KAAA,CAAA,GAAA,EAAA,IAAA,EAAA,KAAA,CAAA,SAAA,EAAzB,SAAyB,CAAzB;YAAb,CAAA;UAFFA,CAAAA;UAFmB,OAAA,KAAA;QAMpB;;QAPH,YAAA,CAAA,mBAAA,EAAA,CAAA;UAAA,GAAA,EAAA,QAAA;UAAA,KAAA,EAAA,SAAA,MAAA,GASW;YACP,OAAO,cAAA,CAAA,aAAA,CAAA,SAAA,EAAA,QAAA,CAAA,EAAA,EAAe,KAAf,KAAA,EAAA;cAA2B,GAAG,EAAE,KAAKG;YAArC,CAAA,CAAA,CAAP;UACD;QAXH,CAAA,EAAA;UAAA,GAAA,EAAA,mBAAA;UAAA,KAAA,EAAA,SAAA,iBAAA,GAesB;YAClBC,OAAO,CAAPA,IAAAA,CAAAA,OAAAA;UACD;QAjBH,CAAA,CAAA,CAAA;;QAAA,OAAA,mBAAA;MAAA,CAAA,CAAyCH,cAAK,CAA9C,SAAA,CAAA,EAAA,KAAA;IADF,CAAA;EAqBD;;;;;;;EC/GD;;;;;;;EAQA,IAAI,qBAAqB,GAAG,MAAM,CAAC,qBAAnC;EACA,IAAI,cAAc,GAAG,MAAM,CAAC,SAAP,CAAiB,cAAtC;EACA,IAAI,gBAAgB,GAAG,MAAM,CAAC,SAAP,CAAiB,oBAAxC;;EAEA,SAAS,QAAT,CAAkB,GAAlB,EAAuB;IACtB,IAAI,GAAG,KAAK,IAAR,IAAgB,GAAG,KAAK,SAA5B,EAAuC;MACtC,MAAM,IAAI,SAAJ,CAAc,uDAAd,CAAN;IACA;;IAED,OAAO,MAAM,CAAC,GAAD,CAAb;EACA;;EAED,SAAS,eAAT,GAA2B;IAC1B,IAAI;MACH,IAAI,CAAC,MAAM,CAAC,MAAZ,EAAoB;QACnB,OAAO,KAAP;MACA;;MAKD,IAAI,KAAK,GAAG,IAAI,MAAJ,CAAW,KAAX,CAAZ;MACA,KAAK,CAAC,CAAD,CAAL,GAAW,IAAX;;MACA,IAAI,MAAM,CAAC,mBAAP,CAA2B,KAA3B,EAAkC,CAAlC,MAAyC,GAA7C,EAAkD;QACjD,OAAO,KAAP;MACA;;MAGD,IAAI,KAAK,GAAG,EAAZ;;MACA,KAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,EAApB,EAAwB,CAAC,EAAzB,EAA6B;QAC5B,KAAK,CAAC,MAAM,MAAM,CAAC,YAAP,CAAoB,CAApB,CAAP,CAAL,GAAsC,CAAtC;MACA;;MACD,IAAI,MAAM,GAAG,MAAM,CAAC,mBAAP,CAA2B,KAA3B,EAAkC,GAAlC,CAAsC,UAAU,CAAV,EAAa;QAC/D,OAAO,KAAK,CAAC,CAAD,CAAZ;MACA,CAFY,CAAb;;MAGA,IAAI,MAAM,CAAC,IAAP,CAAY,EAAZ,MAAoB,YAAxB,EAAsC;QACrC,OAAO,KAAP;MACA;;MAGD,IAAI,KAAK,GAAG,EAAZ;MACA,uBAAuB,KAAvB,CAA6B,EAA7B,EAAiC,OAAjC,CAAyC,UAAU,MAAV,EAAkB;QAC1D,KAAK,CAAC,MAAD,CAAL,GAAgB,MAAhB;MACA,CAFD;;MAGA,IAAI,MAAM,CAAC,IAAP,CAAY,UAAc,EAAd,EAAkB,KAAlB,CAAZ,EAAsC,IAAtC,CAA2C,EAA3C,MACF,sBADF,EAC0B;QACzB,OAAO,KAAP;MACA;;MAED,OAAO,IAAP;IACA,CArCD,CAqCE,OAAO,GAAP,EAAY;MAEb,OAAO,KAAP;IACA;EACD;;EAED,IAAA,YAAc,GAAG,eAAe,KAAK,MAAM,CAAC,MAAZ,GAAqB,UAAU,MAAV,EAAkB,MAAlB,EAA0B;IAC9E,IAAI,IAAJ;IACA,IAAI,EAAE,GAAG,QAAQ,CAAC,MAAD,CAAjB;IACA,IAAI,OAAJ;;IAEA,KAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,SAAS,CAAC,MAA9B,EAAsC,CAAC,EAAvC,EAA2C;MAC1C,IAAI,GAAG,MAAM,CAAC,SAAS,CAAC,CAAD,CAAV,CAAb;;MAEA,KAAK,IAAI,GAAT,IAAgB,IAAhB,EAAsB;QACrB,IAAI,cAAc,CAAC,IAAf,CAAoB,IAApB,EAA0B,GAA1B,CAAJ,EAAoC;UACnC,EAAE,CAAC,GAAD,CAAF,GAAU,IAAI,CAAC,GAAD,CAAd;QACA;MACD;;MAED,IAAI,qBAAJ,EAA2B;QAC1B,OAAO,GAAG,qBAAqB,CAAC,IAAD,CAA/B;;QACA,KAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,OAAO,CAAC,MAA5B,EAAoC,CAAC,EAArC,EAAyC;UACxC,IAAI,gBAAgB,CAAC,IAAjB,CAAsB,IAAtB,EAA4B,OAAO,CAAC,CAAD,CAAnC,CAAJ,EAA6C;YAC5C,EAAE,CAAC,OAAO,CAAC,CAAD,CAAR,CAAF,GAAiB,IAAI,CAAC,OAAO,CAAC,CAAD,CAAR,CAArB;UACA;QACD;MACD;IACD;;IAED,OAAO,EAAP;EACA,CAzBD;ECvDA,IAAI,oBAAoB,GAAG,8CAA3B;EAEA,IAAA,sBAAc,GAAG,oBAAjB;;ECFA,IAAI,YAAY,GAAG,wBAAW,CAAE,CAAhC;;EAE2C;IACzC,IAAII,sBAAoB,GAAGC,sBAA3B;IACA,IAAI,kBAAkB,GAAG,EAAzB;;IAEA,YAAY,GAAG,sBAAS,IAAT,EAAe;MAC5B,IAAI,OAAO,GAAG,cAAc,IAA5B;;MACA,IAAI,OAAO,OAAP,KAAmB,WAAvB,EAAoC;QAClC,OAAO,CAAC,KAAR,CAAc,OAAd;MACD;;MACD,IAAI;QAIF,MAAM,IAAI,KAAJ,CAAU,OAAV,CAAN;MACD,CALD,CAKE,OAAO,CAAP,EAAU,CAAE;IACf,CAXD;EAYD;;EAaD,SAAS,cAAT,CAAwB,SAAxB,EAAmC,MAAnC,EAA2C,QAA3C,EAAqD,aAArD,EAAoE,QAApE,EAA8E;IACjC;MACzC,KAAK,IAAI,YAAT,IAAyB,SAAzB,EAAoC;QAClC,IAAI,SAAS,CAAC,cAAV,CAAyB,YAAzB,CAAJ,EAA4C;UAC1C,IAAI,KAAJ;;UAIA,IAAI;YAGF,IAAI,OAAO,SAAS,CAAC,YAAD,CAAhB,KAAmC,UAAvC,EAAmD;cACjD,IAAI,GAAG,GAAG,KAAK,CACb,CAAC,aAAa,IAAI,aAAlB,IAAmC,IAAnC,GAA0C,QAA1C,GAAqD,SAArD,GAAiE,YAAjE,GAAgF,gBAAhF,GACA,8EADA,GACiF,OAAO,SAAS,CAAC,YAAD,CADjG,GACkH,IAFrG,CAAf;cAIA,GAAG,CAAC,IAAJ,GAAW,qBAAX;cACA,MAAM,GAAN;YACD;;YACD,KAAK,GAAG,SAAS,CAAC,YAAD,CAAT,CAAwB,MAAxB,EAAgC,YAAhC,EAA8C,aAA9C,EAA6D,QAA7D,EAAuE,IAAvE,EAA6ED,sBAA7E,CAAR;UACD,CAZD,CAYE,OAAO,EAAP,EAAW;YACX,KAAK,GAAG,EAAR;UACD;;UACD,IAAI,KAAK,IAAI,EAAE,KAAK,YAAY,KAAnB,CAAb,EAAwC;YACtC,YAAY,CACV,CAAC,aAAa,IAAI,aAAlB,IAAmC,0BAAnC,GACA,QADA,GACW,IADX,GACkB,YADlB,GACiC,iCADjC,GAEA,2DAFA,GAE8D,OAAO,KAFrE,GAE6E,IAF7E,GAGA,iEAHA,GAIA,gEAJA,GAKA,iCANU,CAAZ;UASD;;UACD,IAAI,KAAK,YAAY,KAAjB,IAA0B,EAAE,KAAK,CAAC,OAAN,IAAiB,kBAAnB,CAA9B,EAAsE;YAGpE,kBAAkB,CAAC,KAAK,CAAC,OAAP,CAAlB,GAAoC,IAApC;YAEA,IAAI,KAAK,GAAG,QAAQ,GAAG,QAAQ,EAAX,GAAgB,EAApC;YAEA,YAAY,CACV,YAAY,QAAZ,GAAuB,SAAvB,GAAmC,KAAK,CAAC,OAAzC,IAAoD,KAAK,IAAI,IAAT,GAAgB,KAAhB,GAAwB,EAA5E,CADU,CAAZ;UAGD;QACF;MACF;IACF;EACF;;EAED,IAAA,gBAAc,GAAG,cAAjB;;EC5EA,IAAIE,cAAY,GAAG,0BAAW,CAAE,CAAhC;;EAE2C;IACzCA,cAAY,GAAG,wBAAS,IAAT,EAAe;MAC5B,IAAI,OAAO,GAAG,cAAc,IAA5B;;MACA,IAAI,OAAO,OAAP,KAAmB,WAAvB,EAAoC;QAClC,OAAO,CAAC,KAAR,CAAc,OAAd;MACD;;MACD,IAAI;QAIF,MAAM,IAAI,KAAJ,CAAU,OAAV,CAAN;MACD,CALD,CAKE,OAAO,CAAP,EAAU,CAAE;IACf,CAXDA;EAYD;;EAED,SAAS,4BAAT,GAAwC;IACtC,OAAO,IAAP;EACD;;EAED,IAAA,uBAAc,GAAG,SAAjB,uBAAiB,CAAS,cAAT,EAAyB,mBAAzB,EAA8C;IAE7D,IAAI,eAAe,GAAG,OAAO,MAAP,KAAkB,UAAlB,IAAgC,MAAM,CAAC,QAA7D;IACA,IAAI,oBAAoB,GAAG,YAA3B;;IAgBA,SAAS,aAAT,CAAuB,aAAvB,EAAsC;MACpC,IAAI,UAAU,GAAG,aAAa,KAAK,eAAe,IAAI,aAAa,CAAC,eAAD,CAAhC,IAAqD,aAAa,CAAC,oBAAD,CAAvE,CAA9B;;MACA,IAAI,OAAO,UAAP,KAAsB,UAA1B,EAAsC;QACpC,OAAO,UAAP;MACD;IACF;;IAiDD,IAAI,SAAS,GAAG,eAAhB;IAIA,IAAI,cAAc,GAAG;MACnB,KAAK,EAAE,0BAA0B,CAAC,OAAD,CADd;MAEnB,IAAI,EAAE,0BAA0B,CAAC,SAAD,CAFb;MAGnB,IAAI,EAAE,0BAA0B,CAAC,UAAD,CAHb;MAInB,MAAM,EAAE,0BAA0B,CAAC,QAAD,CAJf;MAKnB,MAAM,EAAE,0BAA0B,CAAC,QAAD,CALf;MAMnB,MAAM,EAAE,0BAA0B,CAAC,QAAD,CANf;MAOnB,MAAM,EAAE,0BAA0B,CAAC,QAAD,CAPf;MASnB,GAAG,EAAE,oBAAoB,EATN;MAUnB,OAAO,EAAE,wBAVU;MAWnB,OAAO,EAAE,wBAAwB,EAXd;MAYnB,UAAU,EAAE,yBAZO;MAanB,IAAI,EAAE,iBAAiB,EAbJ;MAcnB,QAAQ,EAAE,yBAdS;MAenB,KAAK,EAAE,qBAfY;MAgBnB,SAAS,EAAE,sBAhBQ;MAiBnB,KAAK,EAAE,sBAjBY;MAkBnB,KAAK,EAAE;IAlBY,CAArB;;IA0BA,SAAS,EAAT,CAAY,CAAZ,EAAe,CAAf,EAAkB;MAEhB,IAAI,CAAC,KAAK,CAAV,EAAa;QAGX,OAAO,CAAC,KAAK,CAAN,IAAW,IAAI,CAAJ,KAAU,IAAI,CAAhC;MACD,CAJD,MAIO;QAEL,OAAO,CAAC,KAAK,CAAN,IAAW,CAAC,KAAK,CAAxB;MACD;IACF;;IAUD,SAAS,aAAT,CAAuB,OAAvB,EAAgC;MAC9B,KAAK,OAAL,GAAe,OAAf;MACA,KAAK,KAAL,GAAa,EAAb;IACD;;IAED,aAAa,CAAC,SAAd,GAA0B,KAAK,CAAC,SAAhC;;IAEA,SAAS,0BAAT,CAAoC,QAApC,EAA8C;MACD;QACzC,IAAI,uBAAuB,GAAG,EAA9B;QACA,IAAI,0BAA0B,GAAG,CAAjC;MACD;;MACD,SAAS,SAAT,CAAmB,UAAnB,EAA+B,KAA/B,EAAsC,QAAtC,EAAgD,aAAhD,EAA+D,QAA/D,EAAyE,YAAzE,EAAuF,MAAvF,EAA+F;QAC7F,aAAa,GAAG,aAAa,IAAI,SAAjC;QACA,YAAY,GAAG,YAAY,IAAI,QAA/B;;QAEA,IAAI,MAAM,KAAKF,sBAAf,EAAqC;UACnC,IAAI,mBAAJ,EAAyB;YAEvB,IAAI,GAAG,GAAG,IAAI,KAAJ,CACR,yFACA,iDADA,GAEA,gDAHQ,CAAV;YAKA,GAAG,CAAC,IAAJ,GAAW,qBAAX;YACA,MAAM,GAAN;UACD,CATD,MASO,IAA6C,OAAO,OAAP,KAAmB,WAAhE,EAA6E;YAElF,IAAI,QAAQ,GAAG,aAAa,GAAG,GAAhB,GAAsB,QAArC;;YACA,IACE,CAAC,uBAAuB,CAAC,QAAD,CAAxB,IAEA,0BAA0B,GAAG,CAH/B,EAIE;cACAE,cAAY,CACV,2DACA,oBADA,GACuB,YADvB,GACsC,aADtC,GACsD,aADtD,GACuE,wBADvE,GAEA,yDAFA,GAGA,gEAHA,GAIA,+DAJA,GAIkE,cALxD,CAAZA;cAOA,uBAAuB,CAAC,QAAD,CAAvB,GAAoC,IAApC;cACA,0BAA0B;YAC3B;UACF;QACF;;QACD,IAAI,KAAK,CAAC,QAAD,CAAL,IAAmB,IAAvB,EAA6B;UAC3B,IAAI,UAAJ,EAAgB;YACd,IAAI,KAAK,CAAC,QAAD,CAAL,KAAoB,IAAxB,EAA8B;cAC5B,OAAO,IAAI,aAAJ,CAAkB,SAAS,QAAT,GAAoB,IAApB,GAA2B,YAA3B,GAA0C,0BAA1C,IAAwE,SAAS,aAAT,GAAyB,6BAAjG,CAAlB,CAAP;YACD;;YACD,OAAO,IAAI,aAAJ,CAAkB,SAAS,QAAT,GAAoB,IAApB,GAA2B,YAA3B,GAA0C,6BAA1C,IAA2E,MAAM,aAAN,GAAsB,kCAAjG,CAAlB,CAAP;UACD;;UACD,OAAO,IAAP;QACD,CARD,MAQO;UACL,OAAO,QAAQ,CAAC,KAAD,EAAQ,QAAR,EAAkB,aAAlB,EAAiC,QAAjC,EAA2C,YAA3C,CAAf;QACD;MACF;;MAED,IAAI,gBAAgB,GAAG,SAAS,CAAC,IAAV,CAAe,IAAf,EAAqB,KAArB,CAAvB;MACA,gBAAgB,CAAC,UAAjB,GAA8B,SAAS,CAAC,IAAV,CAAe,IAAf,EAAqB,IAArB,CAA9B;MAEA,OAAO,gBAAP;IACD;;IAED,SAAS,0BAAT,CAAoC,YAApC,EAAkD;MAChD,SAAS,QAAT,CAAkB,KAAlB,EAAyB,QAAzB,EAAmC,aAAnC,EAAkD,QAAlD,EAA4D,YAA5D,EAA0E,MAA1E,EAAkF;QAChF,IAAI,SAAS,GAAG,KAAK,CAAC,QAAD,CAArB;QACA,IAAI,QAAQ,GAAG,WAAW,CAAC,SAAD,CAA1B;;QACA,IAAI,QAAQ,KAAK,YAAjB,EAA+B;UAI7B,IAAI,WAAW,GAAG,cAAc,CAAC,SAAD,CAAhC;UAEA,OAAO,IAAI,aAAJ,CAAkB,aAAa,QAAb,GAAwB,IAAxB,GAA+B,YAA/B,GAA8C,YAA9C,IAA8D,MAAM,WAAN,GAAoB,iBAApB,GAAwC,aAAxC,GAAwD,cAAtH,KAAyI,MAAM,YAAN,GAAqB,IAA9J,CAAlB,CAAP;QACD;;QACD,OAAO,IAAP;MACD;;MACD,OAAO,0BAA0B,CAAC,QAAD,CAAjC;IACD;;IAED,SAAS,oBAAT,GAAgC;MAC9B,OAAO,0BAA0B,CAAC,4BAAD,CAAjC;IACD;;IAED,SAAS,wBAAT,CAAkC,WAAlC,EAA+C;MAC7C,SAAS,QAAT,CAAkB,KAAlB,EAAyB,QAAzB,EAAmC,aAAnC,EAAkD,QAAlD,EAA4D,YAA5D,EAA0E;QACxE,IAAI,OAAO,WAAP,KAAuB,UAA3B,EAAuC;UACrC,OAAO,IAAI,aAAJ,CAAkB,eAAe,YAAf,GAA8B,kBAA9B,GAAmD,aAAnD,GAAmE,iDAArF,CAAP;QACD;;QACD,IAAI,SAAS,GAAG,KAAK,CAAC,QAAD,CAArB;;QACA,IAAI,CAAC,KAAK,CAAC,OAAN,CAAc,SAAd,CAAL,EAA+B;UAC7B,IAAI,QAAQ,GAAG,WAAW,CAAC,SAAD,CAA1B;UACA,OAAO,IAAI,aAAJ,CAAkB,aAAa,QAAb,GAAwB,IAAxB,GAA+B,YAA/B,GAA8C,YAA9C,IAA8D,MAAM,QAAN,GAAiB,iBAAjB,GAAqC,aAArC,GAAqD,uBAAnH,CAAlB,CAAP;QACD;;QACD,KAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,SAAS,CAAC,MAA9B,EAAsC,CAAC,EAAvC,EAA2C;UACzC,IAAI,KAAK,GAAG,WAAW,CAAC,SAAD,EAAY,CAAZ,EAAe,aAAf,EAA8B,QAA9B,EAAwC,YAAY,GAAG,GAAf,GAAqB,CAArB,GAAyB,GAAjE,EAAsEF,sBAAtE,CAAvB;;UACA,IAAI,KAAK,YAAY,KAArB,EAA4B;YAC1B,OAAO,KAAP;UACD;QACF;;QACD,OAAO,IAAP;MACD;;MACD,OAAO,0BAA0B,CAAC,QAAD,CAAjC;IACD;;IAED,SAAS,wBAAT,GAAoC;MAClC,SAAS,QAAT,CAAkB,KAAlB,EAAyB,QAAzB,EAAmC,aAAnC,EAAkD,QAAlD,EAA4D,YAA5D,EAA0E;QACxE,IAAI,SAAS,GAAG,KAAK,CAAC,QAAD,CAArB;;QACA,IAAI,CAAC,cAAc,CAAC,SAAD,CAAnB,EAAgC;UAC9B,IAAI,QAAQ,GAAG,WAAW,CAAC,SAAD,CAA1B;UACA,OAAO,IAAI,aAAJ,CAAkB,aAAa,QAAb,GAAwB,IAAxB,GAA+B,YAA/B,GAA8C,YAA9C,IAA8D,MAAM,QAAN,GAAiB,iBAAjB,GAAqC,aAArC,GAAqD,oCAAnH,CAAlB,CAAP;QACD;;QACD,OAAO,IAAP;MACD;;MACD,OAAO,0BAA0B,CAAC,QAAD,CAAjC;IACD;;IAED,SAAS,yBAAT,CAAmC,aAAnC,EAAkD;MAChD,SAAS,QAAT,CAAkB,KAAlB,EAAyB,QAAzB,EAAmC,aAAnC,EAAkD,QAAlD,EAA4D,YAA5D,EAA0E;QACxE,IAAI,EAAE,KAAK,CAAC,QAAD,CAAL,YAA2B,aAA7B,CAAJ,EAAiD;UAC/C,IAAI,iBAAiB,GAAG,aAAa,CAAC,IAAd,IAAsB,SAA9C;UACA,IAAI,eAAe,GAAG,YAAY,CAAC,KAAK,CAAC,QAAD,CAAN,CAAlC;UACA,OAAO,IAAI,aAAJ,CAAkB,aAAa,QAAb,GAAwB,IAAxB,GAA+B,YAA/B,GAA8C,YAA9C,IAA8D,MAAM,eAAN,GAAwB,iBAAxB,GAA4C,aAA5C,GAA4D,cAA1H,KAA6I,kBAAkB,iBAAlB,GAAsC,IAAnL,CAAlB,CAAP;QACD;;QACD,OAAO,IAAP;MACD;;MACD,OAAO,0BAA0B,CAAC,QAAD,CAAjC;IACD;;IAED,SAAS,qBAAT,CAA+B,cAA/B,EAA+C;MAC7C,IAAI,CAAC,KAAK,CAAC,OAAN,CAAc,cAAd,CAAL,EAAoC;QACME,cAAY,CAAC,oEAAD,CAAZA;QACxC,OAAO,4BAAP;MACD;;MAED,SAAS,QAAT,CAAkB,KAAlB,EAAyB,QAAzB,EAAmC,aAAnC,EAAkD,QAAlD,EAA4D,YAA5D,EAA0E;QACxE,IAAI,SAAS,GAAG,KAAK,CAAC,QAAD,CAArB;;QACA,KAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,cAAc,CAAC,MAAnC,EAA2C,CAAC,EAA5C,EAAgD;UAC9C,IAAI,EAAE,CAAC,SAAD,EAAY,cAAc,CAAC,CAAD,CAA1B,CAAN,EAAsC;YACpC,OAAO,IAAP;UACD;QACF;;QAED,IAAI,YAAY,GAAG,IAAI,CAAC,SAAL,CAAe,cAAf,CAAnB;QACA,OAAO,IAAI,aAAJ,CAAkB,aAAa,QAAb,GAAwB,IAAxB,GAA+B,YAA/B,GAA8C,cAA9C,GAA+D,SAA/D,GAA2E,IAA3E,IAAmF,kBAAkB,aAAlB,GAAkC,qBAAlC,GAA0D,YAA1D,GAAyE,GAA5J,CAAlB,CAAP;MACD;;MACD,OAAO,0BAA0B,CAAC,QAAD,CAAjC;IACD;;IAED,SAAS,yBAAT,CAAmC,WAAnC,EAAgD;MAC9C,SAAS,QAAT,CAAkB,KAAlB,EAAyB,QAAzB,EAAmC,aAAnC,EAAkD,QAAlD,EAA4D,YAA5D,EAA0E;QACxE,IAAI,OAAO,WAAP,KAAuB,UAA3B,EAAuC;UACrC,OAAO,IAAI,aAAJ,CAAkB,eAAe,YAAf,GAA8B,kBAA9B,GAAmD,aAAnD,GAAmE,kDAArF,CAAP;QACD;;QACD,IAAI,SAAS,GAAG,KAAK,CAAC,QAAD,CAArB;QACA,IAAI,QAAQ,GAAG,WAAW,CAAC,SAAD,CAA1B;;QACA,IAAI,QAAQ,KAAK,QAAjB,EAA2B;UACzB,OAAO,IAAI,aAAJ,CAAkB,aAAa,QAAb,GAAwB,IAAxB,GAA+B,YAA/B,GAA8C,YAA9C,IAA8D,MAAM,QAAN,GAAiB,iBAAjB,GAAqC,aAArC,GAAqD,wBAAnH,CAAlB,CAAP;QACD;;QACD,KAAK,IAAI,GAAT,IAAgB,SAAhB,EAA2B;UACzB,IAAI,SAAS,CAAC,cAAV,CAAyB,GAAzB,CAAJ,EAAmC;YACjC,IAAI,KAAK,GAAG,WAAW,CAAC,SAAD,EAAY,GAAZ,EAAiB,aAAjB,EAAgC,QAAhC,EAA0C,YAAY,GAAG,GAAf,GAAqB,GAA/D,EAAoEF,sBAApE,CAAvB;;YACA,IAAI,KAAK,YAAY,KAArB,EAA4B;cAC1B,OAAO,KAAP;YACD;UACF;QACF;;QACD,OAAO,IAAP;MACD;;MACD,OAAO,0BAA0B,CAAC,QAAD,CAAjC;IACD;;IAED,SAAS,sBAAT,CAAgC,mBAAhC,EAAqD;MACnD,IAAI,CAAC,KAAK,CAAC,OAAN,CAAc,mBAAd,CAAL,EAAyC;QACCE,cAAY,CAAC,wEAAD,CAAZA;QACxC,OAAO,4BAAP;MACD;;MAED,KAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,mBAAmB,CAAC,MAAxC,EAAgD,CAAC,EAAjD,EAAqD;QACnD,IAAI,OAAO,GAAG,mBAAmB,CAAC,CAAD,CAAjC;;QACA,IAAI,OAAO,OAAP,KAAmB,UAAvB,EAAmC;UACjCA,cAAY,CACV,uFACA,WADA,GACc,wBAAwB,CAAC,OAAD,CADtC,GACkD,YADlD,GACiE,CADjE,GACqE,GAF3D,CAAZA;UAIA,OAAO,4BAAP;QACD;MACF;;MAED,SAAS,QAAT,CAAkB,KAAlB,EAAyB,QAAzB,EAAmC,aAAnC,EAAkD,QAAlD,EAA4D,YAA5D,EAA0E;QACxE,KAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,mBAAmB,CAAC,MAAxC,EAAgD,CAAC,EAAjD,EAAqD;UACnD,IAAI,OAAO,GAAG,mBAAmB,CAAC,CAAD,CAAjC;;UACA,IAAI,OAAO,CAAC,KAAD,EAAQ,QAAR,EAAkB,aAAlB,EAAiC,QAAjC,EAA2C,YAA3C,EAAyDF,sBAAzD,CAAP,IAAyF,IAA7F,EAAmG;YACjG,OAAO,IAAP;UACD;QACF;;QAED,OAAO,IAAI,aAAJ,CAAkB,aAAa,QAAb,GAAwB,IAAxB,GAA+B,YAA/B,GAA8C,gBAA9C,IAAkE,MAAM,aAAN,GAAsB,IAAxF,CAAlB,CAAP;MACD;;MACD,OAAO,0BAA0B,CAAC,QAAD,CAAjC;IACD;;IAED,SAAS,iBAAT,GAA6B;MAC3B,SAAS,QAAT,CAAkB,KAAlB,EAAyB,QAAzB,EAAmC,aAAnC,EAAkD,QAAlD,EAA4D,YAA5D,EAA0E;QACxE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAD,CAAN,CAAX,EAA8B;UAC5B,OAAO,IAAI,aAAJ,CAAkB,aAAa,QAAb,GAAwB,IAAxB,GAA+B,YAA/B,GAA8C,gBAA9C,IAAkE,MAAM,aAAN,GAAsB,0BAAxF,CAAlB,CAAP;QACD;;QACD,OAAO,IAAP;MACD;;MACD,OAAO,0BAA0B,CAAC,QAAD,CAAjC;IACD;;IAED,SAAS,sBAAT,CAAgC,UAAhC,EAA4C;MAC1C,SAAS,QAAT,CAAkB,KAAlB,EAAyB,QAAzB,EAAmC,aAAnC,EAAkD,QAAlD,EAA4D,YAA5D,EAA0E;QACxE,IAAI,SAAS,GAAG,KAAK,CAAC,QAAD,CAArB;QACA,IAAI,QAAQ,GAAG,WAAW,CAAC,SAAD,CAA1B;;QACA,IAAI,QAAQ,KAAK,QAAjB,EAA2B;UACzB,OAAO,IAAI,aAAJ,CAAkB,aAAa,QAAb,GAAwB,IAAxB,GAA+B,YAA/B,GAA8C,aAA9C,GAA8D,QAA9D,GAAyE,IAAzE,IAAiF,kBAAkB,aAAlB,GAAkC,uBAAnH,CAAlB,CAAP;QACD;;QACD,KAAK,IAAI,GAAT,IAAgB,UAAhB,EAA4B;UAC1B,IAAI,OAAO,GAAG,UAAU,CAAC,GAAD,CAAxB;;UACA,IAAI,CAAC,OAAL,EAAc;YACZ;UACD;;UACD,IAAI,KAAK,GAAG,OAAO,CAAC,SAAD,EAAY,GAAZ,EAAiB,aAAjB,EAAgC,QAAhC,EAA0C,YAAY,GAAG,GAAf,GAAqB,GAA/D,EAAoEA,sBAApE,CAAnB;;UACA,IAAI,KAAJ,EAAW;YACT,OAAO,KAAP;UACD;QACF;;QACD,OAAO,IAAP;MACD;;MACD,OAAO,0BAA0B,CAAC,QAAD,CAAjC;IACD;;IAED,SAAS,4BAAT,CAAsC,UAAtC,EAAkD;MAChD,SAAS,QAAT,CAAkB,KAAlB,EAAyB,QAAzB,EAAmC,aAAnC,EAAkD,QAAlD,EAA4D,YAA5D,EAA0E;QACxE,IAAI,SAAS,GAAG,KAAK,CAAC,QAAD,CAArB;QACA,IAAI,QAAQ,GAAG,WAAW,CAAC,SAAD,CAA1B;;QACA,IAAI,QAAQ,KAAK,QAAjB,EAA2B;UACzB,OAAO,IAAI,aAAJ,CAAkB,aAAa,QAAb,GAAwB,IAAxB,GAA+B,YAA/B,GAA8C,aAA9C,GAA8D,QAA9D,GAAyE,IAAzE,IAAiF,kBAAkB,aAAlB,GAAkC,uBAAnH,CAAlB,CAAP;QACD;;QAGD,IAAI,OAAO,GAAGG,YAAM,CAAC,EAAD,EAAK,KAAK,CAAC,QAAD,CAAV,EAAsB,UAAtB,CAApB;;QACA,KAAK,IAAI,GAAT,IAAgB,OAAhB,EAAyB;UACvB,IAAI,OAAO,GAAG,UAAU,CAAC,GAAD,CAAxB;;UACA,IAAI,CAAC,OAAL,EAAc;YACZ,OAAO,IAAI,aAAJ,CACL,aAAa,QAAb,GAAwB,IAAxB,GAA+B,YAA/B,GAA8C,SAA9C,GAA0D,GAA1D,GAAgE,iBAAhE,GAAoF,aAApF,GAAoG,IAApG,GACA,gBADA,GACmB,IAAI,CAAC,SAAL,CAAe,KAAK,CAAC,QAAD,CAApB,EAAgC,IAAhC,EAAsC,IAAtC,CADnB,GAEA,gBAFA,GAEoB,IAAI,CAAC,SAAL,CAAe,MAAM,CAAC,IAAP,CAAY,UAAZ,CAAf,EAAwC,IAAxC,EAA8C,IAA9C,CAHf,CAAP;UAKD;;UACD,IAAI,KAAK,GAAG,OAAO,CAAC,SAAD,EAAY,GAAZ,EAAiB,aAAjB,EAAgC,QAAhC,EAA0C,YAAY,GAAG,GAAf,GAAqB,GAA/D,EAAoEH,sBAApE,CAAnB;;UACA,IAAI,KAAJ,EAAW;YACT,OAAO,KAAP;UACD;QACF;;QACD,OAAO,IAAP;MACD;;MAED,OAAO,0BAA0B,CAAC,QAAD,CAAjC;IACD;;IAED,SAAS,MAAT,CAAgB,SAAhB,EAA2B;MACzB,QAAQ,OAAO,SAAf;QACE,KAAK,QAAL;QACA,KAAK,QAAL;QACA,KAAK,WAAL;UACE,OAAO,IAAP;;QACF,KAAK,SAAL;UACE,OAAO,CAAC,SAAR;;QACF,KAAK,QAAL;UACE,IAAI,KAAK,CAAC,OAAN,CAAc,SAAd,CAAJ,EAA8B;YAC5B,OAAO,SAAS,CAAC,KAAV,CAAgB,MAAhB,CAAP;UACD;;UACD,IAAI,SAAS,KAAK,IAAd,IAAsB,cAAc,CAAC,SAAD,CAAxC,EAAqD;YACnD,OAAO,IAAP;UACD;;UAED,IAAI,UAAU,GAAG,aAAa,CAAC,SAAD,CAA9B;;UACA,IAAI,UAAJ,EAAgB;YACd,IAAI,QAAQ,GAAG,UAAU,CAAC,IAAX,CAAgB,SAAhB,CAAf;YACA,IAAI,IAAJ;;YACA,IAAI,UAAU,KAAK,SAAS,CAAC,OAA7B,EAAsC;cACpC,OAAO,CAAC,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAT,EAAR,EAAyB,IAAjC,EAAuC;gBACrC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAN,CAAX,EAAyB;kBACvB,OAAO,KAAP;gBACD;cACF;YACF,CAND,MAMO;cAEL,OAAO,CAAC,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAT,EAAR,EAAyB,IAAjC,EAAuC;gBACrC,IAAI,KAAK,GAAG,IAAI,CAAC,KAAjB;;gBACA,IAAI,KAAJ,EAAW;kBACT,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAD,CAAN,CAAX,EAAuB;oBACrB,OAAO,KAAP;kBACD;gBACF;cACF;YACF;UACF,CApBD,MAoBO;YACL,OAAO,KAAP;UACD;;UAED,OAAO,IAAP;;QACF;UACE,OAAO,KAAP;MA1CJ;IA4CD;;IAED,SAAS,QAAT,CAAkB,QAAlB,EAA4B,SAA5B,EAAuC;MAErC,IAAI,QAAQ,KAAK,QAAjB,EAA2B;QACzB,OAAO,IAAP;MACD;;MAGD,IAAI,SAAS,CAAC,eAAD,CAAT,KAA+B,QAAnC,EAA6C;QAC3C,OAAO,IAAP;MACD;;MAGD,IAAI,OAAO,MAAP,KAAkB,UAAlB,IAAgC,SAAS,YAAY,MAAzD,EAAiE;QAC/D,OAAO,IAAP;MACD;;MAED,OAAO,KAAP;IACD;;IAGD,SAAS,WAAT,CAAqB,SAArB,EAAgC;MAC9B,IAAI,QAAQ,GAAG,OAAO,SAAtB;;MACA,IAAI,KAAK,CAAC,OAAN,CAAc,SAAd,CAAJ,EAA8B;QAC5B,OAAO,OAAP;MACD;;MACD,IAAI,SAAS,YAAY,MAAzB,EAAiC;QAI/B,OAAO,QAAP;MACD;;MACD,IAAI,QAAQ,CAAC,QAAD,EAAW,SAAX,CAAZ,EAAmC;QACjC,OAAO,QAAP;MACD;;MACD,OAAO,QAAP;IACD;;IAID,SAAS,cAAT,CAAwB,SAAxB,EAAmC;MACjC,IAAI,OAAO,SAAP,KAAqB,WAArB,IAAoC,SAAS,KAAK,IAAtD,EAA4D;QAC1D,OAAO,KAAK,SAAZ;MACD;;MACD,IAAI,QAAQ,GAAG,WAAW,CAAC,SAAD,CAA1B;;MACA,IAAI,QAAQ,KAAK,QAAjB,EAA2B;QACzB,IAAI,SAAS,YAAY,IAAzB,EAA+B;UAC7B,OAAO,MAAP;QACD,CAFD,MAEO,IAAI,SAAS,YAAY,MAAzB,EAAiC;UACtC,OAAO,QAAP;QACD;MACF;;MACD,OAAO,QAAP;IACD;;IAID,SAAS,wBAAT,CAAkC,KAAlC,EAAyC;MACvC,IAAI,IAAI,GAAG,cAAc,CAAC,KAAD,CAAzB;;MACA,QAAQ,IAAR;QACE,KAAK,OAAL;QACA,KAAK,QAAL;UACE,OAAO,QAAQ,IAAf;;QACF,KAAK,SAAL;QACA,KAAK,MAAL;QACA,KAAK,QAAL;UACE,OAAO,OAAO,IAAd;;QACF;UACE,OAAO,IAAP;MATJ;IAWD;;IAGD,SAAS,YAAT,CAAsB,SAAtB,EAAiC;MAC/B,IAAI,CAAC,SAAS,CAAC,WAAX,IAA0B,CAAC,SAAS,CAAC,WAAV,CAAsB,IAArD,EAA2D;QACzD,OAAO,SAAP;MACD;;MACD,OAAO,SAAS,CAAC,WAAV,CAAsB,IAA7B;IACD;;IAED,cAAc,CAAC,cAAf,GAAgCI,gBAAhC;IACA,cAAc,CAAC,SAAf,GAA2B,cAA3B;IAEA,OAAO,cAAP;EACD,CAvgBD;;;IC5B2C;MACzC,IAAI,kBAAkB,GAAI,OAAO,MAAP,KAAkB,UAAlB,IACxB,MAAM,CAAC,GADiB,IAExB,MAAM,CAAC,GAAP,CAAW,eAAX,CAFuB,IAGvB,MAHF;;MAKA,IAAI,cAAc,GAAG,SAAjB,cAAiB,CAAS,MAAT,EAAiB;QACpC,OAAO,OAAO,MAAP,KAAkB,QAAlB,IACL,MAAM,KAAK,IADN,IAEL,MAAM,CAAC,QAAP,KAAoB,kBAFtB;MAGD,CAJD;;MAQA,IAAI,mBAAmB,GAAG,IAA1B;MACA,MAAA,CAAA,OAAA,GAAiBH,uBAAoC,CAAC,cAAD,EAAiB,mBAAjB,CAArD;IAKD;;;ECzBM,SAAA,WAAA,CAAA,OAAA,EAAoD;IAAA,IAAtBI,QAAsB,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAX,SAAW;IACzD,OAAO,SAAA,IAAA,CAAA,SAAA,EAAyB;MAAA,IACxBC,cADwB,GAAA,UAAA,gBAAA,EAAA;QAAA,SAAA,CAAA,cAAA,EAAA,gBAAA,CAAA;;QAAA,SAAA,cAAA,GAAA;UAAA,eAAA,CAAA,IAAA,EAAA,cAAA,CAAA;;UAAA,OAAA,0BAAA,CAAA,IAAA,EAAA,eAAA,CAAA,cAAA,CAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA,CAAA;QAAA;;QAAA,YAAA,CAAA,cAAA,EAAA,CAAA;UAAA,GAAA,EAAA,QAAA;UAAA,KAAA,EAAA,SAAA,MAAA,GAEnB;YAAA,IAAA,WAAA,GAC2B,KAD3B,KAAA;YAAA,IACCC,YADD,GAAA,WAAA,CAAA,YAAA;YAAA,IACkBC,IADlB,GAAA,wBAAA,CAAA,WAAA,EAAA,CAAA,cAAA,CAAA,CAAA;;YAGP,OACE,cAAA,CAAA,aAAA,CAAC,OAAD,CAAA,QAAA,EAAA,IAAA,EACG,UAAA,KAAA,EAAS;cAAA,IAAA,OAAA;;cACR,IAAMC,MAAM,IAAA,OAAA,GAAA,EAAA,EAAA,eAAA,CAAA,OAAA,EAAA,QAAA,EAAA,KAAA,CAAA,EAAA,eAAA,CAAA,OAAA,EAAA,KAAA,EAAA,YAAA,CAAA,EAAZ,OAAY,CAAZ;cAIA,OAAOb,cAAAA,CAAAA,aAAAA,CAAAA,SAAAA,EAAAA,QAAAA,CAAAA,EAAAA,EAAAA,MAAAA,EAAP,IAAOA,CAAAA,CAAP;YAPN,CACE,CADF;UAWD;QAhB2B,CAAA,CAAA,CAAA;;QAAA,OAAA,cAAA;MAAA,CAAA,CACDA,cAAK,CADJ,SAAA,CAAA;;MAmB9B,IAAMc,IAAI,GAAGC,SAAS,CAATA,WAAAA,IAAyBA,SAAS,CAAlCA,IAAAA,IAAb,WAAA;MACA,IAAMC,YAAY,GAChBC,OAAO,CAAPA,QAAAA,CAAAA,WAAAA,IACAA,OAAO,CAAPA,QAAAA,CADAA,IAAAA,IADF,kBAAA;;MAKA,SAAA,iBAAA,CAAA,KAAA,EAAA,GAAA,EAAuC;QACrC,OAAO,cAAA,CAAA,aAAA,CAAA,cAAA,EAAA,QAAA,CAAA,EAAA,EAAA,KAAA,EAAA;UAA2B,YAAY,EAAEvC;QAAzC,CAAA,CAAA,CAAP;MACD;;MAEDwC,iBAAiB,CAAjBA,WAAAA,GAAAA,kBAAAA,MAAAA,CAAAA,YAAAA,EAAAA,GAAAA,EAAAA,MAAAA,CAAAA,IAAAA,EAAAA,GAAAA,CAAAA;MAEA,IAAMC,EAAE,GAAGnB,cAAK,CAALA,UAAAA,CAAX,iBAAWA,CAAX;MACAmB,EAAE,CAAFA,YAAAA,GAAkBJ,SAAS,CAA3BI,YAAAA;MACAA,EAAE,CAAFA,SAAAA,GAAeJ,SAAS,CAAxBI,SAAAA;MACA,OAAA,EAAA;IAlCF,CAAA;EAoCD;;EC3Bc,SAAA,gBAAA,GAA6C;IAAA,IAAnBC,KAAmB,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAX,IAAA,GAAA,EAAW;;IAK1D,SAAA,SAAA,CAAA,QAAA,EAA6B;MAC3B,IAAMN,IAAI,GAAGO,QAAQ,CAArB,OAAaA,EAAb;;MACA,IAAID,KAAK,CAALA,GAAAA,CAAJ,IAAIA,CAAJ,EAAqB;QACnBjB,OAAO,CAAPA,IAAAA,CAAAA,kDAAAA,MAAAA,CAAAA,IAAAA,EAAAA,iBAAAA,CAAAA;MACD;;MACDiB,KAAK,CAALA,GAAAA,CAAAA,IAAAA,EAAgB;QAAEN,IAAI,EAAN,IAAA;QAAQO,QAAQ,EAARA;MAAR,CAAhBD;IACD;;IAKD,SAAA,WAAA,CAAA,QAAA,EAA+B;MAC7BA,KAAK,CAALA,MAAAA,CAAaC,QAAQ,CAArBD,OAAaC,EAAbD;IACD;;IAKD,SAAA,gBAAA,CAAA,IAAA,EAA8C;MAAA,IAAdE,OAAc,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAJ,EAAI;;MAC5C,IAAI,CAACF,KAAK,CAALA,GAAAA,CAAL,IAAKA,CAAL,EAAsB;QACpB;MACD;;MACD,IAAMG,IAAI,GAAGC,UAAAA,EAAAA,EAAkBJ,KAAK,CAALA,GAAAA,CAA/B,IAA+BA,CAAlBI,CAAb;;MACA,IAAIF,OAAO,CAAPA,cAAAA,CAAJ,eAAIA,CAAJ,EAA6C;QAC3CC,IAAI,CAAJA,aAAAA,GAAqBD,OAAO,CAA5BC,aAAAA;MACD;;MACD,IAAID,OAAO,CAAPA,cAAAA,CAAJ,eAAIA,CAAJ,EAA6C;QAC3CC,IAAI,CAAJA,aAAAA,GAAqBD,OAAO,CAA5BC,aAAAA;MACD;;MACDH,KAAK,CAALA,GAAAA,CAAAA,IAAAA,EAAAA,IAAAA;IACD;;IAED,SAAA,sBAAA,CAAA,IAAA,EAAA,mBAAA,EAA2D;MACzD,IAAI,CAACA,KAAK,CAALA,GAAAA,CAAL,IAAKA,CAAL,EAAsB;QACpB;MACD;;MACD,IAAMG,IAAI,GAAA,aAAA,CAAA,EAAA,EAAQH,KAAK,CAALA,GAAAA,CAAR,IAAQA,CAAR,EAAA;QAAyBK,mBAAmB,EAAnBA;MAAzB,CAAA,CAAV;;MACAL,KAAK,CAALA,GAAAA,CAAAA,IAAAA,EAAAA,IAAAA;IACD;;IAKD,SAAA,OAAA,CAAA,IAAA,EAAuB;MACrB,OAAOA,KAAK,CAALA,GAAAA,CAAP,IAAOA,CAAP;IACD;;IAKD,SAAA,MAAA,GAAkB;MAChB,OAAOM,cAAc,CAACN,KAAK,CAA3B,MAAsBA,EAAD,CAArB;IACD;;IAED,OAAO;MAAEO,SAAS,EAAX,SAAA;MAAaC,WAAW,EAAxB,WAAA;MAA0BC,gBAAgB,EAA1C,gBAAA;MAA4CC,OAAO,EAAnD,OAAA;MAAqDC,MAAM,EAA3D,MAAA;MAA6DC,sBAAsB,EAAtBA;IAA7D,CAAP;EACD;;ECrEM,IAAMC,kBAAkB,GAAxB,GAAA;EACA,IAAMC,mBAAmB,GAAzB,GAAA;EAEA,IAAMC,iBAAiB,GAAI5D,WAAAA,CAAAA,QAAAA,CAAAA,EAAAA,KAA3B,KAAA;;MCDD6D,QAAAA,G;;;IAEJ,SAAA,QAAA,GAAqB;MAAA,IAAA,gBAAA;;MAAA,IAAA,KAAA;;MAAA,eAAA,CAAA,IAAA,EAAA,QAAA,CAAA;;MAAA,KAAA,IAAA,IAAA,GAAA,SAAA,CAAA,MAAA,EAANnC,IAAM,GAAA,IAAA,KAAA,CAAA,IAAA,CAAA,EAAA,IAAA,GAAA,CAAA,EAAA,IAAA,GAAA,IAAA,EAAA,IAAA,EAAA,EAAA;QAANA,IAAM,CAAA,IAAA,CAANA,GAAM,SAAA,CAAA,IAAA,CAANA;MAAM;;MACnB,KAAA,GAAA,0BAAA,CAAA,IAAA,EAAA,CAAA,gBAAA,GAAA,eAAA,CAAA,QAAA,CAAA,EAAA,IAAA,CAAA,KAAA,CAAA,gBAAA,EAAA,CAAA,IAAA,EAAA,MAAA,CAAA,IAAA,CAAA,CAAA,CAAA;MACA,KAAA,CAAA,QAAA,GAAgB,IAAIoC,WAAAA,CAAAA,QAAAA,CAAJ,KAAA,CAAhB,KAAgB,CAAhB;MAFmB,OAAA,KAAA;IAGpB;;;;6BAEM;QAAA,IAAA,MAAA,GAAA,IAAA;;QACL,OAAO,IAAA,OAAA,CAAY,UAAA,OAAA,EAAW;UAC5BA,WAAAA,CAAAA,QAAAA,CAAAA,MAAAA,CAAgB,MAAI,CAApBA,QAAAA,EAA+B;YAC7BC,QAAQ,EADqB,kBAAA;YAE7BC,OAAO,EAFsB,CAAA;YAG7BC,eAAe,EAAEL;UAHY,CAA/BE,EAAAA,KAAAA,CAAAA,OAAAA;QADF,CAAO,CAAP;MAOD;;;8BAEO;QAAA,IAAA,MAAA,GAAA,IAAA;;QACN,OAAO,IAAA,OAAA,CAAY,UAAA,OAAA,EAAW;UAC5BA,WAAAA,CAAAA,QAAAA,CAAAA,MAAAA,CAAgB,MAAI,CAApBA,QAAAA,EAA+B;YAC7BC,QAAQ,EADqB,mBAAA;YAE7BC,OAAO,EAFsB,CAAA;YAG7BC,eAAe,EAAEL;UAHY,CAA/BE,EAAAA,KAAAA,CAAAA,OAAAA;QADF,CAAO,CAAP;MAOD;;;+BAEQ;QAAA,IAAA,WAAA,GACoB,KADpB,KAAA;QAAA,IACCI,OADD,GAAA,WAAA,CAAA,OAAA;QAAA,IACUC,KADV,GAAA,WAAA,CAAA,KAAA;QAEP,OACE,cAAA,CAAA,aAAA,CAACC,WAAAA,CAAD,wBAAA,EAAA;UAA0B,OAAO,EAAEF;QAAnC,CAAA,EACE,cAAA,CAAA,aAAA,CAACJ,WAAAA,CAAD,QAACA,CAAD,IAAA,EAAA;UAAe,KAAK,EAAE,CAACO,MAAM,CAAP,UAAA,EAAoB;YAAEC,OAAO,EAAE,KAAKC;UAAhB,CAApB;QAAtB,CAAA,EACE,cAAA,CAAA,aAAA,CAACC,WAAAA,CAAD,IAAA,EAAA;UAAM,KAAK,EAAE,CAACH,MAAM,CAAP,UAAA,EAAA,KAAA;QAAb,CAAA,CADF,CADF,CADF;MAOD;;;;IApCoB7B,KAAAA,CAAAA,S;;EAwCvBqB,QAAQ,CAARA,SAAAA,GAAqB;IACnBK,OAAO,EAAEO,SAAS,CAATA,IAAAA,CAAeC;EADL,CAArBb;EAIA,IAAMQ,MAAM,GAAG,WAAA,CAAA,UAAA,CAAA,MAAA,CAAkB;IAC/BM,UAAU,EAAE;MACVL,OAAO,EADG,CAAA;MAEVM,QAAQ,EAFE,UAAA;MAGVC,GAAG,EAHO,CAAA;MAIVC,IAAI,EAJM,CAAA;MAKVC,MAAM,EALI,CAAA;MAMVC,KAAK,EAAE;IANG;EADmB,CAAlB,CAAf;EChDO,IAAMC,GAAG,GAAG;IACjBC,KAAK,EAAE;EADU,CAAZ;;EAMA,IAAMA,KAAK,GAAG,SAARA,KAAQ,GAAa;IAAA,IAAA,QAAA;;IAAA,KAAA,IAAA,IAAA,GAAA,SAAA,CAAA,MAAA,EAATxD,IAAS,GAAA,IAAA,KAAA,CAAA,IAAA,CAAA,EAAA,IAAA,GAAA,CAAA,EAAA,IAAA,GAAA,IAAA,EAAA,IAAA,EAAA,EAAA;MAATA,IAAS,CAAA,IAAA,CAATA,GAAS,SAAA,CAAA,IAAA,CAATA;IAAS;;IAChCuD,GAAG,CAAHA,KAAAA,IAAa,CAAA,QAAA,GAAA,OAAA,EAAA,GAAA,CAAA,KAAA,CAAA,QAAA,EAAA,CAAA,yBAAA,EAAA,MAAA,CAAbA,IAAa,CAAA,CAAbA;EADK,CAAA;;MCFcE,eAAAA,G;;;IACnB,SAAA,eAAA,CAAA,KAAA,EAAmB;MAAA,IAAA,KAAA;;MAAA,eAAA,CAAA,IAAA,EAAA,eAAA,CAAA;;MACjB,KAAA,GAAA,0BAAA,CAAA,IAAA,EAAA,eAAA,CAAA,eAAA,CAAA,CAAA,IAAA,CAAA,IAAA,EAAA,KAAA,CAAA,CAAA;MACA,KAAA,CAAA,KAAA,GAAA,EAAA;MAFiB,OAAA,KAAA;IAGlB;;;;8CAEuB;QAEtB,OAAO,CAAC,KAAA,KAAA,CAAA,GAAA,CAAR,cAAA;MACD;;;+BAEQ;QAAA,IAAA,WAAA,GACyB,KADzB,KAAA;QAAA,IACCC,GADD,GAAA,WAAA,CAAA,GAAA;QAAA,IACMC,cADN,GAAA,WAAA,CAAA,cAAA;;QAEP,IAAMC,gBAAgB,GAAGF,GAAG,CAAHA,UAAAA,MAAoBA,GAAG,CAAhD,cAA6CA,EAA7C;;QACAF,KAAK,CAAA,+BAAA,EAALA,gBAAK,CAALA;;QACA,IAAI,CAAJ,gBAAA,EAAuB;UACrB,OAAA,IAAA;QACD;;QACD,OACE,cAAA,CAAA,aAAA,CAACV,WAAAA,CAAD,IAAA,EAAA;UAAM,KAAK,EAAEH,QAAM,CAACkB;QAApB,CAAA,EACE,cAAA,CAAA,aAAA,CAAA,QAAA,EAAA;UACE,OAAO,EAAEH,GAAG,CADd,gBAAA;UAEE,KAAK,EAFP,cAAA;UAGE,GAAG,EAAEA,GAAG,CAACI;QAHX,CAAA,CADF,EAOIJ,GAAG,CART,YAQMA,EAPJ,CADF;MAYD;;;;IA9B0C5C,KAAAA,CAAAA,S;;EAiC7C,IAAM6B,QAAM,GAAG,WAAA,CAAA,UAAA,CAAA,MAAA,CAAkB;IAC/BkB,WAAW,EAAE;MACXX,QAAQ,EADG,UAAA;MAEXC,GAAG,EAFQ,CAAA;MAGXC,IAAI,EAHO,CAAA;MAIXE,KAAK,EAJM,CAAA;MAKXD,MAAM,EALK,CAAA;MAMXU,QAAQ,EAAE;IANC;EADkB,CAAlB,CAAf;;ECnCO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAA,IAAA,EAAA;IAAA,IAAGC,YAAH,GAAA,IAAA,CAAA,YAAA;IAAA,OAAuB;MACpDd,GAAG,EAAEc,YAAY,CADmC,MAAA;MAEpDb,IAAI,EAAEa,YAAY,CAACpF;IAFiC,CAAvB;EAAxB,CAAA;;EAMP,IAAMqF,WAAW,GAAG,SAAdA,WAAc,CAAA,KAAA,EAAS;IAAA,IACnBzB,KADmB,GACoB4B,KADpB,CAAA,KAAA;IAAA,IACZF,QADY,GACoBE,KADpB,CAAA,QAAA;IAAA,IACFhD,OADE,GACoBgD,KADpB,CAAA,OAAA;IAAA,IACUD,KADV,GAAA,wBAAA,CAAA,KAAA,EAAA,CAAA,OAAA,EAAA,UAAA,EAAA,SAAA,CAAA,CAAA;;IAE3B,IAAMlB,QAAQ,GAAGc,eAAe,CAAhC,OAAgC,CAAhC;IACA,OACE,cAAA,CAAA,aAAA,CAAClB,WAAAA,CAAD,IAAA,EAAA,QAAA,CAAA,EAAA,EAAA,KAAA,EAAA;MAAiB,KAAK,EAAE,CAACH,QAAM,CAAP,OAAA,EAAA,KAAA,EAAxB,QAAwB,CAAxB;MAA2D,WAAW,EAAE;IAAxE,CAAA,CAAA,EADF,QACE,CADF;EAHF,CAAA;;EAUA,IAAMA,QAAM,GAAG,WAAA,CAAA,UAAA,CAAA,MAAA,CAAkB;IAC/B2B,OAAO,EAAE;MACPpB,QAAQ,EAAE;IADH;EADsB,CAAlB,CAAf;;ECRA,IAAMqB,+BAA+B,GAAG,SAAlCA,+BAAkC,CAAA,OAAA,EAAO;IAAA,OAAA,OAAA;EAA/C,CAAA;;EACA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAA,CAAA,EAAA,CAAA,EAAA;IAAA,OACnBC,CAAC,KAADA,CAAAA,IAAYA,CAAC,IAADA,CAAAA,IAAUA,CAAC,CAADA,KAAAA,KAAYC,CAAC,CAAvBD,KAAAA,IAAiCA,CAAC,CAADA,MAAAA,KAAaC,CAAC,CADxC,MAAA;EAArB,CAAA;;EAIA,IAAI,CAAC3E,cAAK,CAAV,UAAA,EAAuB;IACrB,MAAM,IAAA,KAAA,CAAN,8EAAM,CAAN;EACD;;EACM,IAAM4E,gBAAgB,GAAGC,KAAAA,CAAAA,aAAAA,CAAzB,EAAyBA,CAAzB;EACP,IAAaC,OAAO,GAAGC,WAAW,CAAA,gBAAA,EAA3B,KAA2B,CAAlC;EAGA,IAAIC,aAAa,GAAjB,CAAA;;MAEqBC,YAAAA,G;;;IAEnB,SAAA,YAAA,CAAA,KAAA,EAAmB;MAAA,IAAA,KAAA;;MAAA,eAAA,CAAA,IAAA,EAAA,YAAA,CAAA;;MACjB,KAAA,GAAA,0BAAA,CAAA,IAAA,EAAA,eAAA,CAAA,YAAA,CAAA,CAAA,IAAA,CAAA,IAAA,EAAA,KAAA,CAAA,CAAA;;MADiB,eAAA,CAAA,sBAAA,CAAA,sBAAA,CAAA,KAAA,CAAA,CAAA,EAAA,mBAAA,EAeC,YAAM;QAAA,IAChBU,WADgB,GACA,KAAA,CADA,KACA,CADA,WAAA;QAExBlC,KAAK,CAAA,0BAAA,EAFmB,WAEnB,CAALA;;QAGA,IAAIkC,WAAW,KAAf,IAAA,EAA0B;UACxB,IAAI,KAAA,CAAJ,UAAI,EAAJ,EAAuB;YACrB,KAAA,CAAA,SAAA;;YACA,OAAA,IAAA;UACD;QATqB;;QAaxB,IAAI,OAAA,WAAA,KAAJ,UAAA,EAAuC;UACrC,OAAOA,WAAW,CAAA,sBAAA,CAAA,sBAAA,CAAlB,KAAkB,CAAA,CAAA,CAAlB;QACD;;QAED,OAAA,KAAA;MAhCiB,CAAA,CAAA;;MAAA,eAAA,CAAA,sBAAA,CAAA,sBAAA,CAAA,KAAA,CAAA,CAAA,EAAA,eAAA,EAyNH,UAAA,CAAA,EAAK;QACnB,KAAA,CAAA,WAAA,GAAA,CAAA;MA1NiB,CAAA,CAAA;;MAAA,eAAA,CAAA,sBAAA,CAAA,sBAAA,CAAA,KAAA,CAAA,CAAA,EAAA,cAAA,EA6NJ,UAAA,CAAA,EAAK;QAClB,KAAA,CAAA,UAAA,GAAA,CAAA;MA9NiB,CAAA,CAAA;;MAAA,eAAA,CAAA,sBAAA,CAAA,sBAAA,CAAA,KAAA,CAAA,CAAA,EAAA,mBAAA,EAiOC,UAAA,CAAA,EAAC;QAAA,OAAI,KAAA,CAAA,eAAA,GAAJ,CAAA;MAjOF,CAAA,CAAA;;MAAA,eAAA,CAAA,sBAAA,CAAA,sBAAA,CAAA,KAAA,CAAA,CAAA,EAAA,kBAAA,EA0OA,YAAM;QACvBlC,KAAK,CAALA,mBAAK,CAALA;;QACA,IAAMlC,IAAI,GAAG,KAAA,CAAb,cAAa,EAAb;;QACA,IAAA,IAAA,EAAU;UACRA,IAAI,CAAJA,QAAAA,CAAAA,KAAAA,CAAAA,eAAAA;QACD;;QACD,KAAA,CAAA,SAAA;MAhPiB,CAAA,CAAA;;MAAA,eAAA,CAAA,sBAAA,CAAA,sBAAA,CAAA,KAAA,CAAA,CAAA,EAAA,WAAA,EA8RP,UAAA,IAAA,EAAiC;QAAA,IAAfsG,MAAe,GAAA,IAAA,CAA9BD,WAA8B,CAAfC,MAAe;;QAC3C,IAAIpD,YAAY,CAAC,KAAA,CAAD,UAAA,EAAhB,MAAgB,CAAhB,EAA2C;UACzC;QACD;;QACD,KAAA,CAAA,UAAA,GAAA,MAAA;QACAhB,KAAK,CAAA,4BAAA,EAA+B,KAAA,CAApCA,UAAK,CAALA;;QACA,IAAI,CAAC,KAAA,CAAL,UAAK,EAAL,EAAwB;UACtB;QACD;;QAR0C,IAAA,oBAAA,GAStB,KAAA,CATsB,cAStB,EATsB;QAAA,IASnCpC,QATmC,GAAA,oBAAA,CAAA,QAAA;;QAU3C,IAAM2F,OAAO,GAAG3F,QAAQ,CAAxB,WAAgBA,EAAhB;;QACA5C,OAAO,CAAPA,OAAO,CAAPA,CAAAA,IAAAA,CAAsB,UAAA,aAAA,EAAiB;UACrCgF,KAAK,CAAA,sDAAA,EAALA,aAAK,CAALA;;UACA,KAAA,CAAA,aAAA,CAAA,gBAAA,CAAoCpC,QAAQ,CAA5C,OAAoCA,EAApC,EAAwD;YAAE2E,aAAa,EAAbA;UAAF,CAAxD;;UAEA,KAAA,CAAA,OAAA,CAAA,IAAA;QAJFvH,CAAAA;MAzSiB,CAAA,CAAA;;MAAA,eAAA,CAAA,sBAAA,CAAA,sBAAA,CAAA,KAAA,CAAA,CAAA,EAAA,mBAAA,EAiTC,UAAA,KAAA,EAAiC;QAAA,IAAfoJ,MAAe,GAAA,KAAA,CAA9BD,WAA8B,CAAfC,MAAe;;QACnD,IAAIpD,YAAY,CAAC,KAAA,CAAD,eAAA,EAAhB,MAAgB,CAAhB,EAAgD;UAC9C;QACD;;QACD,KAAA,CAAA,eAAA,GAAA,MAAA;QACAhB,KAAK,CAAA,6BAAA,EAAgC,KAAA,CAArCA,eAAK,CAALA;;QACA,IAAI,CAAC,KAAA,CAAL,UAAK,EAAL,EAAwB;UACtB;QACD;;QACD,KAAA,CAAA,OAAA,CAAA,IAAA;MA1TiB,CAAA,CAAA;;MAEjB,KAAA,CAAA,aAAA,GAAqByB,gBAArB,EAAA;MACA,KAAA,CAAA,cAAA,GAAA,KAAA;MACA,IAAMC,WAAW,GAAG;QAClBC,QAAQ,EAAE,SAAA,QAAA,CAAA,IAAA,EAAI;UAAA,OAAI,KAAA,CAAA,QAAA,CAAJ,IAAI,CAAJ;QADI,CAAA;QAElBC,SAAS,EAAE,SAAA,SAAA,GAAA;UAAA,OAAM,KAAA,CAAN,SAAM,EAAN;QAFO,CAAA;QAGlBC,UAAU,EAAE,SAAA,UAAA,CAAA,IAAA,EAAI;UAAA,OAAI,KAAA,CAAA,UAAA,CAAJ,IAAI,CAAJ;QAHE,CAAA;QAIlBC,UAAU,EAAE,SAAA,UAAA,GAAA;UAAA,OAAM,KAAA,CAAN,UAAM,EAAN;QAJM,CAAA;QAKlBC,cAAc,EAAE,SAAA,cAAA,GAAA;UAAA,OAAM,KAAA,CAAN,cAAM,EAAN;QALE,CAAA;QAMlBC,OAAO,EAAE,SAAA,OAAA,CAAA,KAAA,EAAK;UAAA,OAAI,KAAA,CAAA,OAAA,CAAJ,KAAI,CAAJ;QAAA;MANI,CAApB;MAQA,KAAA,CAAA,OAAA,GAAe;QAAEC,YAAY,EAAE,KAAA,CAAhB,aAAA;QAAoCP,WAAW,EAAXA;MAApC,CAAf;MAZiB,OAAA,KAAA;IAalB;;;;0CAsBmB;QAClB,IAAIS,WAAAA,CAAJ,WAAA,EAAiB;UACfA,WAAAA,CAAAA,WAAAA,CAAAA,gBAAAA,CAAAA,mBAAAA,EAAkD,KAAlDA,iBAAAA;QADF,CAAA,MAEO;UAAA,IACGD,WADH,GACmB,KADnB,KACmB,CADnB,WAAA;;UAEL,IAAIA,WAAW,KAAXA,IAAAA,IAAwB,OAAA,WAAA,KAA5B,UAAA,EAA+D;YAC7DxF,OAAO,CAAPA,IAAAA,CAAAA,qFAAAA;UACD;QACF;;QARiB,IAAA,WAAA,GAS0B,KAT1B,KAAA;QAAA,IASV0F,YATU,GAAA,WAAA,CAAA,YAAA;QAAA,IASIC,iBATJ,GAAA,WAAA,CAAA,iBAAA;;QAUlB,IAAID,YAAY,CAAhB,kBAAA,EAAqC;UACnC1F,OAAO,CAAPA,IAAAA,CAAAA,4HAAAA;QACD;;QACD,IAAI,CAAJ,iBAAA,EAAwB;UACtB6E,aAAa;QACd;;QACD,IAAIA,aAAa,GAAjB,CAAA,EAAuB;UACrB7E,OAAO,CAAPA,IAAAA,CAAAA,sIAAAA;QACD;MACF;;;6CAEsB;QACrBsD,KAAK,CAALA,0BAAK,CAALA;;QACA,IAAImC,WAAAA,CAAJ,WAAA,EAAiB;UACfA,WAAAA,CAAAA,WAAAA,CAAAA,mBAAAA,CAAAA,mBAAAA,EAAqD,KAArDA,iBAAAA;QACD;;QAJoB,IAKbE,iBALa,GAKS,KALT,KAKS,CALT,iBAAA;;QAMrB,IAAI,CAAJ,iBAAA,EAAwB;UACtBd,aAAa;QACd;MACF;;;mCAEY;QACX,OAAO,CAAC,CAAC,KAAT,cAAS,EAAT;MACD;;;+BAEQlE,I,EAAM;QACb,IAAMS,IAAI,GAAG,KAAA,aAAA,CAAA,OAAA,CAAb,IAAa,CAAb;;QACA,IAAI,CAAJ,IAAA,EAAW;UACTpB,OAAO,CAAPA,IAAAA,CAAAA,kBAAAA,MAAAA,CAAAA,IAAAA,EAAAA,iBAAAA,CAAAA;UACA,OAAO4F,OAAO,CAAd,OAAOA,EAAP;QACD;;QACDtC,KAAK,CAAA,WAAA,EAALA,IAAK,CAALA;;QACAlC,IAAI,CAAJA,QAAAA,CAAAA,UAAAA,CAAAA,IAAAA;;QACA,OAAO,KAAP,OAAO,EAAP;MACD;;;kCAEW;QACVkC,KAAK,CAALA,YAAK,CAALA;;QACA,KAAA,aAAA,CAAA,MAAA,GAAA,MAAA,CACU,UAAA,IAAA,EAAI;UAAA,OAAIlC,IAAI,CAAJA,QAAAA,CAAJ,UAAIA,EAAJ;QADd,CAAA,EAAA,OAAA,CAEW,UAAA,IAAA,EAAI;UAAA,OAAIA,IAAI,CAAJA,QAAAA,CAAAA,UAAAA,CAAJ,KAAIA,CAAJ;QAFf,CAAA;;QAGA,OAAO,KAAP,OAAO,EAAP;MACD;;;kDAE2B;QAAA,IAAA,MAAA,GAAA,IAAA;;QAG1B,KAAA,aAAA,CAAA,MAAA,GAAA,MAAA,CACU,UAAA,IAAA,EAAI;UAAA,OAAI,CAACA,IAAI,CAAJA,QAAAA,CAAL,MAAKA,EAAL;QADd,CAAA,EAAA,OAAA,CAEW,UAAA,IAAA,EAAQ;UACf,MAAI,CAAJ,aAAA,CAAA,gBAAA,CAAoCA,IAAI,CAAxC,IAAA,EAA+C;YAAEyE,aAAa,EAAEC;UAAjB,CAA/C;QAHJ,CAAA;MAKD;;;mCAEY1E,I,EAAM;QAAA,IAAA,MAAA,GAAA,IAAA;;QACjBkC,KAAK,CAAA,cAAA,EAAiBlC,IAAI,CAA1BkC,IAAK,CAALA;QACA,IAAMyC,QAAQ,GAAI,KAAA,UAAA,IACb,KAAA,UAAA,CADa,KAAA,IAEb,KAAA,UAAA,CAFY,KAEZ,EAFa,IAEeH,OAAO,CAFxC,OAEiCA,EAFjC;QAGA,IAAMI,YAAY,GAAG,KAAA,WAAA,IAAoB,KAAA,WAAA,CAAzC,KAAyC,EAAzC;;QACA,KAAA,yBAAA;;QACA,KAAA,cAAA,GAAA,IAAA;QACA,OAAO,OAAO,CAAP,GAAA,CAAY,CAAA,QAAA,EAAZ,YAAY,CAAZ,EAAA,IAAA,CACC,YAAM;UACV,MAAI,CAAJ,cAAA,GAAA,KAAA;QAFG,CAAA,EAAA,KAAA,CAIE,UAAA,GAAA,EAAO;UACZ,MAAI,CAAJ,cAAA,GAAA,KAAA;UACA,MAAA,GAAA;QANJ,CAAO,CAAP;MAQD;;;iCAEUrF,I,EAAM;QACf,IAAMS,IAAI,GAAG,KAAA,aAAA,CAAA,OAAA,CAAb,IAAa,CAAb;;QACA,IAAI,CAAJ,IAAA,EAAW;UACTpB,OAAO,CAAPA,IAAAA,CAAAA,kBAAAA,MAAAA,CAAAA,IAAAA,EAAAA,iBAAAA,CAAAA;UACA,OAAO4F,OAAO,CAAd,OAAOA,EAAP;QACD;;QACDtC,KAAK,CAAA,aAAA,EAALA,IAAK,CAALA;;QACA,IAAIlC,IAAI,CAAJA,QAAAA,CAAJ,UAAIA,EAAJ,EAAgC;UAC9B,OAAO,KAAP,SAAO,EAAP;QADF,CAAA,MAEO;UACL,OAAO,KAAA,QAAA,CAAP,IAAO,CAAP;QACD;MACF;;;8BAEO6E,W,EAAa;QAAA,IAAA,MAAA,GAAA,IAAA;;QACnB,IAAMC,IAAI,GAAV,EAAA;QACA,IAAMC,IAAI,GAAG,KAAA,UAAA,IAAb,IAAA;QACA,IAAM1G,IAAI,GAAG,KAAA,aAAA,CAAA,MAAA,GAAA,IAAA,CAAiC,UAAA,IAAA,EAAI;UAAA,OAAI2B,IAAI,CAAJA,QAAAA,CAAJ,MAAIA,EAAJ;QAArC,CAAA,KAHM,IAGnB;QAEA,KAAA,UAAA,GAAkB3B,IAAI,KAAJA,IAAAA,GAAAA,SAAAA,GAAlB,IAAA;;QACA,IAAI,CAAA,WAAA,IAAgB,CAAC,KAAA,eAAA,CAAA,IAAA,EAArB,IAAqB,CAArB,EAAuD;UACrD,OAAOmG,OAAO,CAAd,OAAOA,EAAP;QACD;;QACDtC,KAAK,CAAA,oBAAA,EAAuB7D,IAAI,CAA3B,IAAA,EAAA,aAAA,EAAiD0G,IAAI,CAA1D7C,IAAK,CAALA;QACA,IAAI8C,aAAa,GAAjB,SAAA;;QACA,IAAIC,cAAc,GAAG,SAAA,cAAA,GAAA;UAAA,OAAMT,OAAO,CAAb,OAAMA,EAAN;QAArB,CAAA;;QACA,IAAIO,IAAI,CAAJA,IAAAA,KAAc1G,IAAI,CAAtB,IAAA,EAA6B;UAC3B,IAAI0G,IAAI,KAAJA,IAAAA,IAAiB,CAACA,IAAI,CAAJA,QAAAA,CAAtB,MAAsBA,EAAtB,EAA8C;YAC5CE,cAAc,GAAG,SAAA,cAAA,GAAA;cAAA,OAAM,MAAI,CAAJ,YAAA,CAAA,IAAA,EAAA,IAAA,CACf,YAAA;gBAAA,OAAMF,IAAI,CAAJA,QAAAA,CAAAA,KAAAA,CAAN,OAAMA,EAAN;cADS,CAAM,CAAN;YAAjBE,CAAAA;UAED;;UACD,IAAI5G,IAAI,KAAR,IAAA,EAAmB;YACjBA,IAAI,CAAJA,QAAAA,CAAAA,KAAAA,CAAAA,MAAAA;;YACA2G,aAAa,GAAG,SAAA,aAAA,GAAA;cAAA,OAAM,MAAI,CAAJ,SAAA,CAAN,IAAM,CAAN;YAAhBA,CAAAA;UACD;QACF;;QACD,OAAO,cAAc,GAAd,IAAA,CAAsB,YAAM;UACjC,IAAI,CAAC,MAAI,CAAT,eAAA,EAA2B;YACzB9C,KAAK,CAALA,oDAAK,CAALA;YACA;UACD;;UACD,MAAI,CAAJ,eAAA,CAAA,QAAA,CAA8B;YAAEgD,cAAc,EAAE,MAAI,CAAJ,UAAA,IAAmB,MAAI,CAAJ,UAAA,CAAgB3F;UAArD,CAA9B,EAAA,aAAA;;UACA2C,KAAK,CAALA,cAAK,CAALA;QANF,CAAO,CAAP;MAQD;;;sCAKe6C,I,EAAM1G,I,EAAM;QAC1B,IAAI0G,IAAI,KAAR,IAAA,EAAmB;UACjB7C,KAAK,CAALA,uCAAK,CAALA;UACA,OAAA,KAAA;QACD;;QACD,IAAI6C,IAAI,CAAJA,IAAAA,KAAc1G,IAAI,CAAtB,IAAA,EAA6B;UAC3B,OAAA,IAAA;QACD;;QAPyB,IAQlBoG,aARkB,GAQepG,IARf,CAAA,aAAA;QAAA,IAQH8G,aARG,GAQe9G,IARf,CAAA,aAAA;;QAS1B,IAAI,CAAA,aAAA,IAAkB,CAAtB,aAAA,EAAsC;UACpC6D,KAAK,CAALA,0DAAK,CAALA;UACA,OAAA,KAAA;QACD;;QACD,OAAA,IAAA;MACD;;;+BAEQ;QAAA,IAAA,YAAA,GACyB,KADzB,KAAA;QAAA,IACCf,KADD,GAAA,YAAA,CAAA,KAAA;QAAA,IACQmD,YADR,GAAA,YAAA,CAAA,YAAA;QAEPpC,KAAK,CAAA,aAAA,EAAgB,KAAhB,UAAgB,EAAhB,EAAmC,KAAxCA,UAAK,CAALA;QACA,OACE,cAAA,CAAA,aAAA,CAAC,gBAAD,CAAA,QAAA,EAAA;UAA2B,KAAK,EAAE,KAAKkD;QAAvC,CAAA,EACE,cAAA,CAAA,aAAA,CAAC5D,WAAAA,CAAD,IAAA,EAAA;UAAM,KAAK,EAAEH,QAAM,CAAnB,KAAA;UAA2B,QAAQ,EAAE,KAAKgE;QAA1C,CAAA,EACE,cAAA,CAAA,aAAA,CAAC7D,WAAAA,CAAD,IAAA,EAAA;UAAM,KAAK,EAAE,CACXH,QAAM,CADK,KAAA,EAEXiD,YAAY,CAFD,kBAAA,EAGXA,YAAY,CAHD,mBAAA,EAAA,KAAA;QAAb,CAAA,EAMI,KAAA,KAAA,CAPN,QACE,CADF,EASE,cAAA,CAAA,aAAA,CAACgB,WAAAA,CAAD,YAAA,EAAA;UACE,KAAK,EAAEjE,QAAM,CADf,QAAA;UAEE,aAAa,EAAC;QAFhB,CAAA,EAIE,cAAA,CAAA,aAAA,CAACG,WAAAA,CAAD,IAAA,EAAA;UACE,KAAK,EAAEH,QAAM,CADf,KAAA;UAEE,WAAW,EAFb,KAAA;UAGE,aAAa,EAHf,UAAA;UAIE,QAAQ,EAAE,KAAKkE;QAJjB,CAAA,CAJF,EASE,cAAA,CAAA,aAAA,CAAA,eAAA,EAAA;UACE,GAAG,EADL,IAAA;UAEE,cAAc,EAAEjB,YAAY,CAF9B,QAAA;UAGE,GAAG,EAAE,KAAKkB;QAHZ,CAAA,CATF,CATF,CADF,CADF;MA6BD;;;uCAYgB;QACf,IAAMjG,IAAI,GAAG,KAAA,eAAA,IAAwB,KAAA,eAAA,CAAA,KAAA,CAArC,cAAA;QACA,IAAMS,IAAI,GAAGT,IAAI,GAAG,KAAA,aAAA,CAAA,OAAA,CAAH,IAAG,CAAH,GAAjB,SAAA;QACA2C,KAAK,CAAA,gBAAA,EAAA,IAAA,EAAyB,CAAC,CAA/BA,IAAK,CAALA;QACA,OAAA,IAAA;MACD;;;uCAWgB;QACf,OAAO,CAAC,CAAC,KAAT,UAAA;MACD;;;gCAESlC,I,EAAM;QAAA,IAAA,MAAA,GAAA,IAAA;;QACdkC,KAAK,CAAA,SAAA,EAAYlC,IAAI,CAArBkC,IAAK,CAALA;;QACA,IAAMuD,OAAO,GAAGzF,IAAI,CAAJA,QAAAA,CAAhB,WAAgBA,EAAhB;;QACA9C,OAAO,CAAPA,OAAO,CAAPA,CAAAA,IAAAA,CAAsB,UAAA,aAAA,EAAiB;UACrCgF,KAAK,CAAA,0BAAA,EAALA,aAAK,CAALA;;UACA,MAAI,CAAJ,aAAA,CAAA,gBAAA,CAAoClC,IAAI,CAAxC,IAAA,EAA+C;YAAEyE,aAAa,EAAbA;UAAF,CAA/C;;UACA,MAAI,CAAJ,WAAA,IAAoB,MAAI,CAAJ,WAAA,CAApB,IAAoB,EAApB;;UACA,MAAI,CAAJ,OAAA;QAJFvH,CAAAA;MAMD;;;uCAEgBwI,C,EAAGnG,I,EAAMoG,S,EAAW;QACnC,IAAMR,aAAa,GAAGO,CAAC,CAADA,WAAAA,CAAtB,MAAA;QACAP,aAAa,CAAbA,SAAAA,GAAAA,SAAAA;QACAjD,KAAK,CAAA,oBAAA,EAALA,aAAK,CAALA;;QACA,KAAA,aAAA,CAAA,gBAAA,CAAA,IAAA,EAA0C;UAAEiD,aAAa,EAAbA;QAAF,CAA1C;;QACA,KAAA,OAAA;MACD;;;qCAEc;QAAA,IAAA,MAAA,GAAA,IAAA;;QAAA,IAAA,qBAAA,GACsC,KADtC,cACsC,EADtC;QAAA,IACLrF,QADK,GAAA,qBAAA,CAAA,QAAA;QAAA,IACK2E,aADL,GAAA,qBAAA,CAAA,aAAA;QAAA,IACoBU,aADpB,GAAA,qBAAA,CAAA,aAAA;;QAEb,IAAMnC,OAAO,GAAGlD,QAAQ,CAAxB,WAAgBA,EAAhB;;QAFa,IAAA,eAAA,GAGuBA,QAAQ,CAH/B,KAAA;QAAA,IAGL8F,QAHK,GAAA,eAAA,CAAA,QAAA;QAAA,IAGKC,aAHL,GAAA,eAAA,CAAA,aAAA;QAIb,IAAMlD,YAAY,GAAG,KAArB,UAAA;QACA,IAAMmD,cAAc,GAAG,KAAvB,eAAA;QALa,IAAA,cAAA,GAM2D9C,OAAO,CANlE,KAAA;QAAA,IAML+C,qBANK,GAAA,cAAA,CAAA,qBAAA;QAAA,IAMkBC,sBANlB,GAAA,cAAA,CAAA,sBAAA;QAAA,IAM0C1B,YAN1C,GAAA,cAAA,CAAA,YAAA;QAOb,IAAM2B,eAAe,GAAGD,sBAAsB,IAA9C,+BAAA;QACA,IAAML,SAAS,GAAG,CAAA,aAAA,IAAkB,CAApC,aAAA;;QACA,IAAMO,QAAQ,GAAG,SAAXA,QAAW,CAAA,CAAA,EAAC;UAAA,OAAI,MAAI,CAAJ,gBAAA,CAAA,CAAA,EAAyBpG,QAAQ,CAAjC,OAAyBA,EAAzB,EAAJ,SAAI,CAAJ;QAAlB,CAAA;;QACA,IAAMqB,KAAK,GAAG,CAAA,qBAAA,EAAwBmD,YAAY,CAAlD,gBAAc,CAAd;QACA,IAAMvE,OAAO,GAAG;UAAE4C,YAAY,EAAd,YAAA;UAAgB8B,aAAa,EAA7B,aAAA;UAA+BU,aAAa,EAA5C,aAAA;UAA8CW,cAAc,EAAdA;QAA9C,CAAhB;;QACA,IAAM/C,KAAK,GAAA,aAAA,CAAA,EAAA,EAAA,aAAA,EAAA;UAAuB5B,KAAK,EAA5B,KAAA;UAA8B+E,QAAQ,EAAtC,QAAA;UAAwCnG,OAAO,EAAPA;QAAxC,CAAA,CAAX;;QACA,IAAMoG,WAAW,GAAGR,SAAS,GAAA,WAAA,GAA7B,QAAA;;QACA,IAAIS,gBAAgB,CAApB,WAAoB,CAApB,EAAmC;UACjCrD,KAAK,CAALA,GAAAA,GAAY,KAAZA,YAAAA;QACD;;QACD,OAAOtE,cAAK,CAALA,aAAAA,CAAAA,WAAAA,EAAAA,KAAAA,EAAwCwH,eAAe,CAA9D,OAA8D,CAAvDxH,CAAP;MACD;;;;IA9RuCe,KAAAA,CAAAA,S;;EAiU1CkE,YAAY,CAAZA,SAAAA,GAAyB;IACvBY,YAAY,EAAE7C,SAAS,CADA,MAAA;IAEvB2C,WAAW,EAAE3C,SAAS,CAATA,SAAAA,CAAoB,CAACA,SAAS,CAAV,IAAA,EAAiBA,SAAS,CAFpC,IAEU,CAApBA,CAFU;IAGvB8C,iBAAiB,EAAE9C,SAAS,CAAC8E;EAHN,CAAzB7C;EAMAA,YAAY,CAAZA,YAAAA,GAA4B;IAC1BY,YAAY,EADc,EAAA;IAE1BF,WAAW,EAFe,KAAA;IAG1BG,iBAAiB,EAAE;EAHO,CAA5Bb;EAMA,IAAMrC,QAAM,GAAG,WAAA,CAAA,UAAA,CAAA,MAAA,CAAkB;IAC/BmF,KAAK,EAAE;MACLC,IAAI,EAAE;IADD,CADwB;IAI/BC,QAAQ,EAAE;MACR9E,QAAQ,EADA,UAAA;MAERC,GAAG,EAFK,CAAA;MAGRC,IAAI,EAHI,CAAA;MAIRE,KAAK,EAJG,CAAA;MAKRD,MAAM,EAAE;IALA;EAJqB,CAAlB,CAAf;;MCjWa4E,WAAb,GAAA,UAAA,gBAAA,EAAA;IAAA,SAAA,CAAA,WAAA,EAAA,gBAAA,CAAA;;IAAA,SAAA,WAAA,GAAA;MAAA,eAAA,CAAA,IAAA,EAAA,WAAA,CAAA;;MAAA,OAAA,0BAAA,CAAA,IAAA,EAAA,eAAA,CAAA,WAAA,CAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA,CAAA;IAAA;;IAAA,YAAA,CAAA,WAAA,EAAA,CAAA;MAAA,GAAA,EAAA,oBAAA;MAAA,KAAA,EAAA,SAAA,kBAAA,CAAA,MAAA,EAE6B;QAAA,IACjBrC,YADiB,GACAsC,MADA,CAAA,YAAA;;QAEzB,IAAM5G,IAAI,GAAG,KAAA,KAAA,CAAA,GAAA,CAAA,WAAA,CAFY,cAEZ,EAAb;;QAEA,IAAI,CAAJ,IAAA,EAAW;QACX,IAAM6G,QAAQ,GAAG7G,IAAI,CAAJA,QAAAA,CAAjB,OAAiBA,EAAjB;QACA,KAAA,KAAA,CAAA,GAAA,CAAA,YAAA,CAAA,sBAAA,CAAA,QAAA,EAAA,YAAA;MACD;IATH,CAAA,EAAA;MAAA,GAAA,EAAA,mBAAA;MAAA,KAAA,EAAA,SAAA,iBAAA,GAWsB;QAClB,KAAA,kBAAA,CAAwB,KAAxB,KAAA;MACD;IAbH,CAAA,EAAA;MAAA,GAAA,EAAA,oBAAA;MAAA,KAAA,EAAA,SAAA,kBAAA,GAeuB;QACnB,KAAA,kBAAA,CAAwB,KAAxB,KAAA;MACD;IAjBH,CAAA,EAAA;MAAA,GAAA,EAAA,QAAA;MAAA,KAAA,EAAA,SAAA,MAAA,GAmBW;QAAA,IAAA,WAAA,GACmC,KADnC,KAAA;QAAA,IACCsE,YADD,GAAA,WAAA,CAAA,YAAA;QAAA,IACenD,KADf,GAAA,WAAA,CAAA,KAAA;QAAA,IACsB0B,QADtB,GAAA,WAAA,CAAA,QAAA;QAEP,OACE,cAAA,CAAA,aAAA,CAACrB,WAAAA,CAAD,IAAA,EAAA;UAAM,KAAK,EAAE,CAAC8C,YAAY,CAAb,cAAA,EAAA,KAAA;QAAb,CAAA,EADF,QACE,CADF;MAKD;IA1BH,CAAA,CAAA,CAAA;;IAAA,OAAA,WAAA;EAAA,CAAA,CAAiC7F,cAAK,CAAtC,SAAA,C;;EA6BAkI,WAAW,CAAXA,SAAAA,GAAwB;IACtBrC,YAAY,EAAE7C,SAAS,CADD,MAAA;IAEtBuE,sBAAsB,EAAEvE,SAAS,CAFX,IAAA;IAGtBsE,qBAAqB,EAAEtE,SAAS,CAATA,SAAAA,CAAoB,CACzCA,SAAS,CADgC,MAAA,EAEzCA,SAAS,CAFgC,MAAA,EAGzCA,SAAS,CAHYA,KAAoB,CAApBA;EAHD,CAAxBkF;EAUAA,WAAW,CAAXA,YAAAA,GAA2B;IACzBrC,YAAY,EAAE;EADW,CAA3BqC;EAIA,IAAA,aAAA,GAAepD,OAAO,CAAtB,WAAsB,CAAtB;;MCzCauD,WAAb,GAAA,UAAA,UAAA,EAAA;IAAA,SAAA,CAAA,WAAA,EAAA,UAAA,CAAA;;IAAA,SAAA,WAAA,GAAA;MAAA,eAAA,CAAA,IAAA,EAAA,WAAA,CAAA;;MAAA,OAAA,0BAAA,CAAA,IAAA,EAAA,eAAA,CAAA,WAAA,CAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA,CAAA;IAAA;;IAAA,YAAA,CAAA,WAAA,EAAA,CAAA;MAAA,GAAA,EAAA,UAAA;MAAA,KAAA,EAAA,SAAA,QAAA,GAEa;QACT5E,KAAK,CAALA,iBAAK,CAALA;QACA,KAAA,KAAA,CAAA,OAAA,IAAsB,KAAA,KAAA,CAAtB,OAAsB,EAAtB;QACA,KAAA,KAAA,CAAA,GAAA,CAAA,WAAA,CAAA,QAAA,CAAoC,KAAA,KAAA,CAApC,QAAA;MACD;IANH,CAAA,EAAA;MAAA,GAAA,EAAA,QAAA;MAAA,KAAA,EAAA,SAAA,MAAA,GAQW;QAAA,IAAA,KAAA,GAAA,IAAA;;QAAA,IAAA,WAAA,GAEyD,KAFzD,KAAA;QAAA,IACC6E,QADD,GAAA,WAAA,CAAA,QAAA;QAAA,IACWpI,KADX,GAAA,WAAA,CAAA,KAAA;QAAA,IACkBqI,IADlB,GAAA,WAAA,CAAA,IAAA;QAAA,IACwBnE,QADxB,GAAA,WAAA,CAAA,QAAA;QAAA,IACkC1B,KADlC,GAAA,WAAA,CAAA,KAAA;QAAA,IACyCmD,YADzC,GAAA,WAAA,CAAA,YAAA;QAAA,IACuDuC,QADvD,GAAA,WAAA,CAAA,QAAA;QAAA,IAELI,kBAFK,GAAA,WAAA,CAAA,kBAAA;QAAA,IAEeC,mBAFf,GAAA,WAAA,CAAA,mBAAA;QAAA,IAEoCC,MAFpC,GAAA,WAAA,CAAA,MAAA;QAAA,IAE+CrE,KAF/C,GAAA,wBAAA,CAAA,WAAA,EAAA,CAAA,UAAA,EAAA,OAAA,EAAA,MAAA,EAAA,UAAA,EAAA,OAAA,EAAA,cAAA,EAAA,UAAA,EAAA,oBAAA,EAAA,qBAAA,EAAA,QAAA,CAAA,CAAA;;QAGP,IAAM5B,OAAO,GAAG,SAAVA,OAAU,GAAA;UAAA,OAAM,CAAA,QAAA,IAAa,KAAI,CAAvB,QAAmB,EAAnB;QAAhB,CAAA;;QAHO,IAAA,cAAA,GAIsCkG,aAAa,CAAC9C,YAAY,CAJhE,yBAImD,CAJnD;QAAA,IAIC3G,SAJD,GAAA,cAAA,CAAA,SAAA;QAAA,IAIYO,qBAJZ,GAAA,cAAA,CAAA,qBAAA;;QAKP,OACE,cAAA,CAAA,aAAA,CAACsD,WAAAA,CAAD,IAAA,EAAA;UAAM,GAAG,EAAT,KAAA;UAAkB,WAAW,EAA7B,KAAA;UAAsC,KAAK,EAAE8C,YAAY,CAAC+C;QAA1D,CAAA,EACE,cAAA,CAAA,aAAA,CAAA,SAAA,EAAA,QAAA,CAAA;UACE,MAAM,EADR,MAAA;UAEE,OAAO,EAAEJ,kBAAkB,GAAA,mBAAA,GAF7B,OAAA;UAGE,WAAW,EAAEA,kBAAkB,GAAA,OAAA,GAAaC;QAH9C,CAAA,EAAA,qBAAA,EAKM5C,YAAY,CALlB,gBAAA,CAAA,EAOE,cAAA,CAAA,aAAA,CAAC9C,WAAAA,CAAD,IAAA,EAAA,QAAA,CAAA,EAAA,EAAA,KAAA,EAAA;UAAiB,KAAK,EAAE,CAAC8C,YAAY,CAAb,cAAA,EAAA,KAAA;QAAxB,CAAA,CAAA,EACG0C,IAAI,GAAG,cAAA,CAAA,aAAA,CAACM,WAAAA,CAAD,IAAA,EAAA;UAAM,KAAK,EAAEhD,YAAY,CAACiD;QAA1B,CAAA,EAAH,IAAG,CAAH,GAVb,QASM,CAPF,CADF,CADF;MAeD;IA5BH,CAAA,CAAA,CAAA;;IAAA,OAAA,WAAA;EAAA,CAAA,CAAiC/H,KAAAA,CAAjC,SAAA,C;;EAgCAsH,WAAW,CAAXA,SAAAA,GAAwB;IACtBC,QAAQ,EAAEtF,SAAS,CADG,IAAA;IAEtBuF,IAAI,EAAEvF,SAAS,CAFO,MAAA;IAGtBP,OAAO,EAAEO,SAAS,CAHI,IAAA;IAItByF,mBAAmB,EAAEzF,SAAS,CAJR,IAAA;IAKtB6C,YAAY,EAAE7C,SAAS,CALD,MAAA;IAMtBwF,kBAAkB,EAAExF,SAAS,CANP,IAAA;IAOtB0F,MAAM,EAAE1F,SAAS,CAAC+F;EAPI,CAAxBV;EAUAA,WAAW,CAAXA,YAAAA,GAA2B;IACzBC,QAAQ,EADiB,KAAA;IAEzBzC,YAAY,EAFa,EAAA;IAGzB6C,MAAM,EAAEzC;EAHiB,CAA3BoC;EAMA,IAAA,aAAA,GAAevD,OAAO,CAAtB,WAAsB,CAAtB;;ECnDA,IAAMkE,YAAY,GAAG,SAAfA,YAAe,CAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAA4B;IAE/C,IAAIC,IAAI,GAAR,IAAA,EAAiB;MACf,OAAA,CAAA;IAH6C;;IAM/C,IAAIC,IAAI,GAAJA,IAAAA,IAAJ,IAAA,EAAyB;MACvB,OAAA,IAAA;IAP6C;;IAU/C,IAAIA,IAAI,GAAJA,IAAAA,GAAAA,IAAAA,IAAJ,CAAA,EAA6B;MAC3B,OAAOA,IAAI,GAAJA,IAAAA,GAAP,IAAA;IAX6C;;IAc/C,IAAIC,GAAG,GAAGC,IAAI,CAAJA,KAAAA,CAAWF,IAAI,GAAIG,IAAI,GAAZH,CAAAA,GAAqBD,IAAI,GAdC,CAcrCG,CAAV;;IAEA,IAAID,GAAG,GAAP,CAAA,EAAa;MACX,OAAA,CAAA;IAjB6C;;IAoB/C,IAAIA,GAAG,GAAHA,IAAAA,GAAJ,IAAA,EAAuB;MACrB,OAAOG,IAAI,GAAX,IAAA;IArB6C;;IAwB/C,OAAA,GAAA;EAxBF,CAAA;;EA2BA,SAAA,GAAA,CAAA,GAAA,EAAA,GAAA,EAAA,MAAA,EAAA,MAAA,EAAuC;IACrC,IAAIH,GAAG,KAAP,SAAA,EAAuB;MACrB,OAAA,SAAA;IACD;;IACD,IAAIA,GAAG,GAAHA,GAAAA,GAAJ,MAAA,EAAwB;MACtBA,GAAG,GAAGI,MAAM,GAAZJ,GAAAA;IACD;;IACD,IAAIA,GAAG,GAAP,MAAA,EAAkB;MAChBA,GAAG,GAAHA,MAAAA;IACD;;IACD,OAAA,GAAA;EACD;;EAEM,IAAMK,uBAAuB,GAAG,SAA1BA,uBAA0B,CAAA,QAAA,EAAA,OAAA,EAAuB;IAAA,IACpDtF,YADoD,GACJ5C,OADI,CAAA,YAAA;IAAA,IACtC+F,cADsC,GACJ/F,OADI,CAAA,cAAA;IAAA,IACtBoF,aADsB,GACJpF,OADI,CAAA,aAAA;;IAE5D,IAAI,CAAJ,cAAA,EAAqB;MACnB,OAAA,QAAA;IACD;;IAJ2D,IAKjDmI,GALiD,GAKCpC,cALD,CAAA,CAAA;IAAA,IAKzCqC,GALyC,GAKCrC,cALD,CAAA,CAAA;IAAA,IAK5BsC,QAL4B,GAKCtC,cALD,CAAA,MAAA;IAAA,IAKXuC,OALW,GAKCvC,cALD,CAAA,KAAA;IAAA,IAM5CwC,OAN4C,GAMjBnD,aANiB,CAAA,MAAA;IAAA,IAM5BoD,MAN4B,GAMjBpD,aANiB,CAAA,KAAA;IAAA,IAO7CqD,MAP6C,GAOlC7F,YAPkC,CAAA,KAAA;IAAA,IAQtDd,GARsD,GAQjCD,QARiC,CAAA,GAAA;IAAA,IAQjDE,IARiD,GAQjCF,QARiC,CAAA,IAAA;IAAA,IAQ3CI,KAR2C,GAQjCJ,QARiC,CAAA,KAAA;IAS5DC,GAAG,GAAG4G,GAAG,CAAA,GAAA,EAAA,OAAA,EAAA,GAAA,EAAoBN,GAAG,GAAhCtG,QAAS,CAATA;IACAC,IAAI,GAAG2G,GAAG,CAAA,IAAA,EAAA,MAAA,EAAA,GAAA,EAAoBP,GAAG,GAAjCpG,OAAU,CAAVA;IACAE,KAAK,GAAGyG,GAAG,CAAA,KAAA,EAAA,MAAA,EAAgBD,MAAM,GAANA,GAAAA,GAAhB,OAAA,EAAXxG,GAAW,CAAXA;IACA,OAAO;MAAEH,GAAG,EAAL,GAAA;MAAOC,IAAI,EAAX,IAAA;MAAaE,KAAK,EAALA;IAAb,CAAP;EAZK,CAAA;;EAeA,IAAMU,iBAAe,GAAG,SAAlBA,eAAkB,CAAA,OAAA,EAAA,KAAA,EAAoB;IAAA,IACzCC,YADyC,GACM5C,OADN,CAAA,YAAA;IAAA,IAC3B0E,aAD2B,GACM1E,OADN,CAAA,aAAA;IAAA,IACZoF,aADY,GACMpF,OADN,CAAA,aAAA;IAAA,IAEtC2I,EAFsC,GAEQ/F,YAFR,CAAA,CAAA;IAAA,IAE/BgG,EAF+B,GAEQhG,YAFR,CAAA,CAAA;IAAA,IAEpB6F,MAFoB,GAEQ7F,YAFR,CAAA,KAAA;IAAA,IAEJiG,OAFI,GAEQjG,YAFR,CAAA,MAAA;IAAA,IAGtCkG,EAHsC,GAGQpE,aAHR,CAAA,CAAA;IAAA,IAG/BqE,EAH+B,GAGQrE,aAHR,CAAA,CAAA;IAAA,IAGnBsE,OAHmB,GAGQtE,aAHR,CAAA,MAAA;IAAA,IAGHuE,MAHG,GAGQvE,aAHR,CAAA,KAAA;IAAA,IAIjC6D,OAJiC,GAINnD,aAJM,CAAA,MAAA;IAAA,IAIjBoD,MAJiB,GAINpD,aAJM,CAAA,KAAA;IAKjD,IAAMtD,GAAG,GAAG4F,YAAY,CAAA,OAAA,EAAA,OAAA,EAAmBqB,EAAE,GAArB,EAAA,EAAxB,OAAwB,CAAxB;IACA,IAAMhH,IAAI,GAAG2F,YAAY,CAAA,MAAA,EAAA,MAAA,EAAiBoB,EAAE,GAAnB,EAAA,EAAzB,MAAyB,CAAzB;IACA,IAAMI,KAAK,GAAGC,KAAK,GAAA,OAAA,GAAnB,MAAA;;IACA,IAAMtH,QAAQ,GAAA,eAAA,CAAA;MAAKC,GAAG,EAAHA;IAAL,CAAA,EAAA,KAAA,EAAd,IAAc,CAAd;;IACA,OAAOoG,uBAAuB,CAAA,QAAA,EAA9B,OAA8B,CAA9B;EATK,CAAA;;MAYckB,WAAAA,G;;;IAEnB,SAAA,WAAA,CAAA,KAAA,EAAmB;MAAA,IAAA,KAAA;;MAAA,eAAA,CAAA,IAAA,EAAA,WAAA,CAAA;;MACjB,KAAA,GAAA,0BAAA,CAAA,IAAA,EAAA,eAAA,CAAA,WAAA,CAAA,CAAA,IAAA,CAAA,IAAA,EAAA,KAAA,CAAA,CAAA;MACA,KAAA,CAAA,KAAA,GAAa;QACXC,SAAS,EAAE,IAAItI,WAAAA,CAAAA,QAAAA,CAAJ,KAAA,CAAA,GAAA;MADA,CAAb;MAFiB,OAAA,KAAA;IAKlB;;;;0CAEmB;QAClBA,WAAAA,CAAAA,QAAAA,CAAAA,MAAAA,CAAgB,KAAA,KAAA,CAAhBA,SAAAA,EAAsC;UACpCC,QAAQ,EAD4B,kBAAA;UAEpCC,OAAO,EAF6B,CAAA;UAGpCqI,MAAM,EAAEC,WAAAA,CAAAA,MAAAA,CAAAA,GAAAA,CAAWA,WAAAA,CAAAA,MAAAA,CAHiB,KAG5BA,CAH4B;UAIpCrI,eAAe,EAAEL;QAJmB,CAAtCE,EAAAA,KAAAA;MAMD;;;8BAEO;QAAA,IAAA,MAAA,GAAA,IAAA;;QACN,OAAO,IAAA,OAAA,CAAY,UAAA,OAAA,EAAW;UAC5BA,WAAAA,CAAAA,QAAAA,CAAAA,MAAAA,CAAgB,MAAI,CAAJ,KAAA,CAAhBA,SAAAA,EAAsC;YACpCC,QAAQ,EAD4B,mBAAA;YAEpCC,OAAO,EAF6B,CAAA;YAGpCqI,MAAM,EAAEC,WAAAA,CAAAA,MAAAA,CAAAA,EAAAA,CAAUA,WAAAA,CAAAA,MAAAA,CAHkB,KAG5BA,CAH4B;YAIpCrI,eAAe,EAAEL;UAJmB,CAAtCE,EAAAA,KAAAA,CAAAA,OAAAA;QADF,CAAO,CAAP;MAQD;;;+BAEQ;QAAA,IAAA,WAAA,GACwC,KADxC,KAAA;QAAA,IACCK,KADD,GAAA,WAAA,CAAA,KAAA;QAAA,IACQ0B,QADR,GAAA,WAAA,CAAA,QAAA;QAAA,IACkB9C,OADlB,GAAA,WAAA,CAAA,OAAA;QAAA,IAC8B+C,KAD9B,GAAA,wBAAA,CAAA,WAAA,EAAA,CAAA,OAAA,EAAA,UAAA,EAAA,SAAA,CAAA,CAAA;;QAEP,IAAMyG,SAAS,GAAG;UAChBC,SAAS,EAAE,CAAE;YAAEC,KAAK,EAAE,KAAA,KAAA,CAAWL;UAApB,CAAF,CADK;UAEhB9H,OAAO,EAAE,KAAA,KAAA,CAAW8H;QAFJ,CAAlB;QAIA,IAAMxH,QAAQ,GAAGc,iBAAe,CAAA,OAAA,EAAUgH,WAAAA,CAAAA,WAAAA,CAA1C,KAAgC,CAAhC;QACA,OACE,cAAA,CAAA,aAAA,CAAC5I,WAAAA,CAAD,QAACA,CAAD,IAAA,EAAA,QAAA,CAAA,EAAA,EAAA,KAAA,EAAA;UAA0B,KAAK,EAAE,CAACO,QAAM,CAAP,OAAA,EAAA,KAAA,EAAA,SAAA,EAAA,QAAA;QAAjC,CAAA,CAAA,EADF,QACE,CADF;MAKD;;;;IAzCsC5C,cAAK,CAACe,S;;EA8C/C2J,WAAW,CAAXA,eAAAA,GAAAA,iBAAAA;EACAA,WAAW,CAAXA,uBAAAA,GAAAA,uBAAAA;EAEO,IAAM9H,QAAM,GAAG,WAAA,CAAA,UAAA,CAAA,MAAA,CAAkB;IACtC2B,OAAO,EAAE;MACPpB,QAAQ,EADD,UAAA;MAEP+H,YAAY,EAFL,CAAA;MAGPC,eAAe,EAHR,OAAA;MAIPrM,KAAK,EAAEsM,WAAAA,CAAAA,UAAAA,CAAAA,mBAAAA,CAJA,GAIAA,CAJA;MAOPC,WAAW,EAPJ,OAAA;MAQPC,aAAa,EARN,GAAA;MASPC,YAAY,EAAE;QAAEzM,KAAK,EAAP,CAAA;QAAYC,MAAM,EAAE;MAApB,CATP;MAUPyM,YAAY,EAVL,CAAA;MAaPC,SAAS,EAAE;IAbJ;EAD6B,CAAlB,CAAf;;EC9GP,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAA,CAAA,EAAC;IAAA,OAAIC,CAAC,CAADA,IAAAA,KAAAA,aAAAA,IAA0BA,CAAC,CAADA,IAAAA,KAA9B,aAAA;EAA5B,CAAA;;EACA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAAA,CAAA,EAAC;IAAA,OAAID,CAAC,CAADA,IAAAA,KAAJ,aAAA;EAAnB,CAAA;;EACA,IAAME,aAAa,GAAG,SAAhBA,aAAgB,CAAA,CAAA,EAAC;IAAA,OAAIF,CAAC,CAADA,IAAAA,KAAJ,aAAA;EAAvB,CAAA;;EAEA,IAAaG,IAAb,GAAA,UAAA,UAAA,EAAA;IAAA,SAAA,CAAA,IAAA,EAAA,UAAA,CAAA;;IAEE,SAAA,IAAA,CAAA,KAAA,EAAmB;MAAA,IAAA,KAAA;;MAAA,eAAA,CAAA,IAAA,EAAA,IAAA,CAAA;;MACjB,KAAA,GAAA,0BAAA,CAAA,IAAA,EAAA,eAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,IAAA,EAAA,KAAA,CAAA,CAAA;MACA,KAAA,CAAA,KAAA,GAAa,KAAA,CAAA,KAAA,CAAA,IAAA,IAAmB9M,QAAhC,EAAA;MACA,KAAA,CAAA,WAAA,GAAA,KAAA;MAHiB,IAIT2E,GAJS,GAIDW,KAJC,CAAA,GAAA;;MAKjB,IAAG,EAAEX,GAAG,IAAIA,GAAG,CAAf,WAAG,CAAH,EAA8B;QAC5B,MAAM,IAAA,KAAA,CAAN,iDAAM,CAAN;MACD;;MAPgB,OAAA,KAAA;IAQlB;;IAVH,YAAA,CAAA,IAAA,EAAA,CAAA;MAAA,GAAA,EAAA,mBAAA;MAAA,KAAA,EAAA,SAAA,iBAAA,GAYsB;QAClB,IAAI,CAAC,KAAL,iBAAK,EAAL,EAA+B;UAC7B;QACD;;QACDF,KAAK,CAAA,kBAAA,EAAqB,KAA1BA,KAAK,CAALA;QACA,KAAA,KAAA,CAAA,GAAA,CAAA,YAAA,CAAA,SAAA,CAAA,IAAA;;QACA,KAAA,KAAA,CAAA,GAAA,CAAA,WAAA,CAAA,OAAA;MACD;IAnBH,CAAA,EAAA;MAAA,GAAA,EAAA,oBAAA;MAAA,KAAA,EAAA,SAAA,kBAAA,CAAA,SAAA,EAqBgC;QAC5B,IAAI,KAAA,KAAA,CAAA,IAAA,KAAoBsI,SAAS,CAAjC,IAAA,EAAwC;UACtC5L,OAAO,CAAPA,IAAAA,CAAAA,6BAAAA;QAF0B;;QAK5B,IAAM6L,KAAK,GAAG,KAAd,MAAc,EAAd;QACAvI,KAAK,CAAA,sBAAA,EAAyB,KAAzB,KAAA,EAALA,KAAK,CAALA;;QACA,KAAA,KAAA,CAAA,GAAA,CAAA,WAAA,CAAA,OAAA,CAAA,KAAA;MACD;IA7BH,CAAA,EAAA;MAAA,GAAA,EAAA,sBAAA;MAAA,KAAA,EAAA,SAAA,oBAAA,GA+ByB;QACrBA,KAAK,CAAA,oBAAA,EAAuB,KAA5BA,KAAK,CAALA;;QACA,IAAI,KAAJ,MAAI,EAAJ,EAAmB;UACjB,KAAA,WAAA,GAAA,IAAA;;UACA,KAAA,KAAA,CAAA,GAAA,CAAA,WAAA,CAAA,OAAA;QACD;;QACD,KAAA,KAAA,CAAA,GAAA,CAAA,YAAA,CAAA,WAAA,CAAA,IAAA;MACD;IAtCH,CAAA,EAAA;MAAA,GAAA,EAAA,MAAA;MAAA,KAAA,EAAA,SAAA,IAAA,GAwCS;QACL,OAAO,KAAA,KAAA,CAAA,GAAA,CAAA,WAAA,CAAA,QAAA,CAAoC,KAA3C,KAAO,CAAP;MACD;IA1CH,CAAA,EAAA;MAAA,GAAA,EAAA,OAAA;MAAA,KAAA,EAAA,SAAA,KAAA,GA4CU;QACN,OAAO,KAAA,KAAA,CAAA,GAAA,CAAA,WAAA,CAAP,SAAO,EAAP;MACD;IA9CH,CAAA,EAAA;MAAA,GAAA,EAAA,QAAA;MAAA,KAAA,EAAA,SAAA,MAAA,GAgDW;QACP,IAAI,KAAJ,WAAA,EAAsB;UACpB,OAAA,KAAA;QACD;;QACD,OAAO,KAAA,KAAA,CAAA,cAAA,CAAA,QAAA,IAAsC,KAAA,KAAA,CAAtC,MAAA,GAA0D,KAAjE,OAAA;MACD;IArDH,CAAA,EAAA;MAAA,GAAA,EAAA,SAAA;MAAA,KAAA,EAAA,SAAA,OAAA,GAuDY;QACR,OAAO,KAAP,KAAA;MACD;IAzDH,CAAA,EAAA;MAAA,GAAA,EAAA,QAAA;MAAA,KAAA,EAAA,SAAA,MAAA,GA2DW;QAAA,IACCf,KADD,GACW,KADX,KACW,CADX,KAAA;;QAEP,IAAM0B,QAAQ,GAAG,KAAjB,eAAiB,EAAjB;;QACA,OACE,cAAA,CAAA,aAAA,CAACrB,WAAAA,CAAD,IAAA,EAAA;UAAM,KAAK,EAAEL;QAAb,CAAA,EADF,QACE,CADF;MAKD;IAnEH,CAAA,EAAA;MAAA,GAAA,EAAA,iBAAA;MAAA,KAAA,EAAA,SAAA,eAAA,GAqEoB;QAAA,IAAA,MAAA,GAAA,IAAA;;QAChB,OAAO,cAAK,CAAL,QAAA,CAAA,OAAA,CAAuB,KAAA,KAAA,CAAvB,QAAA,EAAA,MAAA,CAAmD,UAAA,CAAA,EAAA,KAAA,EAAc;UACtE,IAAIkJ,SAAS,CAAb,KAAa,CAAb,EAAsB;YACpBK,CAAC,CAADA,IAAAA,CAAO,cAAK,CAAL,YAAA,CAAA,KAAA,EAA0B;cAC/BC,GAAG,EAD4B,IAAA;cAE/B9D,QAAQ,EAAE,MAAI,CAFiB,KAAA;cAG/BlI,KAAK,EAAG,SAAA,KAAA,CAAA,CAAA,EAAC;gBAAA,OAAI,MAAI,CAAJ,QAAA,GAAJ,CAAA;cAAA;YAHsB,CAA1B,CAAP+L;UAKD;;UACD,IAAIP,kBAAkB,CAAtB,KAAsB,CAAtB,EAA+B;YAC7BO,CAAC,CAADA,IAAAA,CAAAA,KAAAA;UACD;;UACD,OAAA,CAAA;QAXK,CAAA,EAAP,EAAO,CAAP;MAaD;IAnFH,CAAA,EAAA;MAAA,GAAA,EAAA,aAAA;MAAA,KAAA,EAAA,SAAA,WAAA,GAqFgB;QACZ,OAAO,KAAP,QAAA;MACD;IAvFH,CAAA,EAAA;MAAA,GAAA,EAAA,aAAA;MAAA,KAAA,EAAA,SAAA,WAAA,GAyFgB;QACZ,OAAOjM,cAAK,CAALA,QAAAA,CAAAA,OAAAA,CAAuB,KAAA,KAAA,CAAvBA,QAAAA,EAAAA,IAAAA,CAAP,aAAOA,CAAP;MACD;IA3FH,CAAA,EAAA;MAAA,GAAA,EAAA,YAAA;MAAA,KAAA,EAAA,SAAA,UAAA,GA6Fe;QACX,OAAO,KAAP,OAAA;MACD;IA/FH,CAAA,EAAA;MAAA,GAAA,EAAA,YAAA;MAAA,KAAA,EAAA,SAAA,UAAA,CAAA,MAAA,EAiGqB;QACjB,KAAA,OAAA,GAAA,MAAA;MACD;IAnGH,CAAA,EAAA;MAAA,GAAA,EAAA,mBAAA;MAAA,KAAA,EAAA,SAAA,iBAAA,GAqGsB;QAClB,IAAMoE,QAAQ,GAAGpE,cAAK,CAALA,QAAAA,CAAAA,OAAAA,CAAuB,KAAA,KAAA,CAAxC,QAAiBA,CAAjB;QACA,IAAMuE,OAAO,GAAGH,QAAQ,CAARA,IAAAA,CAAhB,aAAgBA,CAAhB;;QACA,IAAI,CAAJ,OAAA,EAAc;UACZjE,OAAO,CAAPA,IAAAA,CAAAA,2CAAAA;QACD;;QACD,IAAM6G,OAAO,GAAG5C,QAAQ,CAARA,IAAAA,CAAhB,SAAgBA,CAAhB;;QACA,IAAI,CAAJ,OAAA,EAAc;UACZjE,OAAO,CAAPA,IAAAA,CAAAA,2CAAAA;QACD;;QACD,OAAOoE,OAAO,IAAd,OAAA;MACD;IAhHH,CAAA,CAAA,CAAA;;IAAA,OAAA,IAAA;EAAA,CAAA,CAA0BxD,KAAAA,CAA1B,SAAA,CAAA;;EAoHA+K,IAAI,CAAJA,SAAAA,GAAiB;IACfhL,IAAI,EAAEkC,SAAS,CADA,MAAA;IAEfmE,QAAQ,EAAEnE,SAAS,CAFJ,IAAA;IAGfoE,aAAa,EAAEpE,SAAS,CAHT,MAAA;IAIfmJ,QAAQ,EAAEnJ,SAAS,CAJJ,IAAA;IAKfoJ,MAAM,EAAEpJ,SAAS,CALF,IAAA;IAMfqJ,OAAO,EAAErJ,SAAS,CANH,IAAA;IAOfsJ,MAAM,EAAEtJ,SAAS,CAPF,IAAA;IAQfuJ,eAAe,EAAEvJ,SAAS,CAACwJ;EARZ,CAAjBV;EAWAA,IAAI,CAAJA,YAAAA,GAAoB;IAClB3E,QAAQ,EADU,WAAA;IAElBC,aAAa,EAFK,EAAA;IAGlB+E,QAAQ,EAAE,SAAA,QAAA,GAAM,CAHE,CAAA;IAIlBC,MAAM,EAAE,SAAA,MAAA,GAAM,CAJI,CAAA;IAKlBC,OAAO,EAAE,SAAA,OAAA,GAAM,CALG,CAAA;IAMlBE,eAAe,EAAE,SAAA,eAAA,GAAM,CAAA;EANL,CAApBT;EASA,IAAMW,YAAY,GAAG3H,OAAO,CAA5B,IAA4B,CAA5B;EACAtD,MAAM,CAANA,cAAAA,CAAAA,YAAAA,EAAAA,OAAAA,EACI;IACEkL,GAAG,EAAE,SAAA,GAAA,GAAW;MAAE,OAAOlJ,GAAG,CAAV,KAAA;IADpB,CAAA;IAEEmJ,GAAG,EAAE,SAAA,GAAA,CAAA,GAAA,EAAc;MAAEnJ,GAAG,CAAHA,KAAAA,GAAAA,GAAAA;IAAiB;EAFxC,CADJhC;;EAKAiL,YAAY,CAAZA,kBAAAA,GAAkC,UAAA,QAAA,EAAc;IAC9CX,IAAI,CAAJA,YAAAA,CAAAA,QAAAA,GAAAA,QAAAA;EADFW,CAAAA;;EAGAA,YAAY,CAAZA,uBAAAA,GAAuC,UAAA,aAAA,EAAmB;IACxDX,IAAI,CAAJA,YAAAA,CAAAA,aAAAA,GAAAA,aAAAA;EADFW,CAAAA;;MCvJaG,UAAb,GAAA,UAAA,UAAA,EAAA;IAAA,SAAA,CAAA,UAAA,EAAA,UAAA,CAAA;;IAAA,SAAA,UAAA,GAAA;MAAA,eAAA,CAAA,IAAA,EAAA,UAAA,CAAA;;MAAA,OAAA,0BAAA,CAAA,IAAA,EAAA,eAAA,CAAA,UAAA,CAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA,CAAA;IAAA;;IAAA,YAAA,CAAA,UAAA,EAAA,CAAA;MAAA,GAAA,EAAA,WAAA;MAAA,KAAA,EAAA,SAAA,SAAA,GAEc;QAAA,IACFC,KADE,GACQ,KADR,KACQ,CADR,KAAA;;QAEV,IAAMV,QAAQ,GAAG,KAAA,KAAA,CAAA,QAAA,IAAuB,KAAxC,iBAAwC,EAAxC;;QACA,IAAMW,WAAW,GAAGX,QAAQ,CAARA,KAAQ,CAARA,KAApB,KAAA;QACA1I,KAAK,CAAA,eAAA,EAAA,KAAA,EAALA,WAAK,CAALA;;QACA,IAAA,WAAA,EAAiB;UACb,KAAA,KAAA,CAAA,GAAA,CAAA,WAAA,CAAA,SAAA;QACH;MACF;IAVH,CAAA,EAAA;MAAA,GAAA,EAAA,mBAAA;MAAA,KAAA,EAAA,SAAA,iBAAA,GAYsB;QAClB,IAAMlC,IAAI,GAAG,KAAA,KAAA,CAAA,GAAA,CAAA,WAAA,CAAb,cAAa,EAAb;;QACA,OAAOA,IAAI,CAAJA,QAAAA,CAAAA,KAAAA,CAAP,QAAA;MACD;IAfH,CAAA,EAAA;MAAA,GAAA,EAAA,kBAAA;MAAA,KAAA,EAAA,SAAA,gBAAA,GAiBqB;QAEjB,IAAMA,IAAI,GAAG,KAAA,KAAA,CAAA,GAAA,CAAA,WAAA,CAAA,cAAA,MAAb,EAAA;QAFiB,IAGTE,mBAHS,GAGeF,IAHf,CAAA,mBAAA;QAIjB,OAAA,aAAA,CAAA,EAAA,EAAA,mBAAA,EAEK,KAAA,KAAA,CAFL,YAAA,CAAA;MAID;IAzBH,CAAA,EAAA;MAAA,GAAA,EAAA,QAAA;MAAA,KAAA,EAAA,SAAA,MAAA,GA2BW;QAAA,IAAA,KAAA,GAAA,IAAA;;QAAA,IAAA,WAAA,GAC+D,KAD/D,KAAA;QAAA,IACCgH,IADD,GAAA,WAAA,CAAA,IAAA;QAAA,IACOD,QADP,GAAA,WAAA,CAAA,QAAA;QAAA,IACiByE,gBADjB,GAAA,WAAA,CAAA,gBAAA;QAAA,IACmC3I,QADnC,GAAA,WAAA,CAAA,QAAA;QAAA,IAC6C1B,KAD7C,GAAA,WAAA,CAAA,KAAA;QAAA,IACoDgG,MADpD,GAAA,WAAA,CAAA,MAAA;;QAEP,IAAM7C,YAAY,GAAG,KAArB,gBAAqB,EAArB;;QACA,IAAI0C,IAAI,IAAIvI,cAAK,CAALA,QAAAA,CAAAA,KAAAA,CAAAA,QAAAA,IAAZ,CAAA,EAAgD;UAC9CG,OAAO,CAAPA,IAAAA,CAAAA,mGAAAA;QACD;;QACD,IAAA,QAAA,EAAc;UACZ,IAAM6M,cAAc,GAAG,CAACC,aAAa,CAAd,kBAAA,EAAmCpH,YAAY,CAAtE,UAAuB,CAAvB;UACA,OACE,cAAA,CAAA,aAAA,CAAC9C,WAAAA,CAAD,IAAA,EAAA;YAAM,KAAK,EAAE,CAACkK,aAAa,CAAd,MAAA,EAAuBpH,YAAY,CAAnC,aAAA,EAAA,KAAA;UAAb,CAAA,EACG0C,IAAI,GAAG,cAAA,CAAA,aAAA,CAACM,WAAAA,CAAD,IAAA,EAAA;YAAM,KAAK,EAAEmE;UAAb,CAAA,EAAH,IAAG,CAAH,GAFT,QACE,CADF;QAKD;;QACD,IAAME,QAAQ,GACZ,cAAA,CAAA,aAAA,CAACnK,WAAAA,CAAD,IAAA,EAAA;UAAM,KAAK,EAAE,CAACkK,aAAa,CAAd,MAAA,EAAuBpH,YAAY,CAAnC,aAAA,EAAA,KAAA;QAAb,CAAA,EACG0C,IAAI,GAAG,cAAA,CAAA,aAAA,CAACM,WAAAA,CAAD,IAAA,EAAA;UAAM,KAAK,EAAEhD,YAAY,CAACsH;QAA1B,CAAA,EAAH,IAAG,CAAH,GAFT,QACE,CADF;;QAKA,IAAA,gBAAA,EAAsB;UACpB,OAAA,QAAA;QADF,CAAA,MAGK;UAAA,IAAA,cAAA,GAC0CxE,aAAa,CAAC9C,YAAY,CADpE,wBACuD,CADvD;UAAA,IACK3G,SADL,GAAA,cAAA,CAAA,SAAA;UAAA,IACgBO,qBADhB,GAAA,cAAA,CAAA,qBAAA;;UAEH,OACE,cAAA,CAAA,aAAA,CAAA,SAAA,EAAA,QAAA,CAAA;YACE,MAAM,EADR,MAAA;YAEE,OAAO,EAAE,SAAA,OAAA,GAAA;cAAA,OAAM,KAAI,CAAV,SAAM,EAAN;YAAA;UAFX,CAAA,EAAA,qBAAA,EAIMoG,YAAY,CAJlB,eAAA,CAAA,EADF,QACE,CADF;QAUD;MACF;IA9DH,CAAA,CAAA,CAAA;;IAAA,OAAA,UAAA;EAAA,CAAA,CAAgC9E,KAAAA,CAAhC,SAAA,C;;EAiEA6L,UAAU,CAAVA,SAAAA,GAAuB;IACrBtE,QAAQ,EAAEtF,SAAS,CADE,IAAA;IAErB+J,gBAAgB,EAAE/J,SAAS,CAFN,IAAA;IAGrBmJ,QAAQ,EAAEnJ,SAAS,CAHE,IAAA;IAIrBuF,IAAI,EAAEvF,SAAS,CAJM,MAAA;IAKrB6J,KAAK,EAAE7J,SAAS,CALK,GAAA;IAMrB6C,YAAY,EAAE7C,SAAS,CANF,MAAA;IAOrB0F,MAAM,EAAE1F,SAAS,CAAC+F;EAPG,CAAvB6D;EAUAA,UAAU,CAAVA,YAAAA,GAA0B;IACxBtE,QAAQ,EADgB,KAAA;IAExByE,gBAAgB,EAFQ,KAAA;IAGxBlH,YAAY,EAHY,EAAA;IAIxB6C,MAAM,EAAEzC;EAJgB,CAA1B2G;EAOA,IAAMK,aAAa,GAAG,WAAA,CAAA,UAAA,CAAA,MAAA,CAAkB;IACtCG,MAAM,EAAE;MACNC,OAAO,EADD,CAAA;MAENlC,eAAe,EAAE;IAFX,CAD8B;IAKtCmC,kBAAkB,EAAE;MAClBC,KAAK,EAAE;IADW;EALkB,CAAlB,CAAtB;EAUA,IAAA,YAAA,GAAezI,OAAO,CAAtB,UAAsB,CAAtB;;MC5FqB0I,sBAAAA,G;;;;;;;;;;;+BAEV;QAAA,IAAA,WAAA,GACwC,KADxC,KAAA;QAAA,IACC9K,KADD,GAAA,WAAA,CAAA,KAAA;QAAA,IACQ0B,QADR,GAAA,WAAA,CAAA,QAAA;QAAA,IACkB9C,OADlB,GAAA,WAAA,CAAA,OAAA;QAAA,IAC8B+C,KAD9B,GAAA,wBAAA,CAAA,WAAA,EAAA,CAAA,OAAA,EAAA,UAAA,EAAA,SAAA,CAAA,CAAA;;QAEP,IAAMlB,QAAQ,GAAGc,iBAAe,CAAA,OAAA,EAAUgH,WAAAA,CAAAA,WAAAA,CAA1C,KAAgC,CAAhC;QACA,OACE,cAAA,CAAA,aAAA,CAAClI,WAAAA,CAAD,IAAA,EAAA,QAAA,CAAA,EAAA,EAAA,KAAA,EAAA;UAAiB,KAAK,EAAE,CAACH,QAAM,CAAP,OAAA,EAAA,KAAA,EAAA,QAAA;QAAxB,CAAA,CAAA,EADF,QACE,CADF;MAKD;;;;IAViD5C,cAAK,CAACe,S;;ECJnD,IAAMkD,iBAAe,GAAG,SAAlBA,eAAkB,CAAA,OAAA,EAAa;IAAA,IAClCC,YADkC,GACF5C,OADE,CAAA,YAAA;IAAA,IACpBoF,aADoB,GACFpF,OADE,CAAA,aAAA;IAAA,IAE1B6I,OAF0B,GAEdjG,YAFc,CAAA,MAAA;IAAA,IAG1B2F,OAH0B,GAGdnD,aAHc,CAAA,MAAA;IAI1C,IAAMtD,GAAG,GAAI+G,OAAO,GAApB,OAAA;IACA,IAAM9G,IAAI,GAAV,CAAA;IAAA,IAAgBE,KAAK,GAArB,CAAA;IACA,IAAMJ,QAAQ,GAAG;MAAEC,GAAG,EAAL,GAAA;MAAOC,IAAI,EAAX,IAAA;MAAaE,KAAK,EAALA;IAAb,CAAjB;IAGA,OAAA,QAAA;EATK,CAAA;;MAYckK,WAAAA,G;;;IAEnB,SAAA,WAAA,CAAA,KAAA,EAAmB;MAAA,IAAA,KAAA;;MAAA,eAAA,CAAA,IAAA,EAAA,WAAA,CAAA;;MACjB,KAAA,GAAA,0BAAA,CAAA,IAAA,EAAA,eAAA,CAAA,WAAA,CAAA,CAAA,IAAA,CAAA,IAAA,EAAA,KAAA,CAAA,CAAA;MACA,KAAA,CAAA,KAAA,GAAa;QACXC,KAAK,EAAE,IAAIrL,WAAAA,CAAAA,QAAAA,CAAJ,KAAA,CAAA,CAAA;MADI,CAAb;MAFiB,OAAA,KAAA;IAKlB;;;;0CAEmB;QAClBA,WAAAA,CAAAA,QAAAA,CAAAA,MAAAA,CAAgB,KAAA,KAAA,CAAhBA,KAAAA,EAAkC;UAChCC,QAAQ,EADwB,kBAAA;UAEhCC,OAAO,EAFyB,CAAA;UAGhCqI,MAAM,EAAEC,WAAAA,CAAAA,MAAAA,CAAAA,GAAAA,CAAWA,WAAAA,CAAAA,MAAAA,CAHa,KAGxBA,CAHwB;UAIhCrI,eAAe,EAAEL;QAJe,CAAlCE,EAAAA,KAAAA;MAMD;;;8BAEO;QAAA,IAAA,MAAA,GAAA,IAAA;;QACN,OAAO,IAAA,OAAA,CAAY,UAAA,OAAA,EAAW;UAC5BA,WAAAA,CAAAA,QAAAA,CAAAA,MAAAA,CAAgB,MAAI,CAAJ,KAAA,CAAhBA,KAAAA,EAAkC;YAChCC,QAAQ,EADwB,mBAAA;YAEhCC,OAAO,EAFyB,CAAA;YAGhCqI,MAAM,EAAEC,WAAAA,CAAAA,MAAAA,CAAAA,EAAAA,CAAUA,WAAAA,CAAAA,MAAAA,CAHc,KAGxBA,CAHwB;YAIhCrI,eAAe,EAAEL;UAJe,CAAlCE,EAAAA,KAAAA,CAAAA,OAAAA;QADF,CAAO,CAAP;MAQD;;;+BAEQ;QAAA,IAAA,WAAA,GACwC,KADxC,KAAA;QAAA,IACCK,KADD,GAAA,WAAA,CAAA,KAAA;QAAA,IACQ0B,QADR,GAAA,WAAA,CAAA,QAAA;QAAA,IACkB9C,OADlB,GAAA,WAAA,CAAA,OAAA;QAAA,IAC8B+C,KAD9B,GAAA,wBAAA,CAAA,WAAA,EAAA,CAAA,OAAA,EAAA,UAAA,EAAA,SAAA,CAAA,CAAA;;QAAA,IAESwF,OAFT,GAEqBvI,OAAO,CAF5B,aAEqBA,CAFrB,MAAA;QAGP,IAAMwJ,SAAS,GAAG;UAChBC,SAAS,EAAE,CAAC;YACV4C,UAAU,EAAE,KAAA,KAAA,CAAA,KAAA,CAAA,WAAA,CAA6B;cACvCC,UAAU,EAAE,CAAA,CAAA,EAD2B,CAC3B,CAD2B;cAEvCC,WAAW,EAAE,CAAA,OAAA,EAAA,CAAA;YAF0B,CAA7B;UADF,CAAD;QADK,CAAlB;QAQA,IAAM1K,QAAQ,GAAGc,iBAAe,CAAhC,OAAgC,CAAhC;QACA,OACE,cAAA,CAAA,aAAA,CAAC5B,WAAAA,CAAD,QAACA,CAAD,IAAA,EAAA,QAAA,CAAA;UAAe,KAAK,EAAE,CAACO,QAAM,CAAP,OAAA,EAAA,KAAA,EAAA,SAAA,EAAA,QAAA;QAAtB,CAAA,EAAA,KAAA,CAAA,EADF,QACE,CADF;MAKD;;;;IA9CsC5C,cAAK,CAACe,S;;EAiD/C,IAAM6B,QAAM,GAAG,WAAA,CAAA,UAAA,CAAA,MAAA,CAAkB;IAC/B2B,OAAO,EAAE;MACPpB,QAAQ,EADD,UAAA;MAEPgI,eAAe,EAFR,OAAA;MAKPE,WAAW,EALJ,OAAA;MAMPC,aAAa,EANN,GAAA;MAOPC,YAAY,EAAE;QAAEzM,KAAK,EAAP,CAAA;QAAYC,MAAM,EAAE;MAApB,CAPP;MAQPyM,YAAY,EARL,CAAA;MAWPC,SAAS,EAAE;IAXJ;EADsB,CAAlB,CAAf;EC3DA,IAAMqC,cAAc,GAApB,CAAA;EACA,IAAMC,UAAU,GAAhB,EAAA;EACA,IAAMC,SAAS,GAAG5E,IAAI,CAAJA,IAAAA,CAAU2E,UAAU,GAAVA,UAAAA,GAAwBA,UAAU,GAA9D,UAAkB3E,CAAlB;EACA,IAAM6E,YAAY,GAAG,CAACD,SAAS,GAAV,UAAA,IAAA,CAAA,GAArB,cAAA;;EAGA,SAAA,0BAAA,CAAA,IAAA,EAAoD;IAAA,IAAd/E,IAAc,GAAA,IAAA,CAAdA,IAAc;IAAA,IAARC,IAAQ,GAAA,IAAA,CAARA,IAAQ;IAClD,OAAO;MAAE/F,QAAQ,EAAE+F,IAAI,GAAGD;IAAnB,CAAP;EACD;;EAGD,SAAA,0BAAA,CAAA,KAAA,EAAoD;IAAA,IAAdC,IAAc,GAAA,KAAA,CAAdA,IAAc;IAAA,IAARG,IAAQ,GAAA,KAAA,CAARA,IAAQ;IAElD,OAAO;MAAElG,QAAQ,EAAE+F,IAAI,GAAJA,IAAAA,GAAc6E;IAA1B,CAAP;EACD;;EAGD,SAAA,mBAAA,CAAA,KAAA,EAAyD;IAAA,IAA1B9E,IAA0B,GAAA,KAAA,CAA1BA,IAA0B;IAAA,IAApBK,IAAoB,GAAA,KAAA,CAApBA,IAAoB;IAAA,IAAdJ,IAAc,GAAA,KAAA,CAAdA,IAAc;IAAA,IAARG,IAAQ,GAAA,KAAA,CAARA,IAAQ;IACvD,IAAM6E,MAAM,GAAG9E,IAAI,CAAJA,KAAAA,CAAWF,IAAI,GAAIG,IAAI,GAAtC,CAAeD,CAAf;IACA,IAAM+E,UAAU,GAAIlF,IAAI,GAAL,CAACA,GAApB,MAAA;IACA,IAAMmF,WAAW,GAAGF,MAAM,GAAIjF,IAAI,GAAdiF,CAAAA,GAApB,IAAA;IACA,OAAO;MAAEA,MAAM,EAAR,MAAA;MAAUC,UAAU,EAApB,UAAA;MAAsBC,WAAW,EAAXA;IAAtB,CAAP;EACD;;EASD,SAAA,8BAAA,CAAA,OAAA,EAAiD;IAAA,IACvCnF,IADuC,GACxB1E,OADwB,CAAA,IAAA;IAAA,IACjC+E,IADiC,GACxB/E,OADwB,CAAA,IAAA;;IAAA,IAAA,oBAAA,GAEH8J,mBAAmB,CAFhB,OAEgB,CAFhB;IAAA,IAEvCH,MAFuC,GAAA,oBAAA,CAAA,MAAA;IAAA,IAE/BC,UAF+B,GAAA,oBAAA,CAAA,UAAA;IAAA,IAEnBC,WAFmB,GAAA,oBAAA,CAAA,WAAA;;IAG/C,IAAID,UAAU,GAAVA,CAAAA,IAAkBC,WAAW,GAAjC,CAAA,EAAuC;MAErC,IAAID,UAAU,GAAd,WAAA,EAA8B;QAC5B,OAAO;UAAEG,MAAM,EAAR,WAAA;UAAuBnL,QAAQ,EAAEmG,IAAI,GAAGL;QAAxC,CAAP;MAHmC;;MAMrC,IAAImF,WAAW,GAAf,UAAA,EAA8B;QAC5B,OAAO;UAAEE,MAAM,EAAE,CAAV,UAAA;UAAuBnL,QAAQ,EAAE;QAAjC,CAAP;MACD;IAX4C;;IAc/C,OAAO;MAAEmL,MAAM,EAAR,CAAA;MAAanL,QAAQ,EAAE+K,MAAM,GAAGjF,IAAI,GAAG;IAAvC,CAAP;EACD;;EAGD,SAAA,iBAAA,CAAA,OAAA,EAAoC;IAAA,IAAA,qBAAA,GACEoF,mBAAmB,CADrB,OACqB,CADrB;IAAA,IAC1BF,UAD0B,GAAA,qBAAA,CAAA,UAAA;IAAA,IACdC,WADc,GAAA,qBAAA,CAAA,WAAA;;IAIlC,OAAOhF,IAAI,CAAJA,GAAAA,CAAAA,CAAAA,EAAAA,UAAAA,IAA0BA,IAAI,CAAJA,GAAAA,CAAAA,CAAAA,EAAjC,WAAiCA,CAAjC;EACD;;EAGD,SAAA,WAAA,CAAA,QAAA,EAAA,QAAA,EAAyC;IACvC,IAAMmF,YAAY,GAAGC,iBAAiB,CAAtC,QAAsC,CAAtC;IACA,IAAMC,UAAU,GAAIrF,IAAI,CAAJA,GAAAA,CAAAA,CAAAA,EAAYsF,QAAQ,CAARA,IAAAA,GAAgBA,QAAQ,CAAxD,IAAoBtF,CAApB;IACA,OAAOmF,YAAY,GAAnB,UAAA;EACD;;EAGD,SAAA,cAAA,CAAA,QAAA,EAAA,QAAA,EAA4C;IAC1C,IAAMA,YAAY,GAAGC,iBAAiB,CAAtC,QAAsC,CAAtC;IACA,IAAMC,UAAU,GAAIrF,IAAI,CAAJA,GAAAA,CAAAA,CAAAA,EAAYsF,QAAQ,CAARA,IAAAA,GAAgBA,QAAQ,CAAxBA,IAAAA,GAAgCA,QAAQ,CAAxCA,IAAAA,GAAgDA,QAAQ,CAAxF,IAAoBtF,CAApB;IACA,OAAOmF,YAAY,GAAnB,UAAA;EACD;;EAGD,SAAA,YAAA,CAAA,QAAA,EAAA,QAAA,EAA0C;IACxC,IAAMA,YAAY,GAAGC,iBAAiB,CAAtC,QAAsC,CAAtC;IACA,IAAMC,UAAU,GAAIrF,IAAI,CAAJA,GAAAA,CAAAA,CAAAA,EAAYuF,QAAQ,CAARA,IAAAA,GAAgBA,QAAQ,CAAxD,IAAoBvF,CAApB;IACA,OAAOmF,YAAY,GAAnB,UAAA;EACD;;EAGD,SAAA,aAAA,CAAA,QAAA,EAAA,QAAA,EAA2C;IACzC,IAAMA,YAAY,GAAGC,iBAAiB,CAAtC,QAAsC,CAAtC;IACA,IAAMC,UAAU,GAAIrF,IAAI,CAAJA,GAAAA,CAAAA,CAAAA,EAAYuF,QAAQ,CAARA,IAAAA,GAAgBA,QAAQ,CAAxBA,IAAAA,GAAgCA,QAAQ,CAAxCA,IAAAA,GAAgDA,QAAQ,CAAxF,IAAoBvF,CAApB;IACA,OAAOmF,YAAY,GAAnB,UAAA;EACD;;EAED,SAAA,cAAA,CAAA,KAAA,EAA+B;IAC7B,OAAO9D,KAAK,GAAA,OAAA,GAAZ,MAAA;EACD;;EAED,SAAA,aAAA,CAAA,QAAA,EAAA,QAAA,EAAA,KAAA,EAAkD;IAChD,IAAMmE,QAAQ,GAAGC,8BAA8B,CAA/C,QAA+C,CAA/C;IACA,IAAMC,IAAI,GAAGC,0BAA0B,CAAvC,QAAuC,CAAvC;IACA,OAAO;MACL5L,QAAQ,EAAA,eAAA,CAAA;QACNC,GAAG,EAAE0L,IAAI,CAAC3L;MADJ,CAAA,EAEL6L,cAAc,CAFT,KAES,CAFT,EAEmBJ,QAAQ,CAH9B,QACG,CADH;MAKLN,MAAM,EAAEM,QAAQ,CALX,MAAA;MAMLK,SAAS,EAAE;IANN,CAAP;EAQD;;EAED,SAAA,gBAAA,CAAA,QAAA,EAAA,QAAA,EAAA,KAAA,EAAqD;IACnD,IAAML,QAAQ,GAAGC,8BAA8B,CAA/C,QAA+C,CAA/C;IACA,IAAMC,IAAI,GAAGI,0BAA0B,CAAvC,QAAuC,CAAvC;IACA,OAAO;MACL/L,QAAQ,EAAA,eAAA,CAAA;QACNC,GAAG,EAAE0L,IAAI,CAAC3L;MADJ,CAAA,EAEL6L,cAAc,CAFT,KAES,CAFT,EAEmBJ,QAAQ,CAH9B,QACG,CADH;MAKLN,MAAM,EAAEM,QAAQ,CALX,MAAA;MAMLK,SAAS,EAAE;IANN,CAAP;EAQD;;EAED,SAAA,eAAA,CAAA,QAAA,EAAA,QAAA,EAAA,KAAA,EAAoD;IAClD,IAAML,QAAQ,GAAGC,8BAA8B,CAA/C,QAA+C,CAA/C;IACA,IAAMC,IAAI,GAAGI,0BAA0B,CAAvC,QAAuC,CAAvC;IACA,OAAO;MACL/L,QAAQ,EAAA,eAAA,CAAA;QACNC,GAAG,EAAEwL,QAAQ,CAACzL;MADR,CAAA,EAEL6L,cAAc,CAFT,KAES,CAFT,EAEmBF,IAAI,CAH1B,QACG,CADH;MAKLR,MAAM,EAAEM,QAAQ,CALX,MAAA;MAMLK,SAAS,EAAE;IANN,CAAP;EAQD;;EAED,SAAA,cAAA,CAAA,QAAA,EAAA,QAAA,EAAA,KAAA,EAAmD;IACjD,IAAML,QAAQ,GAAGC,8BAA8B,CAA/C,QAA+C,CAA/C;IACA,IAAMC,IAAI,GAAGC,0BAA0B,CAAvC,QAAuC,CAAvC;IACA,OAAO;MACL5L,QAAQ,EAAA,eAAA,CAAA;QACNC,GAAG,EAAEwL,QAAQ,CAACzL;MADR,CAAA,EAEL6L,cAAc,CAFT,KAES,CAFT,EAEmBF,IAAI,CAH1B,QACG,CADH;MAKLR,MAAM,EAAEM,QAAQ,CALX,MAAA;MAMLK,SAAS,EAAE;IANN,CAAP;EAQD;;EAGD,IAAME,qBAAqB,GAAG;IAC5B/L,GAAG,EADyB,aAAA;IAE5BE,MAAM,EAFsB,gBAAA;IAG5BD,IAAI,EAHwB,cAAA;IAI5BE,KAAK,EAAE6L;EAJqB,CAA9B;;EAcO,SAAA,iBAAA,CAAA,KAAA,EAAA,SAAA,EAAA,kBAAA,EAAA,KAAA,EAKL;IAAA,IAJElL,YAIF,GAAA,KAAA,CAJEA,YAIF;IAAA,IAJgB8B,aAIhB,GAAA,KAAA,CAJgBA,aAIhB;IAAA,IAJ+BU,aAI/B,GAAA,KAAA,CAJ+BA,aAI/B;IAAA,IACWuD,EADX,GACyD/F,YADzD,CAAA,CAAA;IAAA,IACkBgG,EADlB,GACyDhG,YADzD,CAAA,CAAA;IAAA,IAC6B6F,MAD7B,GACyD7F,YADzD,CAAA,KAAA;IAAA,IAC6CiG,OAD7C,GACyDjG,YADzD,CAAA,MAAA;IAAA,IAEWkG,EAFX,GAEyDpE,aAFzD,CAAA,CAAA;IAAA,IAEkBqE,EAFlB,GAEyDrE,aAFzD,CAAA,CAAA;IAAA,IAE8BsE,OAF9B,GAEyDtE,aAFzD,CAAA,MAAA;IAAA,IAE8CuE,MAF9C,GAEyDvE,aAFzD,CAAA,KAAA;IAAA,IAGgB6D,OAHhB,GAG2CnD,aAH3C,CAAA,MAAA;IAAA,IAGgCoD,MAHhC,GAG2CpD,aAH3C,CAAA,KAAA;IAIA,IAAMgI,QAAQ,GAAG;MACfzF,IAAI,EAAEY,OAAO,GAAGiE,cAAc,GADf,CAAA;MAEfxE,IAAI,EAFW,OAAA;MAGfJ,IAAI,EAAEmB,EAAE,GAHO,EAAA;MAIfhB,IAAI,EAAEiB;IAJS,CAAjB;IAMA,IAAMqE,QAAQ,GAAG;MACf1F,IAAI,EAAEa,MAAM,GAAGgE,cAAc,GADd,CAAA;MAEfxE,IAAI,EAFW,MAAA;MAGfJ,IAAI,EAAEkB,EAAE,GAHO,EAAA;MAIff,IAAI,EAAEkB;IAJS,CAAjB;;IAMA,IAAI0E,SAAS,KAATA,MAAAA,IAAwBE,qBAAqB,CAAjD,SAAiD,CAAjD,EAA8D;MAC5D,OAAOA,qBAAqB,CAArBA,SAAqB,CAArBA,CAAAA,QAAAA,EAAAA,QAAAA,EAAP,KAAOA,CAAP;IACD;;IAED,IAAME,MAAM,GAAG;MACbjM,GAAG,EAAEkM,WAAW,CAAA,QAAA,EADH,QACG,CADH;MAEbhM,MAAM,EAAEiM,cAAc,CAAA,QAAA,EAFT,QAES,CAFT;MAGbhM,KAAK,EAAEiM,aAAa,CAAA,QAAA,EAHP,QAGO,CAHP;MAIbnM,IAAI,EAAEoM,YAAY,CAAA,QAAA,EAAA,QAAA;IAJL,CAAf;IAMA,IAAMC,SAAS,GAAG,MAAM,CAAN,MAAA,CAAA,MAAA,EAAA,IAAA,CAA2B,UAAA,CAAA,EAAA,CAAA,EAAA;MAAA,OAAUhL,CAAC,GAAX,CAAA;IAA3B,CAAA,EAAlB,CAAkB,CAAlB;IACA,IAAMiL,aAAa,GAAGN,MAAM,CAANA,kBAAM,CAANA,KAAAA,SAAAA,GAAAA,kBAAAA,GAElB,MAAM,CAAN,IAAA,CAAA,MAAA,EAAA,IAAA,CAAyB,UAAA,EAAA,EAAE;MAAA,OAAIA,MAAM,CAANA,EAAM,CAANA,KAAJ,SAAA;IAF/B,CAEI,CAFJ;IAIA,OAAOF,qBAAqB,CAArBA,aAAqB,CAArBA,CAAAA,QAAAA,EAAAA,QAAAA,EAAP,KAAOA,CAAP;EACD;;MAEoBS,OAAAA,G;;;IAEnB,SAAA,OAAA,CAAA,KAAA,EAAmB;MAAA,IAAA,KAAA;;MAAA,eAAA,CAAA,IAAA,EAAA,OAAA,CAAA;;MACjB,KAAA,GAAA,0BAAA,CAAA,IAAA,EAAA,eAAA,CAAA,OAAA,CAAA,CAAA,IAAA,CAAA,IAAA,EAAA,KAAA,CAAA,CAAA;MACA,KAAA,CAAA,KAAA,GAAa;QACXjF,SAAS,EAAE,IAAItI,WAAAA,CAAAA,QAAAA,CAAJ,KAAA,CAAA,GAAA;MADA,CAAb;MAFiB,OAAA,KAAA;IAKlB;;;;0CAEmB;QAClBA,WAAAA,CAAAA,QAAAA,CAAAA,MAAAA,CAAgB,KAAA,KAAA,CAAhBA,SAAAA,EAAsC;UACpCC,QAAQ,EAD4B,kBAAA;UAEpCC,OAAO,EAF6B,CAAA;UAGpCqI,MAAM,EAAEC,WAAAA,CAAAA,MAAAA,CAAAA,GAAAA,CAAWA,WAAAA,CAAAA,MAAAA,CAHiB,KAG5BA,CAH4B;UAIpCrI,eAAe,EAAEL;QAJmB,CAAtCE,EAAAA,KAAAA;MAMD;;;8BAEO;QAAA,IAAA,MAAA,GAAA,IAAA;;QACN,OAAO,IAAA,OAAA,CAAY,UAAA,OAAA,EAAW;UAC5BA,WAAAA,CAAAA,QAAAA,CAAAA,MAAAA,CAAgB,MAAI,CAAJ,KAAA,CAAhBA,SAAAA,EAAsC;YACpCC,QAAQ,EAD4B,mBAAA;YAEpCC,OAAO,EAF6B,CAAA;YAGpCqI,MAAM,EAAEC,WAAAA,CAAAA,MAAAA,CAAAA,EAAAA,CAAUA,WAAAA,CAAAA,MAAAA,CAHkB,KAG5BA,CAH4B;YAIpCrI,eAAe,EAAEL;UAJmB,CAAtCE,EAAAA,KAAAA,CAAAA,OAAAA;QADF,CAAO,CAAP;MAQD;;;+BAEQ;QAAA,IAAA,WAAA,GASH,KATG,KAAA;QAAA,IAELK,KAFK,GAAA,WAAA,CAAA,KAAA;QAAA,IAGL0B,QAHK,GAAA,WAAA,CAAA,QAAA;QAAA,IAIL9C,OAJK,GAAA,WAAA,CAAA,OAAA;QAAA,IAKLuO,WALK,GAAA,WAAA,CAAA,WAAA;QAAA,IAMLC,kBANK,GAAA,WAAA,CAAA,kBAAA;QAAA,IAOMC,aAPN,GAAA,WAAA,CAAA,SAAA;QAAA,IAQF1L,KARE,GAAA,wBAAA,CAAA,WAAA,EAAA,CAAA,OAAA,EAAA,UAAA,EAAA,SAAA,EAAA,aAAA,EAAA,oBAAA,EAAA,WAAA,CAAA,CAAA;;QAUP,IAAMoG,KAAK,GAAGQ,WAAAA,CAAAA,WAAAA,CAAd,KAAA;QACA,IAAMH,SAAS,GAAG;UAChBC,SAAS,EAAE,CAAE;YAAEC,KAAK,EAAE,KAAA,KAAA,CAAWL;UAApB,CAAF,CADK;UAEhB9H,OAAO,EAAE,KAAA,KAAA,CAAW8H;QAFJ,CAAlB;;QAXO,IAAA,kBAAA,GAeiCqF,iBAAiB,CAAA,OAAA,EAAA,aAAA,EAAA,kBAAA,EAflD,KAekD,CAflD;QAAA,IAeC7M,QAfD,GAAA,kBAAA,CAAA,QAAA;QAAA,IAeW8L,SAfX,GAAA,kBAAA,CAAA,SAAA;QAAA,IAesBX,MAftB,GAAA,kBAAA,CAAA,MAAA;;QAqBP,OACE,cAAA,CAAA,aAAA,CAACjM,WAAAA,CAAD,QAACA,CAAD,IAAA,EAAA;UACE,KAAK,EAAE,CACLO,QAAM,CADD,QAAA,EAAA,SAAA,EAAA,QAAA,EAILqN,iBAAiB,CAAC;YAAEhB,SAAS,EAAX,SAAA;YAAaxE,KAAK,EAALA;UAAb,CAAD,CAJZ,CADT;UAOE,aAAa,EAAC;QAPhB,CAAA,EASE,cAAA,CAAA,aAAA,CAAC1H,WAAAA,CAAD,IAAA,EAAA;UACE,KAAK,EAAE,CACLH,QAAM,CADD,MAAA,EAELsN,kBAAkB,CAAC;YAAEjB,SAAS,EAAX,SAAA;YAAaX,MAAM,EAAnB,MAAA;YAAqB7D,KAAK,EAALA;UAArB,CAAD,CAFb,EAAA,WAAA;QADT,CAAA,CATF,EAgBE,cAAA,CAAA,aAAA,CAAC1H,WAAAA,CAAD,IAAA,EAAA,QAAA,CAAA,EAAA,EAAA,KAAA,EAAA;UAAiB,KAAK,EAAE,CAACH,QAAM,CAAP,OAAA,EAAA,KAAA;QAAxB,CAAA,CAAA,EAjBJ,QAiBI,CAhBF,CADF;MAsBD;;;;IAxEkC5C,cAAK,CAACe,S;;EA4E3C6O,OAAO,CAAPA,SAAAA,GAAoB;IAClBC,WAAW,EAAE7M,SAAS,CAATA,SAAAA,CAAoB,CAC/BA,SAAS,CADsB,MAAA,EAE/BA,SAAS,CAFsB,MAAA,EAG/BA,SAAS,CAJO,KACe,CAApBA,CADK;IAMlBiM,SAAS,EAAEjM,SAAS,CAATA,KAAAA,CAAgB,CAAA,MAAA,EAAA,KAAA,EAAA,OAAA,EAAA,QAAA,EANT,MAMS,CAAhBA,CANO;IAOlB8M,kBAAkB,EAAE9M,SAAS,CAATA,KAAAA,CAAgB,CAAA,KAAA,EAAA,OAAA,EAAA,QAAA,EAAhBA,MAAgB,CAAhBA;EAPF,CAApB4M;EAUAA,OAAO,CAAPA,YAAAA,GAAuB;IACrBE,kBAAkB,EADG,KAAA;IAErBb,SAAS,EAAE;EAFU,CAAvBW;;EAKA,IAAMK,iBAAiB,GAAG,SAApBA,iBAAoB,CAAA,KAAA,EAAA;IAAA,IAAGhB,SAAH,GAAA,KAAA,CAAA,SAAA;IAAA,IAAcxE,KAAd,GAAA,KAAA,CAAA,KAAA;IAAA,OAA2B;MACnDpH,IAAI,EAAE;QACJ8M,aAAa,EAAE1F,KAAK,GAAA,KAAA,GAAW;MAD3B,CAD6C;MAInDlH,KAAK,EAAE;QACL4M,aAAa,EAAE1F,KAAK,GAAA,aAAA,GAAmB;MADlC,CAJ4C;MAOnDrH,GAAG,EAAE;QACH+M,aAAa,EAAE;MADZ,CAP8C;MAUnD7M,MAAM,EAAE;QACN6M,aAAa,EAAE;MADT;IAV2C,EAA3B,SAA2B,CAA3B;EAA1B,CAAA;;EAeA,IAAMD,kBAAkB,GAAG,SAArBA,kBAAqB,CAAA,KAAA,EAAkC;IAAA,IAAA,KAAA,EAAA,KAAA;;IAAA,IAA/B5B,MAA+B,GAAA,KAAA,CAA/BA,MAA+B;IAAA,IAAvBW,SAAuB,GAAA,KAAA,CAAvBA,SAAuB;IAAA,IAAZxE,KAAY,GAAA,KAAA,CAAZA,KAAY;IAC3D,IAAMD,KAAK,GAAGwE,cAAc,CAA5B,KAA4B,CAA5B;;IACA,QAAA,SAAA;MACE,KAAA,OAAA;QACE,OAAO;UACL5L,GAAG,EADE,MAAA;UAEL2H,SAAS,EAAE,CACT;YAAEqF,UAAU,EAAEnC;UAAd,CADS,EAET;YAAEoC,MAAM,EAAE;UAAV,CAFS;QAFN,CAAP;;MAOF,KAAA,MAAA;QACE,OAAO;UACLjN,GAAG,EADE,MAAA;UAEL2H,SAAS,EAAE,CACT;YAAEqF,UAAU,EAAE,CAACnC;UAAf,CADS,EAET;YAAEoC,MAAM,EAAE;UAAV,CAFS;QAFN,CAAP;;MAOF,KAAA,KAAA;QACE,OAAA,KAAA,GAAA,EAAA,EAAA,eAAA,CAAA,KAAA,EAAA,KAAA,EAAA,MAAA,CAAA,EAAA,eAAA,CAAA,KAAA,EAAA,WAAA,EAEa,CACT;UAAE1C,UAAU,EAAE,CAACM;QAAf,CADS,EAET;UAAEoC,MAAM,EAAE;QAAV,CAFS,CAFb,CAAA,EAAA,KAAA;;MAOF,KAAA,QAAA;QACE,OAAA,KAAA,GAAA,EAAA,EAAA,eAAA,CAAA,KAAA,EAAA,KAAA,EAAA,MAAA,CAAA,EAAA,eAAA,CAAA,KAAA,EAAA,WAAA,EAEa,CACT;UAAE1C,UAAU,EAAEM;QAAd,CADS,EAET;UAAEoC,MAAM,EAAE;QAAV,CAFS,CAFb,CAAA,EAAA,KAAA;IA1BJ;EAFF,CAAA;;EAsCO,IAAMzN,QAAM,GAAG,WAAA,CAAA,UAAA,CAAA,MAAA,CAAkB;IACtC0N,QAAQ,EAAE;MACRjD,OAAO,EADC,cAAA;MAERlC,eAAe,EAFP,aAAA;MAGRhI,QAAQ,EAHA,UAAA;MAIRoN,UAAU,EAAE;IAJJ,CAD4B;IAOtChM,OAAO,EAAE;MACP2G,YAAY,EADL,CAAA;MAEPsF,QAAQ,EAFD,SAAA;MAGPC,SAAS,EAHF,SAAA;MAIPtF,eAAe,EAJR,OAAA;MAOPE,WAAW,EAPJ,OAAA;MAQPC,aAAa,EARN,GAAA;MASPC,YAAY,EAAE;QAAEzM,KAAK,EAAP,CAAA;QAAYC,MAAM,EAAE;MAApB,CATP;MAUPyM,YAAY,EAVL,CAAA;MAaPC,SAAS,EAAE;IAbJ,CAP6B;IAsBtCiF,MAAM,EAAE;MACN5R,KAAK,EADC,UAAA;MAENC,MAAM,EAFA,UAAA;MAGNoM,eAAe,EAHT,OAAA;MAINM,SAAS,EAAE;IAJL;EAtB8B,CAAlB,CAAf;MC3UDkF,SAAS,GAAG;IAAEjG,WAAW,EAAb,WAAA;IAAe+C,WAAW,EAA1B,WAAA;IAA4BD,sBAAsB,EAAlD,sBAAA;IAAoDoC,OAAO,EAAPA;EAApD,C;EAElB,IAAMgB,WAAW,GAAGC,mBAAmB,CAAA,iGAAA,EAErC,CAAA,UAAA,EAAA,YAAA,EAAA,WAAA,EAFkBA,YAElB,CAFqC,CAAnBA,CAApB,YAAoBA,CAApB","sourcesContent":["// platform select polyfil for older RN versions\nimport { Platform } from 'react-native';\n\nif (!Platform.select) {\n  Platform.select = (obj) => obj[Platform.OS];\n}\n","import React from 'react';\nimport { Platform, TouchableHighlight, TouchableNativeFeedback } from 'react-native';\n\n/**\n * Promisifies measure's callback function and returns layout object.\n */\nexport const measure = ref => new Promise((resolve) => {\n  ref.measure((x, y, width, height, pageX, pageY) => {\n    resolve({\n      x: pageX, y: pageY,\n      width, height,\n    })\n  });\n});\n\n/**\n * Create unique menu name across all menu instances.\n */\nexport const makeName = (function() {\n  let nextID = 1;\n  return () => `menu-${nextID++}`;\n})();\n\n/**\n * Create touchable component based on passed parameter and platform.\n * It also returns default props for specific touchable types.\n */\nexport function makeTouchable(TouchableComponent) {\n  const Touchable = TouchableComponent || Platform.select({\n    android: TouchableNativeFeedback,\n    ios: TouchableHighlight,\n    default: TouchableHighlight,\n  });\n  let defaultTouchableProps = {};\n  if (Touchable === TouchableHighlight) {\n    defaultTouchableProps = { underlayColor: 'rgba(0, 0, 0, 0.1)' };\n  }\n  return { Touchable, defaultTouchableProps };\n}\n\nfunction includes(arr, value) {\n  return arr.indexOf(value) > -1;\n}\n\n/**\nLog object - prepares object for logging by stripping all \"private\" or excluding fields\n*/\nexport function lo(object, ...excluding) {\n  const exc = Array.from(excluding);\n  function isObject(obj) {\n    return obj === Object(obj);\n  }\n  function withoutPrivate(obj) {\n    if (!isObject(obj)) return obj;\n    const res = {};\n    for (var property in obj) {\n      if (obj.hasOwnProperty(property)) {\n        if (!property.startsWith('_') && !includes(exc, property)) {\n          res[property] = withoutPrivate(obj[property]);\n        }\n      }\n    }\n    return res;\n  }\n  return withoutPrivate(object);\n}\n\n/**\nConverts iterator to array\n*/\nexport function iterator2array(it) {\n  // workaround around https://github.com/instea/react-native-popup-menu/issues/41#issuecomment-340290127\n  const arr = [];\n  for (let next = it.next(); !next.done; next = it.next()) {\n    arr.push(next.value);\n  }\n  return arr;\n}\n\n/** checks if component is class component */\nexport function isClassComponent(component) {\n  return component.prototype && !!component.prototype.render;\n}\n\n/**\n * Higher order component to deprecate usage of component.\n * message - deprecate warning message\n * methods - array of method names to be delegated to deprecated component\n */\nexport function deprecatedComponent(message, methods = []) {\n  return function deprecatedComponentHOC(Component) {\n    return class DeprecatedComponent extends React.Component {\n      constructor(...args) {\n        super(...args);\n        methods.forEach(name => {\n          // delegate methods to the component\n          this[name] = (...args) => this.ref && this.ref[name](...args)\n        });\n      }\n\n      render() {\n        return <Component {...this.props} ref={this.onRef} />\n      }\n\n      onRef = ref => this.ref = ref;\n\n      componentDidMount() {\n        console.warn(message);\n      }\n    }\n  }\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (typeSpecs.hasOwnProperty(typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          )\n\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOf, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues);\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (propValue.hasOwnProperty(key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","import React from \"react\";\n\nexport function withContext(Context, propName = \"context\") {\n  return function wrap(Component) {\n    class EnhanceContext extends React.Component {\n      render() {\n        const { forwardedRef, ...rest } = this.props;\n\n        return (\n          <Context.Consumer>\n            {value => {\n              const custom = {\n                [propName]: value,\n                ref: forwardedRef,\n              };\n              return <Component {...custom} {...rest} />;\n            }}\n          </Context.Consumer>\n        );\n      }\n    }\n\n    const name = Component.displayName || Component.name || \"Component\";\n    const consumerName =\n      Context.Consumer.displayName ||\n      Context.Consumer.name ||\n      \"Context.Consumer\";\n\n    function enhanceForwardRef(props, ref) {\n      return <EnhanceContext {...props} forwardedRef={ref} />;\n    }\n\n    enhanceForwardRef.displayName = `enhanceContext-${consumerName}(${name})`;\n\n    const FC = React.forwardRef(enhanceForwardRef);\n    FC.defaultProps = Component.defaultProps;\n    FC.propTypes = Component.propTypes;\n    return FC\n  };\n}\n","import { iterator2array } from './helpers';\n\n/**\n * Registry to subscribe, unsubscribe and update data of menus.\n *\n * menu data: {\n *   instance: react instance\n *   triggerLayout: Object - layout of menu trigger if known\n *   optionsLayout: Object - layout of menu options if known\n *   optionsCustomStyles: Object - custom styles of options\n * }\n*/\nexport default function makeMenuRegistry(menus = new Map()) {\n\n  /**\n   * Subscribes menu instance.\n   */\n  function subscribe(instance) {\n    const name = instance.getName()\n    if (menus.get(name)) {\n      console.warn(`incorrect usage of popup menu - menu with name ${name} already exists`);\n    }\n    menus.set(name, { name, instance });\n  }\n\n  /**\n   * Unsubscribes menu instance.\n   */\n  function unsubscribe(instance) {\n    menus.delete(instance.getName());\n  }\n\n  /**\n   * Updates layout infomration.\n   */\n  function updateLayoutInfo(name, layouts = {}) {\n    if (!menus.has(name)) {\n      return;\n    }\n    const menu = Object.assign({}, menus.get(name));\n    if (layouts.hasOwnProperty('triggerLayout')) {\n      menu.triggerLayout = layouts.triggerLayout;\n    }\n    if (layouts.hasOwnProperty('optionsLayout')) {\n      menu.optionsLayout = layouts.optionsLayout;\n    }\n    menus.set(name, menu);\n  }\n\n  function setOptionsCustomStyles(name, optionsCustomStyles) {\n    if (!menus.has(name)) {\n      return;\n    }\n    const menu = { ...menus.get(name), optionsCustomStyles };\n    menus.set(name, menu);\n  }\n\n  /**\n   * Get `menu data` by name.\n   */\n  function getMenu(name) {\n    return menus.get(name);\n  }\n\n  /**\n   * Returns all subscribed menus as array of `menu data`\n   */\n  function getAll() {\n    return iterator2array(menus.values());\n  }\n\n  return { subscribe, unsubscribe, updateLayoutInfo, getMenu, getAll, setOptionsCustomStyles };\n}\n","import { Platform } from 'react-native';\n\n// common durations of animation\nexport const OPEN_ANIM_DURATION = 225;\nexport const CLOSE_ANIM_DURATION = 195;\n\nexport const USE_NATIVE_DRIVER = (Platform.OS !== \"web\");\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { View, StyleSheet, TouchableWithoutFeedback, Animated } from 'react-native';\nimport { OPEN_ANIM_DURATION, CLOSE_ANIM_DURATION, USE_NATIVE_DRIVER } from './constants';\n\nclass Backdrop extends Component {\n\n  constructor(...args) {\n    super(...args);\n    this.fadeAnim = new Animated.Value(0.001);\n  }\n\n  open() {\n    return new Promise(resolve => {\n      Animated.timing(this.fadeAnim, {\n        duration: OPEN_ANIM_DURATION,\n        toValue: 1,\n        useNativeDriver: USE_NATIVE_DRIVER,\n      }).start(resolve);\n    });\n  }\n\n  close() {\n    return new Promise(resolve => {\n      Animated.timing(this.fadeAnim, {\n        duration: CLOSE_ANIM_DURATION,\n        toValue: 0,\n        useNativeDriver: USE_NATIVE_DRIVER,\n      }).start(resolve);\n    });\n  }\n\n  render() {\n    const { onPress, style } = this.props;\n    return (\n      <TouchableWithoutFeedback onPress={onPress}>\n        <Animated.View style={[styles.fullscreen, { opacity: this.fadeAnim }]}>\n          <View style={[styles.fullscreen, style]} />\n        </Animated.View>\n      </TouchableWithoutFeedback>\n    );\n  }\n\n}\n\nBackdrop.propTypes = {\n  onPress: PropTypes.func.isRequired,\n};\n\nconst styles = StyleSheet.create({\n  fullscreen: {\n    opacity: 0,\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n  },\n});\n\nexport default Backdrop;\n","\nexport const CFG = {\n  debug: false,\n}\n/**\n * Debug logger depending on `Menu.debug` static porperty.\n */\nexport const debug = (...args) => {\n  CFG.debug && console.log('react-native-popup-menu', ...args);\n};\n","import React, { Component } from 'react';\nimport { View, StyleSheet } from 'react-native';\nimport Backdrop from './Backdrop';\nimport { debug } from './logger.js';\n\nexport default class MenuPlaceholder extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {};\n  }\n\n  shouldComponentUpdate() {\n    // don't terminate closing animation\n    return !this.props.ctx._isMenuClosing;\n  }\n\n  render() {\n    const { ctx, backdropStyles } = this.props;\n    const shouldRenderMenu = ctx.isMenuOpen() && ctx._isInitialized();\n    debug('MenuPlaceholder should render', shouldRenderMenu);\n    if (!shouldRenderMenu) {\n      return null;\n    }\n    return (\n      <View style={styles.placeholder}>\n        <Backdrop\n          onPress={ctx._onBackdropPress}\n          style={backdropStyles}\n          ref={ctx.onBackdropRef}\n        />\n        {\n          ctx._makeOptions()\n        }\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  placeholder: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    overflow: 'hidden',\n  },\n});\n","import React from 'react';\nimport { View, StyleSheet } from 'react-native';\n\nexport const computePosition = ({ windowLayout }) => ({\n  top: windowLayout.height,\n  left: windowLayout.width,\n});\n\n\nconst MenuOutside = props => {\n  const { style, children, layouts, ...other } = props;\n  const position = computePosition(layouts);\n  return (\n    <View {...other} style={[styles.options, style, position]} collapsable={false}>\n      {children}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  options: {\n    position: 'absolute',\n  },\n});\n\nexport default MenuOutside;\n","import React, { Component, createContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { View, BackHandler, SafeAreaView, StyleSheet } from 'react-native';\n\nimport { withContext } from './with-context';\nimport makeMenuRegistry from './menuRegistry';\nimport MenuPlaceholder from './MenuPlaceholder';\nimport { measure, isClassComponent } from './helpers';\nimport { debug } from './logger.js';\nimport MenuOutside from './renderers/MenuOutside';\n\nconst defaultOptionsContainerRenderer = options => options;\nconst layoutsEqual = (a, b) => (\n  a === b || (a && b && a.width === b.width && a.height === b.height)\n);\n\nif (!React.forwardRef) {\n  throw new Error('This version of popup-menu requires RN 0.55+. Check our compatibility table.')\n}\nexport const PopupMenuContext = createContext({})\nexport const withCtx = withContext(PopupMenuContext, \"ctx\");\n\n// count of MenuProvider instances\nlet instanceCount = 0;\n\nexport default class MenuProvider extends Component {\n\n  constructor(props) {\n    super(props);\n    this._menuRegistry = makeMenuRegistry();\n    this._isMenuClosing = false;\n    const menuActions = {\n      openMenu: name => this.openMenu(name),\n      closeMenu: () => this.closeMenu(),\n      toggleMenu: name => this.toggleMenu(name),\n      isMenuOpen: () => this.isMenuOpen(),\n      _getOpenedMenu: () => this._getOpenedMenu(),\n      _notify: force => this._notify(force),\n    };\n    this.menuCtx = { menuRegistry: this._menuRegistry, menuActions }\n  }\n\n  _handleBackButton = () => {\n    const { backHandler } = this.props;\n    debug('_handleBackButton called', backHandler);\n\n    // Default handler if true is passed\n    if (backHandler === true) {\n      if (this.isMenuOpen()) {\n        this.closeMenu();\n        return true;\n      }\n    }\n\n    // Custom handler called with MenuProvider instance id function is passed\n    if (typeof backHandler === 'function') {\n      return backHandler(this);\n    }\n\n    return false;\n  }\n\n  componentDidMount() {\n    if (BackHandler) {\n      BackHandler.addEventListener('hardwareBackPress', this._handleBackButton);\n    } else {\n      const { backHandler } = this.props;\n      if (backHandler === true || typeof backHandler === 'function') {\n        console.warn('backHandler prop cannot be used if BackHandler is not present (RN >= 0.44 required)');\n      }\n    }\n    const { customStyles, skipInstanceCheck } = this.props;\n    if (customStyles.menuContextWrapper) {\n      console.warn('menuContextWrapper custom style is deprecated and it might be removed in future releases, use menuProviderWrapper instead.');\n    }\n    if (!skipInstanceCheck) {\n      instanceCount++;\n    }\n    if (instanceCount > 1) {\n      console.warn('In most cases you should not have more MenuProviders in your app (see API documentation). In other cases use skipInstanceCheck prop.');\n    }\n  }\n\n  componentWillUnmount() {\n    debug('unmounting menu provider')\n    if (BackHandler) {\n      BackHandler.removeEventListener('hardwareBackPress', this._handleBackButton);\n    }\n    const { skipInstanceCheck } = this.props;\n    if (!skipInstanceCheck) {\n      instanceCount--;\n    }\n  }\n\n  isMenuOpen() {\n    return !!this._getOpenedMenu();\n  }\n\n  openMenu(name) {\n    const menu = this._menuRegistry.getMenu(name);\n    if (!menu) {\n      console.warn(`menu with name ${name} does not exist`);\n      return Promise.resolve();\n    }\n    debug('open menu', name);\n    menu.instance._setOpened(true);\n    return this._notify();\n  }\n\n  closeMenu() { // has no effect on controlled menus\n    debug('close menu');\n    this._menuRegistry.getAll()\n      .filter(menu => menu.instance._getOpened())\n      .forEach(menu => menu.instance._setOpened(false));\n    return this._notify();\n  }\n\n  _invalidateTriggerLayouts() {\n    // invalidate layouts for closed menus,\n    // both controlled and uncontrolled menus\n    this._menuRegistry.getAll()\n      .filter(menu => !menu.instance.isOpen())\n      .forEach(menu => {\n        this._menuRegistry.updateLayoutInfo(menu.name, { triggerLayout: undefined });\n      });\n  }\n\n  _beforeClose(menu) {\n    debug('before close', menu.name);\n    const hideMenu = (this.optionsRef\n      && this.optionsRef.close\n      && this.optionsRef.close()) || Promise.resolve();\n    const hideBackdrop = this.backdropRef && this.backdropRef.close();\n    this._invalidateTriggerLayouts();\n    this._isMenuClosing = true;\n    return Promise.all([hideMenu, hideBackdrop])\n      .then(() => {\n        this._isMenuClosing = false;\n      })\n      .catch(err => {\n        this._isMenuClosing = false;\n        throw err;\n      })\n  }\n\n  toggleMenu(name) {\n    const menu = this._menuRegistry.getMenu(name);\n    if (!menu) {\n      console.warn(`menu with name ${name} does not exist`);\n      return Promise.resolve();\n    }\n    debug('toggle menu', name);\n    if (menu.instance._getOpened()) {\n      return this.closeMenu();\n    } else {\n      return this.openMenu(name);\n    }\n  }\n\n  _notify(forceUpdate) {\n    const NULL = {};\n    const prev = this.openedMenu || NULL;\n    const next = this._menuRegistry.getAll().find(menu => menu.instance.isOpen()) || NULL;\n    // set newly opened menu before any callbacks are called\n    this.openedMenu = next === NULL ? undefined : next;\n    if (!forceUpdate && !this._isRenderNeeded(prev, next)) {\n      return Promise.resolve();\n    }\n    debug('notify: next menu:', next.name, ' prev menu:', prev.name);\n    let afterSetState = undefined;\n    let beforeSetState = () => Promise.resolve();\n    if (prev.name !== next.name) {\n      if (prev !== NULL && !prev.instance.isOpen()) {\n        beforeSetState = () => this._beforeClose(prev)\n          .then(() => prev.instance.props.onClose());\n      }\n      if (next !== NULL) {\n        next.instance.props.onOpen();\n        afterSetState = () => this._initOpen(next);\n      }\n    }\n    return beforeSetState().then(() => {\n      if (!this._placeholderRef) {\n        debug('setState ignored - maybe the context was unmounted')\n        return\n      }\n      this._placeholderRef.setState({ openedMenuName: this.openedMenu && this.openedMenu.name }, afterSetState);\n      debug('notify ended');\n    });\n  }\n\n  /**\n  Compares states of opened menu to determine if rerender is needed.\n  */\n  _isRenderNeeded(prev, next) {\n    if (prev === next) {\n      debug('_isRenderNeeded: skipping - no change');\n      return false;\n    }\n    if (prev.name !== next.name) {\n      return true;\n    }\n    const { triggerLayout, optionsLayout } = next;\n    if (!triggerLayout || !optionsLayout) {\n      debug('_isRenderNeeded: skipping - no trigger or options layout');\n      return false;\n    }\n    return true;\n  }\n\n  render() {\n    const { style, customStyles } = this.props;\n    debug('render menu', this.isMenuOpen(), this._ownLayout);\n    return (\n      <PopupMenuContext.Provider value={this.menuCtx}>\n        <View style={styles.flex1} onLayout={this._onLayout}>\n          <View style={[\n            styles.flex1,\n            customStyles.menuContextWrapper,\n            customStyles.menuProviderWrapper,\n            style,\n          ]}>\n            { this.props.children }\n          </View>\n          <SafeAreaView\n            style={styles.safeArea}\n            pointerEvents=\"box-none\"\n          >\n            <View\n              style={styles.flex1}\n              collapsable={false}\n              pointerEvents=\"box-none\"\n              onLayout={this._onSafeAreaLayout}/>\n            <MenuPlaceholder\n              ctx={this}\n              backdropStyles={customStyles.backdrop}\n              ref={this._onPlaceholderRef}\n              />\n          </SafeAreaView>\n        </View>\n      </PopupMenuContext.Provider>\n    );\n  }\n\n  onBackdropRef = r => {\n    this.backdropRef = r;\n  }\n\n  onOptionsRef = r => {\n    this.optionsRef = r;\n  }\n\n  _onPlaceholderRef = r => this._placeholderRef = r;\n\n  _getOpenedMenu() {\n    const name = this._placeholderRef && this._placeholderRef.state.openedMenuName;\n    const menu = name ? this._menuRegistry.getMenu(name) : undefined;\n    debug('_getOpenedMenu', name, !!menu)\n    return menu\n  }\n\n  _onBackdropPress = () => {\n    debug('on backdrop press');\n    const menu = this._getOpenedMenu();\n    if (menu) {\n      menu.instance.props.onBackdropPress();\n    }\n    this.closeMenu();\n  }\n\n  _isInitialized() {\n    return !!this._ownLayout;\n  }\n\n  _initOpen(menu) {\n    debug('opening', menu.name);\n    const trigger = menu.instance._getTrigger();\n    measure(trigger).then(triggerLayout => {\n      debug('got trigger measurements', triggerLayout);\n      this._menuRegistry.updateLayoutInfo(menu.name, { triggerLayout });\n      this.backdropRef && this.backdropRef.open()\n      this._notify();\n    });\n  }\n\n  _onOptionsLayout(e, name, isOutside) {\n    const optionsLayout = e.nativeEvent.layout;\n    optionsLayout.isOutside = isOutside;\n    debug('got options layout', optionsLayout);\n    this._menuRegistry.updateLayoutInfo(name, { optionsLayout });\n    this._notify();\n  }\n\n  _makeOptions() {\n    const { instance, triggerLayout, optionsLayout } = this._getOpenedMenu();\n    const options = instance._getOptions();\n    const { renderer, rendererProps } = instance.props;\n    const windowLayout = this._ownLayout;\n    const safeAreaLayout = this._safeAreaLayout;\n    const { optionsContainerStyle, renderOptionsContainer, customStyles } = options.props;\n    const optionsRenderer = renderOptionsContainer || defaultOptionsContainerRenderer;\n    const isOutside = !triggerLayout || !optionsLayout;\n    const onLayout = e => this._onOptionsLayout(e, instance.getName(), isOutside);\n    const style = [optionsContainerStyle, customStyles.optionsContainer];\n    const layouts = { windowLayout, triggerLayout, optionsLayout, safeAreaLayout };\n    const props = { ...rendererProps, style, onLayout, layouts };\n    const optionsType = isOutside ? MenuOutside : renderer;\n    if (isClassComponent(optionsType)) {\n      props.ref = this.onOptionsRef;\n    }\n    return React.createElement(optionsType, props, optionsRenderer(options));\n  }\n\n  _onLayout = ({ nativeEvent: { layout } }) => {\n    if (layoutsEqual(this._ownLayout, layout)) {\n      return;\n    }\n    this._ownLayout = layout;\n    debug('context layout has changed', this._ownLayout);\n    if (!this.isMenuOpen()) {\n      return;\n    }\n    const { instance } = this._getOpenedMenu();\n    const trigger = instance._getTrigger();\n    measure(trigger).then(triggerLayout => {\n      debug('got trigger measurements after context layout change', triggerLayout);\n      this._menuRegistry.updateLayoutInfo(instance.getName(), { triggerLayout });\n      // force update as own layout has changed\n      this._notify(true);\n    });\n  }\n\n  _onSafeAreaLayout = ({ nativeEvent: { layout } }) => {\n    if (layoutsEqual(this._safeAreaLayout, layout)) {\n      return;\n    }\n    this._safeAreaLayout = layout;\n    debug('safeArea layout has changed', this._safeAreaLayout);\n    if (!this.isMenuOpen()) {\n      return;\n    }\n    this._notify(true);\n  }\n\n}\n\nMenuProvider.propTypes = {\n  customStyles: PropTypes.object,\n  backHandler: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n  skipInstanceCheck: PropTypes.bool,\n}\n\nMenuProvider.defaultProps = {\n  customStyles: {},\n  backHandler: false,\n  skipInstanceCheck: false,\n};\n\nconst styles = StyleSheet.create({\n  flex1: {\n    flex: 1,\n  },\n  safeArea: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n  },\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { View } from 'react-native';\nimport { withCtx } from './MenuProvider';\n\nexport class MenuOptions extends React.Component {\n\n  updateCustomStyles(_props) {\n    const { customStyles } = _props\n    const menu = this.props.ctx.menuActions._getOpenedMenu()\n    // FIXME react 16.3 workaround for ControlledExample!\n    if (!menu) return\n    const menuName = menu.instance.getName()\n    this.props.ctx.menuRegistry.setOptionsCustomStyles(menuName, customStyles)\n  }\n\n  componentDidMount() {\n    this.updateCustomStyles(this.props)\n  }\n\n  componentDidUpdate() {\n    this.updateCustomStyles(this.props)\n  }\n\n  render() {\n    const { customStyles, style, children } = this.props\n    return (\n      <View style={[customStyles.optionsWrapper, style]}>\n        {children}\n      </View>\n    )\n  }\n}\n\nMenuOptions.propTypes = {\n  customStyles: PropTypes.object,\n  renderOptionsContainer: PropTypes.func,\n  optionsContainerStyle: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.number,\n    PropTypes.array,\n  ]),\n};\n\nMenuOptions.defaultProps = {\n  customStyles: {},\n};\n\nexport default withCtx(MenuOptions);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { View, Text } from 'react-native';\nimport { debug } from './logger.js';\nimport { makeTouchable } from './helpers';\nimport { withCtx } from './MenuProvider';\n\nexport class MenuTrigger extends Component {\n\n  _onPress() {\n    debug('trigger onPress');\n    this.props.onPress && this.props.onPress();\n    this.props.ctx.menuActions.openMenu(this.props.menuName);\n  }\n\n  render() {\n    const { disabled, onRef, text, children, style, customStyles, menuName, \n      triggerOnLongPress, onAlternativeAction, testID, ...other } = this.props;\n    const onPress = () => !disabled && this._onPress();\n    const { Touchable, defaultTouchableProps } = makeTouchable(customStyles.TriggerTouchableComponent);\n    return (\n      <View ref={onRef} collapsable={false} style={customStyles.triggerOuterWrapper}>\n        <Touchable\n          testID={testID}\n          onPress={triggerOnLongPress ? onAlternativeAction : onPress}\n          onLongPress={triggerOnLongPress ? onPress : onAlternativeAction}\n          {...defaultTouchableProps}\n          {...customStyles.triggerTouchable}\n        >\n          <View {...other} style={[customStyles.triggerWrapper, style]}>\n            {text ? <Text style={customStyles.triggerText}>{text}</Text> : children}\n          </View>\n        </Touchable>\n      </View>\n    );\n  }\n\n}\n\nMenuTrigger.propTypes = {\n  disabled: PropTypes.bool,\n  text: PropTypes.string,\n  onPress: PropTypes.func,\n  onAlternativeAction: PropTypes.func,\n  customStyles: PropTypes.object,\n  triggerOnLongPress: PropTypes.bool,\n  testID: PropTypes.string,\n};\n\nMenuTrigger.defaultProps = {\n  disabled: false,\n  customStyles: {},\n  testID: undefined,\n};\n\nexport default withCtx(MenuTrigger)\n","import React from 'react';\nimport { I18nManager, Animated, Easing, StyleSheet, PixelRatio } from 'react-native';\nimport { OPEN_ANIM_DURATION, CLOSE_ANIM_DURATION, USE_NATIVE_DRIVER } from '../constants';\n\nconst axisPosition = (oDim, wDim, tPos, tDim) => {\n  // if options are bigger than window dimension, then render at 0\n  if (oDim > wDim) {\n    return 0;\n  }\n  // render at trigger position if possible\n  if (tPos + oDim <= wDim) {\n    return tPos;\n  }\n  // aligned to the trigger from the bottom (right)\n  if (tPos + tDim - oDim >= 0) {\n    return tPos + tDim - oDim;\n  }\n  // compute center position\n  let pos = Math.round(tPos + (tDim / 2) - (oDim / 2));\n  // check top boundary\n  if (pos < 0) {\n    return 0;\n  }\n  // check bottom boundary\n  if (pos + oDim > wDim) {\n    return wDim - oDim;\n  }\n  // if everything ok, render in center position\n  return pos;\n};\n\nfunction fit(pos, len, minPos, maxPos) {\n  if (pos === undefined) {\n    return undefined;\n  }\n  if (pos + len > maxPos) {\n    pos = maxPos - len;\n  }\n  if (pos < minPos) {\n    pos = minPos;\n  }\n  return pos;\n}\n// fits options (position) into safeArea\nexport const fitPositionIntoSafeArea = (position, layouts) => {\n  const { windowLayout, safeAreaLayout, optionsLayout } = layouts;\n  if (!safeAreaLayout) {\n    return position;\n  }\n  const { x: saX, y: saY, height: saHeight, width: saWidth } = safeAreaLayout;\n  const { height: oHeight, width: oWidth } = optionsLayout;\n  const { width: wWidth } = windowLayout;\n  let { top, left, right } = position;\n  top = fit(top, oHeight, saY, saY + saHeight);\n  left = fit(left, oWidth, saX, saX + saWidth)\n  right = fit(right, oWidth, wWidth - saX - saWidth, saX)\n  return { top, left, right };\n}\n\nexport const computePosition = (layouts, isRTL) => {\n  const { windowLayout, triggerLayout, optionsLayout } = layouts;\n  const { x: wX, y: wY, width: wWidth, height: wHeight } = windowLayout;\n  const { x: tX, y: tY, height: tHeight, width: tWidth } = triggerLayout;\n  const { height: oHeight, width: oWidth } = optionsLayout;\n  const top = axisPosition(oHeight, wHeight, tY - wY, tHeight);\n  const left = axisPosition(oWidth, wWidth, tX - wX, tWidth);\n  const start = isRTL ? 'right' : 'left';\n  const position = { top, [start]: left };\n  return fitPositionIntoSafeArea(position, layouts);\n};\n\nexport default class ContextMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      scaleAnim: new Animated.Value(0.1),\n    };\n  }\n\n  componentDidMount() {\n    Animated.timing(this.state.scaleAnim, {\n      duration: OPEN_ANIM_DURATION,\n      toValue: 1,\n      easing: Easing.out(Easing.cubic),\n      useNativeDriver: USE_NATIVE_DRIVER,\n    }).start();\n  }\n\n  close() {\n    return new Promise(resolve => {\n      Animated.timing(this.state.scaleAnim, {\n        duration: CLOSE_ANIM_DURATION,\n        toValue: 0,\n        easing: Easing.in(Easing.cubic),\n        useNativeDriver: USE_NATIVE_DRIVER,\n      }).start(resolve);\n    });\n  }\n\n  render() {\n    const { style, children, layouts, ...other } = this.props;\n    const animation = {\n      transform: [ { scale: this.state.scaleAnim } ],\n      opacity: this.state.scaleAnim,\n    };\n    const position = computePosition(layouts, I18nManager.isRTL);\n    return (\n      <Animated.View {...other} style={[styles.options, style, animation, position]}>\n        {children}\n      </Animated.View>\n    );\n  }\n\n}\n\n// public exports\nContextMenu.computePosition = computePosition;\nContextMenu.fitPositionIntoSafeArea = fitPositionIntoSafeArea;\n\nexport const styles = StyleSheet.create({\n  options: {\n    position: 'absolute',\n    borderRadius: 2,\n    backgroundColor: 'white',\n    width: PixelRatio.roundToNearestPixel(200),\n\n    // Shadow only works on iOS.\n    shadowColor: 'black',\n    shadowOpacity: 0.3,\n    shadowOffset: { width: 3, height: 3 },\n    shadowRadius: 4,\n\n    // This will elevate the view on Android, causing shadow to be drawn.\n    elevation: 5,\n  },\n});\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { View } from 'react-native';\nimport MenuOptions from './MenuOptions';\nimport MenuTrigger from './MenuTrigger';\nimport ContextMenu from './renderers/ContextMenu';\nimport { makeName } from './helpers';\nimport { debug, CFG } from './logger';\nimport { withCtx } from './MenuProvider';\n\nconst isRegularComponent = c => c.type !== MenuOptions && c.type !== MenuTrigger;\nconst isTrigger = c => c.type === MenuTrigger;\nconst isMenuOptions = c => c.type === MenuOptions;\n\nexport class Menu extends Component {\n\n  constructor(props) {\n    super(props);\n    this._name = this.props.name || makeName();\n    this._forceClose = false;\n    const { ctx } = props;\n    if(!(ctx && ctx.menuActions)) {\n      throw new Error(\"Menu component must be ancestor of MenuProvider\");\n    }\n  }\n\n  componentDidMount() {\n    if (!this._validateChildren()) {\n      return;\n    }\n    debug('subscribing menu', this._name);\n    this.props.ctx.menuRegistry.subscribe(this);\n    this.props.ctx.menuActions._notify();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.name !== prevProps.name) {\n      console.warn('Menu name cannot be changed');\n    }\n    // force update if menu is opened as its content might have changed\n    const force = this.isOpen();\n    debug('component did update', this._name, force);\n    this.props.ctx.menuActions._notify(force);\n  }\n\n  componentWillUnmount() {\n    debug('unsubscribing menu', this._name);\n    if (this.isOpen()) {\n      this._forceClose = true;\n      this.props.ctx.menuActions._notify();\n    }\n    this.props.ctx.menuRegistry.unsubscribe(this);\n  }\n\n  open() {\n    return this.props.ctx.menuActions.openMenu(this._name);\n  }\n\n  close() {\n    return this.props.ctx.menuActions.closeMenu();\n  }\n\n  isOpen() {\n    if (this._forceClose) {\n      return false;\n    }\n    return this.props.hasOwnProperty('opened') ? this.props.opened : this._opened;\n  }\n\n  getName() {\n    return this._name;\n  }\n\n  render() {\n    const { style } = this.props;\n    const children = this._reduceChildren();\n    return (\n      <View style={style}>\n        {children}\n      </View>\n    );\n  }\n\n  _reduceChildren() {\n    return React.Children.toArray(this.props.children).reduce((r, child) => {\n      if (isTrigger(child)) {\n        r.push(React.cloneElement(child, {\n          key: null,\n          menuName: this._name,\n          onRef: (t => this._trigger = t),\n        }));\n      }\n      if (isRegularComponent(child)) {\n        r.push(child);\n      }\n      return r;\n    }, []);\n  }\n\n  _getTrigger() {\n    return this._trigger;\n  }\n\n  _getOptions() {\n    return React.Children.toArray(this.props.children).find(isMenuOptions);\n  }\n\n  _getOpened() {\n    return this._opened;\n  }\n\n  _setOpened(opened) {\n    this._opened = opened;\n  }\n\n  _validateChildren() {\n    const children = React.Children.toArray(this.props.children);\n    const options = children.find(isMenuOptions);\n    if (!options) {\n      console.warn('Menu has to contain MenuOptions component');\n    }\n    const trigger = children.find(isTrigger);\n    if (!trigger) {\n      console.warn('Menu has to contain MenuTrigger component');\n    }\n    return options && trigger;\n  }\n\n}\n\nMenu.propTypes = {\n  name: PropTypes.string,\n  renderer: PropTypes.func,\n  rendererProps: PropTypes.object,\n  onSelect: PropTypes.func,\n  onOpen: PropTypes.func,\n  onClose: PropTypes.func,\n  opened: PropTypes.bool,\n  onBackdropPress: PropTypes.func,\n};\n\nMenu.defaultProps = {\n  renderer: ContextMenu,\n  rendererProps: {},\n  onSelect: () => {},\n  onOpen: () => {},\n  onClose: () => {},\n  onBackdropPress: () => {},\n};\n\nconst MenuExternal = withCtx(Menu);\nObject.defineProperty(MenuExternal, 'debug', \n    { \n      get: function() { return CFG.debug }, \n      set: function(val) { CFG.debug = val }, \n    });\nMenuExternal.setDefaultRenderer = (renderer) => {\n  Menu.defaultProps.renderer = renderer;\n}\nMenuExternal.setDefaultRendererProps = (rendererProps) => {\n  Menu.defaultProps.rendererProps = rendererProps;\n}\nexport default MenuExternal;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { View, StyleSheet, Text } from 'react-native';\nimport { debug } from './logger';\nimport { makeTouchable } from './helpers';\nimport { withCtx } from './MenuProvider';\n\n\nexport class MenuOption extends Component {\n\n  _onSelect() {\n    const { value } = this.props;\n    const onSelect = this.props.onSelect || this._getMenusOnSelect()\n    const shouldClose = onSelect(value) !== false;\n    debug('select option', value, shouldClose);\n    if (shouldClose) {\n        this.props.ctx.menuActions.closeMenu();\n    }\n  }\n\n  _getMenusOnSelect() {\n    const menu = this.props.ctx.menuActions._getOpenedMenu();\n    return menu.instance.props.onSelect;\n  }\n\n  _getCustomStyles() {\n    // FIXME react 16.3 workaround for ControlledExample!\n    const menu = this.props.ctx.menuActions._getOpenedMenu() || {}\n    const { optionsCustomStyles } = menu;\n    return {\n      ...optionsCustomStyles,\n      ...this.props.customStyles,\n    }\n  }\n\n  render() {\n    const { text, disabled, disableTouchable, children, style, testID } = this.props;\n    const customStyles = this._getCustomStyles()\n    if (text && React.Children.count(children) > 0) {\n      console.warn(\"MenuOption: Please don't use text property together with explicit children. Children are ignored.\");\n    }\n    if (disabled) {\n      const disabledStyles = [defaultStyles.optionTextDisabled, customStyles.optionText];\n      return (\n        <View style={[defaultStyles.option, customStyles.optionWrapper, style]}>\n          {text ? <Text style={disabledStyles}>{text}</Text> : children}\n        </View>\n      );\n    }\n    const rendered = (\n      <View style={[defaultStyles.option, customStyles.optionWrapper, style]}>\n        {text ? <Text style={customStyles.optionText}>{text}</Text> : children}\n      </View>\n    );\n    if (disableTouchable) {\n      return rendered;\n    }\n    else {\n      const { Touchable, defaultTouchableProps } = makeTouchable(customStyles.OptionTouchableComponent);\n      return (\n        <Touchable\n          testID={testID}\n          onPress={() => this._onSelect()}\n          {...defaultTouchableProps}\n          {...customStyles.optionTouchable}\n        >\n          {rendered}\n        </Touchable>\n      );\n    }\n  }\n}\n\nMenuOption.propTypes = {\n  disabled: PropTypes.bool,\n  disableTouchable: PropTypes.bool,\n  onSelect: PropTypes.func,\n  text: PropTypes.string,\n  value: PropTypes.any,\n  customStyles: PropTypes.object,\n  testID: PropTypes.string,\n};\n\nMenuOption.defaultProps = {\n  disabled: false,\n  disableTouchable: false,\n  customStyles: {},\n  testID: undefined,\n};\n\nconst defaultStyles = StyleSheet.create({\n  option: {\n    padding: 5,\n    backgroundColor: 'transparent',\n  },\n  optionTextDisabled: {\n    color: '#ccc',\n  },\n});\n\nexport default withCtx(MenuOption);\n","import React from 'react';\nimport { I18nManager, View } from 'react-native';\n\nimport { computePosition, styles } from './ContextMenu';\n\n/**\nSimplified version of ContextMenu without animation.\n*/\nexport default class NotAnimatedContextMenu extends React.Component {\n\n  render() {\n    const { style, children, layouts, ...other } = this.props;\n    const position = computePosition(layouts, I18nManager.isRTL);\n    return (\n      <View {...other} style={[styles.options, style, position]}>\n        {children}\n      </View>\n    );\n  }\n\n}\n","import React from 'react';\nimport { Animated, StyleSheet, Easing } from 'react-native';\nimport { OPEN_ANIM_DURATION, CLOSE_ANIM_DURATION, USE_NATIVE_DRIVER } from '../constants';\n\nexport const computePosition = (layouts) => {\n  const { windowLayout, optionsLayout } = layouts\n  const { height: wHeight } = windowLayout;\n  const { height: oHeight } = optionsLayout;\n  const top  = wHeight - oHeight;\n  const left = 0, right = 0;\n  const position = { top, left, right };\n  // TODO what is the best way to handle safeArea?\n  // most likely some extra paddings inside SlideInMenu \n  return position;\n}\n\nexport default class SlideInMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      slide: new Animated.Value(0),\n    };\n  }\n\n  componentDidMount() {\n    Animated.timing(this.state.slide, {\n      duration: OPEN_ANIM_DURATION,\n      toValue: 1,\n      easing: Easing.out(Easing.cubic),\n      useNativeDriver: USE_NATIVE_DRIVER,\n    }).start();\n  }\n\n  close() {\n    return new Promise(resolve => {\n      Animated.timing(this.state.slide, {\n        duration: CLOSE_ANIM_DURATION,\n        toValue: 0,\n        easing: Easing.in(Easing.cubic),\n        useNativeDriver: USE_NATIVE_DRIVER,\n      }).start(resolve);\n    });\n  }\n\n  render() {\n    const { style, children, layouts, ...other } = this.props;\n    const { height: oHeight } = layouts.optionsLayout;\n    const animation = {\n      transform: [{\n        translateY: this.state.slide.interpolate({\n          inputRange: [0, 1],\n          outputRange: [oHeight, 0],\n        }),\n      }],\n    };\n    const position = computePosition(layouts);\n    return (\n      <Animated.View style={[styles.options, style, animation, position]} {...other}>\n        {children}\n      </Animated.View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  options: {\n    position: 'absolute',\n    backgroundColor: 'white',\n\n    // Shadow only works on iOS.\n    shadowColor: 'black',\n    shadowOpacity: 0.3,\n    shadowOffset: { width: 3, height: 3 },\n    shadowRadius: 4,\n\n    // This will elevate the view on Android, causing shadow to be drawn.\n    elevation: 5,\n  },\n});\n","import { I18nManager, Animated, Easing, StyleSheet, View } from 'react-native';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { OPEN_ANIM_DURATION, CLOSE_ANIM_DURATION, USE_NATIVE_DRIVER } from '../constants.js';\n\nconst popoverPadding = 7;\nconst anchorSize = 15;\nconst anchorHyp = Math.sqrt(anchorSize*anchorSize + anchorSize*anchorSize);\nconst anchorOffset = (anchorHyp + anchorSize) / 2 - popoverPadding;\n\n// left/top placement\nfunction axisNegativeSideProperties({ oDim, tPos }) {\n  return { position: tPos - oDim };\n}\n\n// right/bottom placement\nfunction axisPositiveSideProperties({ tPos, tDim }) {\n  // substract also anchor placeholder from the beginning\n  return { position: tPos + tDim - anchorSize };\n}\n\n// computes offsets (off screen overlap) of popover when trying to align it to the center\nfunction centeringProperties({ oDim, wDim, tPos, tDim }) {\n  const center = Math.round(tPos + (tDim / 2));\n  const leftOffset = (oDim / 2) - center;\n  const rightOffset = center + (oDim / 2) - wDim;\n  return { center, leftOffset, rightOffset };\n}\n\n/**\n * Computes position and offset of popover when trying to align it to the triger center.\n * It consideres window boundaries.\n * Returns object with keys:\n *   - position: <Number> Absolute position - top/left,\n *   - offset: <Number> window overlapping size if window boundaries were not considered\n */\nfunction axisCenteredPositionProperties(options) {\n  const { oDim, wDim } = options;\n  const { center, leftOffset, rightOffset } = centeringProperties(options);\n  if (leftOffset > 0 || rightOffset > 0) {\n    // right/bottom position is better\n    if (leftOffset < rightOffset) {\n      return { offset: rightOffset, position: wDim - oDim };\n    }\n    // left/top position is better\n    if (rightOffset < leftOffset) {\n      return { offset: -leftOffset, position: 0 };\n    }\n  }\n  // centered position\n  return { offset: 0, position: center - oDim / 2 };\n}\n\n/* Evaluate centering placement */\nfunction getCenteringPrice(options) {\n  const { leftOffset, rightOffset } = centeringProperties(options);\n  // TODO: currently shifted popovers have higher price,\n  // popover shift could be taken into account with the same price\n  return Math.max(0, leftOffset) + Math.max(0, rightOffset);\n}\n\n/* Evaluate top placement */\nfunction getTopPrice(hOptions, vOptions) {\n  const centerOffset = getCenteringPrice(vOptions)\n  const sideOffset =  Math.max(0, hOptions.oDim - hOptions.tPos)\n  return centerOffset + sideOffset\n}\n\n/* Evaluate bottom placement */\nfunction getBottomPrice(hOptions, vOptions) {\n  const centerOffset = getCenteringPrice(vOptions)\n  const sideOffset =  Math.max(0, hOptions.tPos + hOptions.tDim + hOptions.oDim - hOptions.wDim)\n  return centerOffset + sideOffset\n}\n\n/* Evaluate left placement */\nfunction getLeftPrice(hOptions, vOptions) {\n  const centerOffset = getCenteringPrice(hOptions)\n  const sideOffset =  Math.max(0, vOptions.oDim - vOptions.tPos)\n  return centerOffset + sideOffset\n}\n\n/* Evaluate right placement */\nfunction getRightPrice(hOptions, vOptions) {\n  const centerOffset = getCenteringPrice(hOptions)\n  const sideOffset =  Math.max(0, vOptions.tPos + vOptions.tDim + vOptions.oDim - vOptions.wDim)\n  return centerOffset + sideOffset\n}\n\nfunction getStartPosKey(isRTL) {\n  return isRTL ? 'right' : 'left';\n}\n\nfunction topProperties(hOptions, vOptions, isRTL) {\n  const centered = axisCenteredPositionProperties(vOptions);\n  const side = axisNegativeSideProperties(hOptions);\n  return {\n    position: {\n      top: side.position,\n      [getStartPosKey(isRTL)]: centered.position,\n    },\n    offset: centered.offset,\n    placement: 'top',\n  };\n}\n\nfunction bottomProperties(hOptions, vOptions, isRTL) {\n  const centered = axisCenteredPositionProperties(vOptions);\n  const side = axisPositiveSideProperties(hOptions);\n  return {\n    position: {\n      top: side.position,\n      [getStartPosKey(isRTL)]: centered.position,\n    },\n    offset: centered.offset,\n    placement: 'bottom',\n  };\n}\n\nfunction rightProperties(hOptions, vOptions, isRTL) {\n  const centered = axisCenteredPositionProperties(hOptions);\n  const side = axisPositiveSideProperties(vOptions);\n  return {\n    position: {\n      top: centered.position,\n      [getStartPosKey(isRTL)]: side.position,\n    },\n    offset: centered.offset,\n    placement: 'right',\n  };\n}\n\nfunction leftProperties(hOptions, vOptions, isRTL) {\n  const centered = axisCenteredPositionProperties(hOptions);\n  const side = axisNegativeSideProperties(vOptions);\n  return {\n    position: {\n      top: centered.position,\n      [getStartPosKey(isRTL)]: side.position,\n    },\n    offset: centered.offset,\n    placement: 'left',\n  };\n}\n\n// maps placement to function which computes correct properties\nconst propertiesByPlacement = {\n  top: topProperties,\n  bottom: bottomProperties,\n  left: leftProperties,\n  right: rightProperties,\n};\n\n/**\n * Computes properties needed for drawing popover.\n * Returns object with keys:\n *   - position: <Object> { top: Number, left: Number } - popover absolute position\n *   - placement: <Enum> top|left|top|bottom - position to the trigger\n *   - offset: <Number> value by which must be anchor shifted\n */\nexport function computeProperties (\n  { windowLayout, triggerLayout, optionsLayout },\n  placement,\n  preferredPlacement,\n  isRTL,\n) {\n  const { x: wX, y: wY, width: wWidth, height: wHeight } = windowLayout;\n  const { x: tX, y: tY, height: tHeight, width: tWidth } = triggerLayout;\n  const { height: oHeight, width: oWidth } = optionsLayout;\n  const hOptions = {\n    oDim: oHeight + popoverPadding * 2,\n    wDim: wHeight,\n    tPos: tY - wY,\n    tDim: tHeight,\n  };\n  const vOptions = {\n    oDim: oWidth + popoverPadding * 2,\n    wDim: wWidth,\n    tPos: tX - wX,\n    tDim: tWidth,\n  };\n  if (placement !== 'auto' && propertiesByPlacement[placement]) {\n    return propertiesByPlacement[placement](hOptions, vOptions, isRTL)\n  }\n\n  const prices = {\n    top: getTopPrice(hOptions, vOptions),\n    bottom: getBottomPrice(hOptions, vOptions),\n    right: getRightPrice(hOptions, vOptions),\n    left: getLeftPrice(hOptions, vOptions),\n  };\n  const bestPrice = Object.values(prices).sort((a, b) => a - b)[0]\n  const bestPlacement = prices[preferredPlacement] === bestPrice\n    ? preferredPlacement\n    : Object.keys(prices).find(pl => prices[pl] === bestPrice)\n\n  return propertiesByPlacement[bestPlacement](hOptions, vOptions, isRTL)\n}\n\nexport default class Popover extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      scaleAnim: new Animated.Value(0.1),\n    };\n  }\n\n  componentDidMount() {\n    Animated.timing(this.state.scaleAnim, {\n      duration: OPEN_ANIM_DURATION,\n      toValue: 1,\n      easing: Easing.out(Easing.cubic),\n      useNativeDriver: USE_NATIVE_DRIVER,\n    }).start();\n  }\n\n  close() {\n    return new Promise(resolve => {\n      Animated.timing(this.state.scaleAnim, {\n        duration: CLOSE_ANIM_DURATION,\n        toValue: 0,\n        easing: Easing.in(Easing.cubic),\n        useNativeDriver: USE_NATIVE_DRIVER,\n      }).start(resolve);\n    });\n  }\n\n  render() {\n    const {\n      style,\n      children,\n      layouts,\n      anchorStyle,\n      preferredPlacement,\n      placement: userPlacement,\n      ...other\n    } = this.props;\n    const isRTL = I18nManager.isRTL;\n    const animation = {\n      transform: [ { scale: this.state.scaleAnim } ],\n      opacity: this.state.scaleAnim,\n    };\n    const { position, placement, offset } = computeProperties(\n      layouts,\n      userPlacement,\n      preferredPlacement,\n      isRTL,\n    );\n    return (\n      <Animated.View\n        style={[\n          styles.animated,\n          animation,\n          position,\n          getContainerStyle({ placement, isRTL }),\n        ]}\n        pointerEvents=\"box-none\"\n      >\n        <View\n          style={[\n            styles.anchor,\n            dynamicAnchorStyle({ placement, offset, isRTL }),\n            anchorStyle,\n          ]}\n        />\n        <View {...other} style={[styles.options, style]}>\n          {children}\n        </View>\n      </Animated.View>\n    );\n  }\n\n}\n\nPopover.propTypes = {\n  anchorStyle: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.number,\n    PropTypes.array,\n  ]),\n  placement: PropTypes.oneOf(['auto', 'top', 'right', 'bottom', 'left']),\n  preferredPlacement: PropTypes.oneOf(['top', 'right', 'bottom', 'left']),\n};\n\nPopover.defaultProps = {\n  preferredPlacement: 'top',\n  placement: 'auto',\n};\n\nconst getContainerStyle = ({ placement, isRTL }) => ({\n  left: {\n    flexDirection: isRTL ? 'row' : 'row-reverse',\n  },\n  right: {\n    flexDirection: isRTL ? 'row-reverse' : 'row',\n  },\n  top: {\n    flexDirection: 'column-reverse',\n  },\n  bottom: {\n    flexDirection: 'column',\n  },\n})[placement]\n\nconst dynamicAnchorStyle = ({ offset, placement, isRTL }) => {\n  const start = getStartPosKey(isRTL);\n  switch (placement) {\n    case 'right':\n      return {\n        top: offset,\n        transform: [\n          { translateX: anchorOffset },\n          { rotate: '45deg' },\n        ],\n      };\n    case 'left':\n      return {\n        top: offset,\n        transform: [\n          { translateX: -anchorOffset },\n          { rotate: '45deg' },\n        ],\n      };\n    case 'top':\n      return {\n        [start]: offset,\n        transform: [\n          { translateY: -anchorOffset },\n          { rotate: '45deg' },\n        ],\n      };\n    case 'bottom':\n      return {\n        [start]: offset,\n        transform: [\n          { translateY: anchorOffset },\n          { rotate: '45deg' },\n        ],\n      };\n  }\n}\n\nexport const styles = StyleSheet.create({\n  animated: {\n    padding: popoverPadding,\n    backgroundColor: 'transparent',\n    position: 'absolute',\n    alignItems: 'center',\n  },\n  options: {\n    borderRadius: 2,\n    minWidth: anchorHyp,\n    minHeight: anchorHyp,\n    backgroundColor: 'white',\n\n    // Shadow only works on iOS.\n    shadowColor: 'black',\n    shadowOpacity: 0.3,\n    shadowOffset: { width: 3, height: 3 },\n    shadowRadius: 4,\n\n    // This will elevate the view on Android, causing shadow to be drawn.\n    elevation: 5,\n  },\n  anchor: {\n    width: anchorSize,\n    height: anchorSize,\n    backgroundColor: 'white',\n    elevation: 5,\n  },\n});\n","import './polyfills';\nimport { deprecatedComponent } from './helpers'\n\nimport Menu from './Menu';\nimport MenuProvider, { withCtx } from './MenuProvider';\nimport MenuOption from './MenuOption';\nimport MenuOptions from './MenuOptions';\nimport MenuTrigger from './MenuTrigger';\n\nimport ContextMenu from './renderers/ContextMenu';\nimport NotAnimatedContextMenu from './renderers/NotAnimatedContextMenu';\nimport SlideInMenu from './renderers/SlideInMenu';\nimport Popover from './renderers/Popover';\nconst renderers = { ContextMenu, SlideInMenu, NotAnimatedContextMenu, Popover };\n\nconst MenuContext = deprecatedComponent(\n  'MenuContext is deprecated and it might be removed in future releases, use MenuProvider instead.',\n  ['openMenu', 'toggleMenu', 'closeMenu', 'isMenuOpen'],\n)(MenuProvider);\n\nexport {\n  Menu as default,\n  Menu,\n  MenuProvider,\n  MenuContext,\n  MenuOption,\n  MenuOptions,\n  MenuTrigger,\n  renderers,\n  withCtx as withMenuContext,\n};\n"]},"metadata":{},"sourceType":"script"}